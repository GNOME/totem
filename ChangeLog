2005-06-06  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_open_with_subtitle): Fix detection of still images
	with newer versions of xine-lib

2006-06-04  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "gl" to ALL_LINGUAS.

============ Version 1.0.3

2005-05-23  Bastien Nocera  <hadess@hadess.net>

	* configure.in: 1.0.3

2005-05-23  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd

2005-05-22  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_set_zoom):
	* src/totem.c: (totem_action_zoom), (totem_action_zoom_relative),
	(totem_action_zoom_reset): avoid crashes when zoom rate gets negative
	(Closes: #305137), desensitise menu items when boundaries are reached
	(from HEAD)

2005-05-20  Bastien Nocera  <hadess@hadess.net>

	* src/totem-video-thumbnailer.c: (main): consider it finished after
	the video has been closed, to avoid CPU burn

2005-05-17  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-message-connection.[ch]:
	* src/egg-*.[ch]: update from libegg CVS HEAD (Closes: #304574)
	* src/totem.c: fix build warning

2005-05-17  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (got_stream_length):
	  Backport from HEAD for VBR MPEG.

2005-05-11  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_remote): don't show the fullscreen popup
	on remote events if the fullscreen window isn't focused

2005-05-07  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_add_pls):
	Read further in the .pls playlists to find the header
	(Patch by jonathan@kaolin.hn.org) (Closes: #303347)

2005-05-07  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (update_fullscreen_size), (move_popups),
	(size_changed_cb): fix the exit fullscreen button not appearing on the
	right screen (Closes: #302418) (backported from HEAD)

2005-05-02  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (load_video_out_driver):
	Don't try to load the xxmc driver, it seems to cause more problems
	than anything... (Closes: #302734)

============ Version 1.0.2

2005-04-30  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* configure.in: 1.0.2

2005-04-18  Bastien Nocera  <hadess@hadess.net>

	* src/totem-mozilla-plugin.cpp: update the project URL
	(Closes: #301042)

2005-04-18  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_set_show_visuals):
	  Don't set the gconf value always to true (backport from HEAD).

2005-04-14  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/totem-properties-view.c: (on_got_metadata_event),
	(on_timeout_event), (totem_properties_view_finalize),
	(totem_properties_view_set_location):
	  Fix metadata loading for GStreamer (backport from HEAD).

2005-04-10  Bastien Nocera  <hadess@hadess.net>

	* NEWS: update

2005-04-10  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_add_directory),
	(totem_pl_parser_parse):
	* src/totem-uri.c: (totem_uri_escape_for_display):
	* src/totem-uri.h:
	* src/totem.c: (totem_action_play), (totem_action_seek),
	(totem_action_set_mrl_with_warning), (totem_action_seek_relative),
	(commit_hide_skip_to):
	Add a totem_uri_escape_for_display function that tries harder
	than gnome-vfs's unescape for display to create valid UTF-8,
	don't use g_build_filename to construct a URI,
	always escape the info->name of a file (Closes: #172838)

2005-04-10  Bastien Nocera  <hadess@hadess.net>

        * src/totem-playlist.c: (totem_playlist_set_previous):
	Fix crasher bug when reaching the first element in a shuffled/repeat
	playlist (Closes: #172943)

2005-04-07  Bastien Nocera  <hadess@hadess.net>

	* data/uri.glade: make the dialog go away when 'Esc' is pressed

2005-04-07  Bastien Nocera  <hadess@hadess.net>

	* src/totem-statusbar.c: (totem_statusbar_init):
	Avoid the progress bar changing the height of the status bar
	(Closes: #172812)

2005-04-01  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (main): don't call g_set_application_name before
       gtk_init (spotted by Frederic Crozat)

2005-04-01  Steve Murphy  <murf@e-tools.com>

        * configure.in: Added "rw" to ALL_LINGUAS.

2005-03-30  Adi Attar  <aattar@cvs.gnome.org>

	* configure.in: Added "xh" to ALL_LINGUAS.

2005-03-27  Bastien Nocera  <hadess@hadess.net>

	* src/backend/bacon-resize.h:
	* src/backend/bacon-video-widget-gst.c:
	* src/backend/bacon-video-widget-xine.c:
	* src/backend/bacon-video-widget.h:
	* src/backend/baconvideowidget-marshal.list:
	* src/backend/bvw-test.c:
	* src/backend/debug.h:
	* src/backend/gstscreenshot.c:
	* src/backend/gstscreenshot.h:
	* src/backend/video-utils.c:
	* src/backend/video-utils.h:
	* src/plparse/test-parser.c:
	* src/plparse/totem-disc.c:
	* src/plparse/totem-disc.h:
	* src/plparse/totem-pl-parser.c:
	* src/plparse/totem-pl-parser.h:
	* src/plparse/totemplparser-marshal.list: remove all those files
	moved in HEAD

2005-03-27  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (xine_error): remove unused debug
	* src/totem-private.h:
	* src/totem-session.c:
	* src/totem.c: (on_recent_file_activate): move the
	totem_signal_(un)block_by_data helpers to totem-private.h, prevent
	double-open when activating files from the recent-files menu (from HEAD)

2005-03-24  Bastien Nocera  <hadess@hadess.net>

	* src/totem-stock-icons.c: (totem_set_default_icons),
	(totem_named_icons_init): use the new 'Leave fullscreen' stock icon
	* src/totem.c: (on_mouse_click_fullscreen),
	(on_video_motion_notify_event): Make popups disappear after 5
	seconds, as per HIG (Closes: #171354)

============ Version 1.0.1

2005-03-21  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* configure.in: actually require glib 2.6.3, verion 1.0.1
	* data/Makefile.am: fix distcheck

2005-03-21  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-message-connection.c: (server_cb): fix memset arguments
	being the wrong way around

2005-03-21  Bastien Nocera  <hadess@hadess.net>

	* data/mime-type-list.txt: add application/x-extension-m4a as a
	supported mime-type, for older shared-mime-info versions

2005-03-20  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/totem-mozilla-plugin.c: (totem_plugin_get_value):
	  Cosmetic fix (missing break).

2005-03-20  Bastien Nocera  <hadess@hadess.net>

	* src/totem-mozilla-plugin.c: (totem_plugin_destroy_instance),
	(totem_plugin_get_value): don't crash when we haven't forked the
	viewer, tell the browser we don't have a scriptable interface yet,
	starts of RealAudio support

2005-03-20  Bastien Nocera  <hadess@hadess.net>

	* src/totem-mozilla-viewer.c: (on_video_button_press_event): Haha!
	QuickTime actually shows the controls after the initial no controls

2005-03-20  Bastien Nocera  <hadess@hadess.net>

	* .cvsignore: upd
	* data/mozilla-viewer.glade: set the proper defaults on the
	seekbar
	* src/bacon-video-widget-xine.c: (xine_event),
	(bacon_video_widget_open_with_subtitle): don't push the EOS event
	when we get a redirect
	* src/totem-mozilla-viewer.c: (totem_embedded_set_pp_state),
	(totem_embedded_open), (totem_embedded_play), (on_play_pause),
	(on_got_redirect), (on_video_button_press_event), (on_eos_event),
	(on_tick), (totem_embedded_add_children), (main):
	more work on getting the proper states, make the play button stop
	working when we reach the end of a stream that Mozilla is feeding us,
	make the seekbar show the current progress

2005-03-20  Bastien Nocera  <hadess@hadess.net>

	* src/totem-mozilla-viewer.c: (totem_embedded_set_state),
	(totem_embedded_open), (on_got_redirect),
	(on_video_button_press_event), (on_eos_event),
	(totem_embedded_create_cursor), (embedded), (main): on EOS, we're
	not paused, but stopped. When we have an HREF attribute, set the
	cursor to be a play icon, so people know they need to click to play

2005-03-20  Bastien Nocera  <hadess@hadess.net>

	* src/totem-interface.c: (totem_interface_error_blocking):
	* src/totem-mozilla-viewer.c: (totem_embedded_open):
	Fix weird behaviour when a file can't be played (Mala Educacion trailer
	on apple.com)

2005-03-20  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: upd
	* src/totem-mozilla-options.h: added
	* src/totem-mozilla-plugin.c: (totem_plugin_fork),
	(totem_plugin_new_instance):
	* src/totem-mozilla-viewer.c: (on_video_button_press_event),
	(totem_embedded_add_children), (main):
	add support for the href attribute, allows to play the Hotel Rwanda
	trailer on apple.com

2005-03-19  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_add_directory):
	* src/totem-playlist.c: (drop_cb): Fix drag'n'dropping of filenames
	and directories with broken UTF-8

2005-03-18  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (got_eos):
	  Don't forward EOS on redirects...
	* src/totem-mozilla-viewer.c: (on_eos_event),
	(totem_embedded_add_children):
	  Implement EOS handler so we can re-view trailers.

2005-03-18  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/video-dev.c: (linux_add_video_dev), (linux_scan):
	  Fix for devices that don't export a 'model' file in /sys/. Base
	  devices only export a 'name' file.

2005-03-17  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updated

2005-03-17  Bastien Nocera  <hadess@hadess.net>

	* src/totem-mozilla-plugin.c: (totem_plugin_new_instance),
	(totem_plugin_write): added the autoplay attribute

2005-03-17  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* src/Makefile.am: only build the mozilla plugin if mozilla was enabled
	and the necessary bits were detected
	* src/totem-mozilla-plugin.c: (totem_plugin_new_instance),
	(totem_plugin_set_window), (NP_GetMIMEDescription):
	remove some unused code, add TODO items for the attributes, implement
	NP_GetMIMEDescription properly
	* src/totem-mozilla-viewer.c: (on_got_redirect): don't try our
	crappy redirect if we get another mrl

2005-03-17  Bastien Nocera  <hadess@hadess.net>

	* src/totem-mozilla-plugin.c: (totem_plugin_fork),
	(totem_plugin_new_instance):
	* src/totem-mozilla-viewer.c: (totem_embedded_add_children),
	(main): Add support for the "controller" embed property

2005-03-17  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* data/mozilla-viewer.glade:
	* src/totem-mozilla-viewer.c: (totem_embedded_set_state),
	(totem_embedded_open), (on_play_pause),
	(totem_embedded_add_children), (main):
	  Make the play/pause button do something. Not yet javascript-
	  controlleable, but it's a start...

2005-03-22  Bastien Nocera  <hadess@hadess.net>

	* configure.in: the glib warning also applies to xine-lib, when using
	gnome-vfs backends that fork (sftp: for example)

2005-03-15  Bastien Nocera  <hadess@hadess.net>

	* data/mozilla-viewer.glade: make the buttons smaller, more room
	for the video itself
	* src/Makefile.am:
	* src/totem-mozilla-plugin.c: (totem_plugin_fork):
	Make sure that the viewer is called from where it's actually installed

2005-03-15  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_add_ram),
	(totem_pl_parser_add_m3u), (totem_pl_parser_add_asf_parser),
	(totem_pl_parser_add_pls), (totem_pl_parser_add_asx),
	(totem_pl_parser_add_smil), (totem_pl_parser_add_desktop):
	Remove our home-made read-entire file function, and use
	gnome_vfs_read_entire_file instead

2005-03-15  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_signal_idler),
	(got_redirect), (bacon_video_widget_open_with_subtitle),
	(bacon_video_widget_new):
	  Implement redirect signal.

2005-03-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_add_asf): fix parsing of
	ASX files when the root wasn't at the start of the file
	(Closes: #170342)

2005-03-14  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/totem-mozilla-viewer.c: (main):
	  Init backend.

2005-03-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (button_release_cb), (drag_end_cb),
	(init_treeview):
	* src/totem.c: (totem_callback_connect), (video_widget_create):
	also handle MOVE actions on a drop, as Konqueror doesn't handle
	COPIES (Closes: #170109)

2005-03-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_add_one_mrl): use
	gtk_list_store_insert_with_values instead of separate
	gtk_list_store_insert() and gtk_list_store_set

2005-03-14  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_class_init):
	  Fix compile.

2005-03-14  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am:
	* data/totem-video-thumbnailer.1:
	* data/totem-video-thumbnailer.pod: add a man page for
	totem-video-thumbnailer, from Zack Cerza <zcerza@coe.neu.edu>
	The man page is generated off-line, and the copy stored in CVS, to
	avoid needing pod2man at compile-time

2005-03-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem-mozilla-plugin.c: (totem_plugin_write_ready): we don't
	need any more data when we've closed the stdin

2005-03-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem-mozilla-plugin.c: (totem_plugin_new_instance),
	(totem_plugin_destroy_instance), (totem_plugin_destroy_stream),
	(totem_plugin_write), (NP_GetMIMEDescription):
	Add support for MPEG, close the file descriptor when we're asked to
	* src/totem-mozilla-viewer.c: (main): wait until we're fully shown
	before we start consuming the data off the standard input

2005-03-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem-mozilla-plugin.c: (totem_plugin_fork),
	(totem_plugin_new_instance): pass the src as the url to the
	viewer, data still doesn't seem to get through when embedded into
	Mozilla

2005-03-13  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_class_init):
	* src/bacon-video-widget-xine.c: (bacon_video_widget_class_init),
	(bacon_video_widget_idle_signal), (xine_event), (xine_error):
	* src/bacon-video-widget.h:
	Add a redirect signal, for MRL references, rather than handling it
	inside the backend
	* src/totem-interface.c: (totem_interface_load_with_root),
	(totem_interface_load):
	* src/totem-interface.h: add a totem_interface_load_with_root for the
	benefit of the Mozilla plugin
	* src/totem-mozilla-plugin.c: (totem_plugin_destroy_instance):
	* src/totem-mozilla-viewer.c: (totem_embedded_exit),
	(totem_embedded_error_and_exit), (totem_embedded_open),
	(on_got_redirect), (totem_embedded_add_children), (main):
	* src/totem.c: (on_got_redirect), (video_widget_create):
	Handle the newly added redirect signal, so that we can handle
	redirection to relative paths (although we haven't done it yet)

2005-03-13  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updated
	* src/totem-mozilla-plugin.c: (totem_plugin_fork),
	(totem_plugin_destroy_instance), (totem_plugin_set_window):
	* src/totem-mozilla-viewer.c: (totem_embedded_open), (main):
	some updates for the Mozilla plugin, it kinda works...

2005-03-13  Bastien Nocera  <hadess@hadess.net>

	* src/totem-disc.c: Allow compilation with glibc 2.2, patch
	from Jens Granseuer <jensgr@gmx.net> (Closes: #170165)

2005-03-11  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* configure.in:
	* src/totem-preferences.c: (on_combo_entry1_changed),
	(mediadev_changed_cb), (bacon_cd_selection_create),
	(totem_setup_preferences):
	  Allow compilation without libnautilus-burn 2.9 (for those of
	  us on a less top-notch distro).

2005-03-10  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (parse_asx_entries): fix parsing of ASX
	entries where there's no <ENTRY> tag at the top-level
	(Closes: #169839)

2005-03-10  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/bacon-video-widget-gst.c:
	* src/bacon-video-widget-xine.c:
	* src/totem-private.h:
	* src/totem-scrsaver.c: renamed scrsaver.[ch] to totem-scrsaver.[ch]

2005-03-09  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* src/totem-preferences.c: (visual_menu_changed): simple warning fix

2005-03-08  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_check_utf8): g_utf8_validate
	can't take a NULL string... (Closes: #169558)

2005-03-08  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_check_utf8): remove useless
	debug

2005-03-07  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_check_utf8),
	(totem_pl_parser_add_one_url), (totem_pl_parser_add_one_url_ext):
	Don't pass on the titles if they're not in UTF-8 (Closes: #168968)

2005-03-07  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (update_seekable): set the seekable member properly,
	makes the "Skip to..." dialog work again (Closes: #169255)

2005-03-07  Bastien Nocera  <hadess@hadess.net>

	* src/totem-preferences.c: (mediadev_changed_cb),
	(visual_menu_changed), (totem_setup_preferences),
	(totem_preferences_visuals_setup): Fix memory leak, patch by Aivars
	Kalvans <aivars.kalvans@inbox.lv> (Closes: #169425)

2005-03-07  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_add_smil): Fix memory
	leak, patch by Aivars Kalvans <aivars.kalvans@inbox.lv>
	(Closes: #169431)

2005-03-07  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (setup_config),
	(bacon_video_widget_set_media_device),
	(bacon_video_widget_set_proprietary_plugins_path),
	(bacon_video_widget_set_tv_out),
	(bacon_video_widget_set_video_device): fix memory leaks,
	adapted from patch by Aivars Kalvans <aivars.kalvans@inbox.lv>
	(Closes: #169437)

2005-03-07  Bastien Nocera  <hadess@hadess.net>

	* src/totem-uri.c: (totem_uri_get_subtitle_uri): fix memory leak,
	patch by Aivars Kalvans <aivars.kalvans@inbox.lv> (Closes: #169440)

2005-03-07  Bastien Nocera  <hadess@hadess.net>

	* data/totem.desktop.in.in.in: allow multiple URIs to be passed
	by using %U instead of of %u

============ Version 1.0

2005-03-07  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* README: upd
	* configure.in: 1.0
	* help/C/Makefile.am:
	* help/de/Makefile.am:
	* help/es/Makefile.am:
	* help/ru/Makefile.am:
	* omf.make: some distchecking fixes

2005-03-03  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: add support for "audio/playlist" (they're
	on crack again) as an m3u playlist (Closes: #169075)

2005-03-02  Abel Cheung  <maddog@linuxhall.org>

	* configure.in: Added "pa" to ALL_LINGUAS.

2005-03-01  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/totem-video-thumbnailer.c: (main):
	  Allow some time before knowing the length of a file. Also,
	  allow a short time to resync after the seek. Fixes #167879.

2005-03-01  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_new):
	  Don't set multichannel for fakesrc (leads to warnings).

2005-03-01  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (got_source):
	  Workaround race in metadata display (#168540).

2005-02-28  Bastien Nocera  <hadess@hadess.net>

	* configure.in: require glib 2.6.3 to fix the GStreamer thumbnailer
	quitting too early

2005-02-23  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_metadata_int):
	  Just read bitrate, not different kinds (leads to conflicts
	  with several elements).

2005-02-22  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_remove_files):
	Fix leak when removing files (Closes: #168190)

2005-02-21  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_get_subtitles),
	(bacon_video_widget_get_languages):
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_languages),
	(bacon_video_widget_get_subtitles),
	(bacon_video_widget_get_subtitle),
	(bacon_video_widget_set_subtitle):
	* src/totem.c: (on_title_change_event): more type-checking when
	entering public functions

2005-02-20  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* src/totem.c: (totem_action_set_mrl_with_warning):
	enable the volume items in the popup menu properly (Closes: #167915)

2005-02-19  Bastien Nocera  <hadess@hadess.net>

	* src/scrsaver.c: (totem_scrsaver_disable),
	(totem_scrsaver_enable):
	* src/totem.c: (totem_action_play), (totem_action_stop),
	(totem_action_play_pause), (totem_action_fullscreen_toggle):
	Only disable the screensaver in fullscreen, and when something
	is playing (Closes: #152814)

2005-02-19  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (init_config):
	* src/totem-preferences.c: (totem_setup_preferences): fix
	warning from gconf_client_add_dir caused by the lockdown work
	below

2005-02-19  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* src/Makefile.am: make sure that GLIB_MKENUMS gets defined

2005-02-19  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (update_lockdown), (init_config):
	* src/totem-preferences.c: (disable_save_to_disk_changed_cb),
	(totem_setup_preferences): disable "Take Screenshot" and the Save
	playlist button when in disable_save_to_disk lockdown mode
	(Closes: #165611)

2005-02-19  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: (shrink_toplevel): don't try to
	shrink the toplevel window if there's not one

2005-02-19  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: (get_list_of_type): fix crash when
	asking for subtitles or audio languages and no media is loaded

2005-02-17  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* data/Makefile.am:
	* data/popup.glade: 
	* data/totem.glade:
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_languages),
	(bacon_video_widget_get_subtitles):
	* src/totem-playlist.c: (totem_playlist_new):
	* src/totem-private.h:
	* src/totem.c: (totem_action_menu_popup),
	(totem_action_set_mrl_with_warning), (update_seekable),
	(on_open_location1_activate), (show_controls), (update_buttons),
	(totem_callback_connect), (main):
	Split off popup menu into its own glade file to work around the
	accelerators not appearing in it (based on patch from William
	Jon McCann <mccann@jhu.edu>) (Closes: #153594), mark the strings
	used for the interface loading for translation, don't call
	xine_get_spu_lang() when there's no file loaded to avoid a crash,
	use the right stock icons in the popup menu, have the default
	sensitivity in some popup menu items

2005-02-17  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (main): remove gdk_threads_init() as we don't have
	any gdk_threads_enter anywhere anyway, fixes hangs when file selector
	bookmarks require authentication (Closes: #154796)

2005-02-17  Bastien Nocera  <hadess@hadess.net>

	* autogen.sh: require something somewhat newer than automake 1.4
	* src/totem-disc.c: (totem_disc_resolve_link): canonicalise
	the path names when resolving links (Adapted from a patch from
	Sam Morris <sam@robots.org.uk>)

2005-02-16  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_set_volume):
	You can't set a volume below 0 or above 100 (Closes: #165426)

2005-02-15  William Jon McCann  <mccann@jhu.edu>

	* src/totem.c (move_popups): Position exit fullscreen button
	on right side per HIG.  (Closes #149135)

	* data/totem.glade: Use gtk-quit icon for exit fullscreen button.

2005-02-15  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (cb_iterate),
	(bacon_video_widget_set_audio_out_type):
	  Fix wrong return value types, fix missing ampersand.

2005-02-11  William Jon McCann  <mccann@jhu.edu>

	* src/totem.c (popup_timeout_remove) 
	(on_video_motion_notify_event, on_mouse_click_fullscreen) 
	(totem_callback_connect): Use glib timeout funcs.

	* data/totem.glade: Remove unneeded frame around Exit Fullscreen
	button.  Make fullscreen control buttons go to the edge of the
	screen. (Closes #166509)

2005-02-08  Christian Fredrik Kalager Schaller  <uraeus@gnome.org>

	* COPYING: adding with clause
	* COPYING.LIB: update with some comments about playlist-lib
	* license_change: add document outlining the license change
	* src/bacon-message-connection.c: adding clause to all files
	* src/bacon-message-connection.h:
	* src/bacon-v4l-selection.c:
	* src/bacon-v4l-selection.h:
	* src/bacon-video-widget-gst.c:
	* src/bacon-video-widget.h: fix copyright header
	* src/egg-recent-item.c:
	* src/egg-recent-model.c:
	* src/egg-recent-view-gtk.c:
	* src/egg-recent-view.c:
	* src/scrsaver.c: fix copyright header as original code is gone
	* src/totem-disc.c:
	* src/totem-gromit.c:
	* src/totem-interface.c:
	* src/totem-preferences.c:
	* src/totem-preferences.h:
	* src/totem-private.h:
	* src/totem-properties-main.c:
	* src/totem-properties-view.c:
	* src/totem-properties-view.h:
	* src/totem-remote.c:
	* src/totem-remote.h:
	* src/totem-stock-icons.c:
	* src/totem-stock-icons.h:
	* src/totem-video-thumbnailer.c:
	* src/totem.c:
	* src/totem.h:
	* src/vanity.c:
	* src/video-dev.c:
	* src/video-dev.h:

2005-02-08  Bastien Nocera  <hadess@hadess.net>

	* src/totem-video-thumbnailer.c: (main): use g_type_init so that
	the thumbnailer can work without a DISPLAY

2005-02-07  Bastien Nocera  <hadess@hadess.net>

	* src/disc-test.c: (main): print out the list of connected drives
	if we get an error trying to figure out the type of a disc

2005-02-07  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_set_media_device):
	* src/totem-preferences.c: (on_combo_entry1_changed):
	Guard against NULL being passed to the xine-lib backend for
	the media device (Closes: #166536)

2005-02-04  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_video_property),
	(bacon_video_widget_set_video_property):
	  Fix colorbalance getting/setting between runs (#163490).

2005-02-03  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: fix regenerate-built-sources
	* src/egg-*: update from libegg CVS

2005-01-30  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_set_audio_out_type):
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_can_set_volume),
	(bacon_video_widget_set_audio_out_type):
	* src/bacon-video-widget.h:
	* src/totem-preferences.c: (totem_prefs_set_show_visuals),
	(audio_out_menu_changed):

	Make bacon_video_widget_set_audio_out_type return whether the
	application needs to restart for this to take effect, the xine-lib
	backend also now knows that the AC3 passthrough output can't set
	the volume (Closes: #122580)

2005-01-30  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* configure.in: fix typo that made the nautilus-extension test
	useless (Closes: #165630)

2005-01-30  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_languages): Patch from Nickolay V. Shmyrev
	<nshmyrev@yandex.ru> to handle unnamed sound channels, for multi-audio
	AVI files (Closes: #164741)

2005-01-30  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* data/uri.glade: change the name of the history ID to totem
	* src/totem.c: (on_open_location1_activate): save the used URI in
	the entry's history, prompting a save to GConf. Fixes the
	"Open Location..." being always empty (Closes: #153675)

2005-01-29  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: fix the maximum value of the GtkAdjustments not
	being respected after reading the note in the docs for
	gtk_adjustment_set_value()

2005-01-29  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (load_video_out_driver),
	(load_audio_out_driver), (bacon_video_widget_realize),
	(bacon_video_widget_new), (bacon_video_widget_can_set_volume):
	use the none audio and video drivers so that the decoders are used
	and can set metadata (Closes: #165483)

2005-01-28  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (caps_set), (parse_stream_info),
	(get_list_of_type), (bacon_video_widget_get_current_frame):
	  Fix some logic errors.

2005-01-28  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (parse_stream_info),
	(fixate_visualization):
	  Refix visualization...

2005-01-28  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (parse_stream_info),
	(get_list_of_type), (bacon_video_widget_get_current_frame):
	  Add some more safety guards.

2005-01-27  Theppitak Karoonboonyanan  <thep@linux.thai.net>

	* configure.in: Added "th" (Thai) to ALL_LINGUAS.

2005-01-25  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_set_tv_out):
	set the right TV system (PAL/SECAM) (patch from Mattias Eriksson
	<snaggen@acc.umu.se>)

2005-01-25  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (parse_stream_info),
	(get_list_of_type), (bacon_video_widget_get_current_frame):
	  Copy lists to decreases the theoretical change on crashing while
	  we're switching groups.

2005-01-25  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_signal_idler),
	(group_switch), (parse_stream_info), (stream_info_set),
	(state_change), (bacon_video_widget_new):
	  Notify delayed stream-information availability.

2005-01-25  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_set_tv_out):
	For all the supported TV-Out types, we don't need a restart
	* src/totem-preferences.c: (on_tvout_toggled): don't hard-code
	dxr3 needing a restart

2005-01-25  Mattias Eriksson <snaggen@acc.umu.se>

	Reviewed by:  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/totem-preferences.c: (on_tvout_toggled):
	  Only show warning if switching to DXR3, since it's not true for
	  NVTV.

2005-01-25  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_signal_idler),
	(bacon_video_widget_set_fullscreen):
	  Small fullscreen fix.

2005-01-25  Mattias Eriksson <snaggen@acc.umu.se>

	Reviewed by:  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_realize),
	(bacon_video_widget_unrealize), (bacon_video_widget_class_init),
	(bacon_video_widget_fullscreen_mode_available),
	(bacon_video_widget_set_fullscreen):
	  Add NVTV support.
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_set_fullscreen):
	  Add a g_return_if_fail().

============ Version 0.101

2005-01-24  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* configure.in: 0.101
	* src/Makefile.am: fix compilation with out-of-tree build dir

2005-01-24  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_clear_with_compare): Don't
	generate a current-removed event if we didn't remove any items
	(Closes: #153209)

2005-01-24  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* data/.cvsignore: upd
	* src/metadata-test.c: (main): set the right program name

2005-01-24  Shaun McCance  <shaunm@gnome.org>

	* src/totem-pl-parser.c: (totem_pl_parser_add_directory):
	  escape filenames when constucting URIs (#165049)

2005-01-20  Bastien Nocera  <hadess@hadess.net>

	* src/totem-interface.c: (totem_interface_error_dialog):
	try to avoid problems with unescaped error messages passed to the
	error dialog (Closes: #164627)

2005-01-18  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (setup_vis),
	(bacon_video_widget_get_popt_table),
	(bacon_video_widget_init_backend):
	* src/bacon-video-widget-xine.c: (bacon_video_widget_init_backend):
	* src/bacon-video-widget.h:
	* src/totem-properties-main.c: (nautilus_module_initialize):
	  Add bacon_video_widget_init_backend() for popt-less apps,
	  plus a cast fix.

2005-01-17  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (setup_vis):
	  Refcounting fixes for visualization element since we keep our
	  own pointer as well.

2005-01-16  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* COPYING.LIB: Add LGPL license file, to indicate that
	libtotem-plparser is now LGPL.  Fixes #164193.

	* Makefile.am (EXTRA_DIST): Add COPYING.LIB.

2005-01-15  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_set_audio_out_type): update the audio output
	strings with xine-lib, should fix AC3 Passthrough playback

2005-01-13  Bastien Nocera  <hadess@hadess.net>

	* src/metadata-test.c: (totem_create_full_path), (main):
	transform the path into a URI if necessary to make the GStreamer
	backend happy

2005-01-13  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_signal_idler):
	  Hack to fix some problems with nvidia graphics cards.

2005-01-13  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/totem-properties-main.c: (nautilus_module_initialize):
	  Try to make popt parsing work so that this works with GStreamer
	  backend as well.

2005-01-13  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (setup_config),
	(dvd_skip_behaviour), (bacon_video_widget_new),
	(bacon_video_widget_set_media_device),
	(bacon_video_widget_set_proprietary_plugins_path),
	(bacon_video_widget_set_connection_speed),
	(bacon_video_widget_get_connection_speed),
	(bacon_video_widget_set_visuals_quality),
	(bacon_video_widget_set_video_device),
	(bacon_video_widget_set_audio_out_type):
	modify the config entries to follow the xine-lib 1.0 rename

2005-01-13  Bastien Nocera  <hadess@hadess.net>

	* src/totem-session.c: (totem_session_restore):
	* src/totem.c: (on_eos_event): when restoring a playlist, or
	when rewinding to the start of a playlist (without repeat), set the
	video widget to pause to release the sound device (Closes: #163875)

2005-01-12  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/bacon-video-widget-gst.c:
	* src/totem-interface.c: (totem_interface_error_dialog),
	(totem_interface_error), (totem_interface_error_blocking),
	(totem_interface_load), (totem_interface_load_pixbuf),
	(totem_interface_get_full_path):
	* src/totem-interface.h:
	* src/totem-playlist.c: (totem_playlist_new):
	* src/totem-playlist.h:
	* src/totem-uri.h:
	* src/totem.c: (totem_action_error), (totem_action_error_and_exit),
	(on_open_location1_activate), (main):
	* src/totem.h: add interface helpers for glade files, and images,
	Add vim bits to the gst widget

2005-01-12  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_open_with_subtitle):
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_subtitled),
	(bacon_video_widget_open_with_subtitle):
	* src/bacon-video-widget.h:
	* src/totem-uri.c: (totem_uri_get_subtitle_uri):
	* src/totem-uri.h:
	* src/totem.c: (totem_action_set_mrl_with_warning):
	do the automatic subtitle opening in the front-end, rather than
	in the backends

2005-01-11  Bastien Nocera  <hadess@hadess.net>

	* src/scrsaver.c: (fake_event), (totem_scrsaver_init):
	use alternatively the left control and the left shift fake keys
	to avoid the screensaver triggering, to avoid the accessibility
	features to be triggered in X

2005-01-11  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (setup_config_stream):
	don't setup the video bits if we don't have a video output
	* src/totem-properties-main.c:
	* src/totem-properties-view.c:
	(totem_properties_view_register_type),
	(totem_properties_view_class_init), (on_got_metadata_event),
	(totem_properties_view_init), (totem_properties_view_finalize),
	(totem_properties_view_set_location):
	Fix the properties page, this one will actually work (if you don't
	use GStreamer)

2005-01-11  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* Makefile.am:
	* data/Makefile.am:
	* src/Makefile.am:
	  Fix make distcheck.

2005-01-11  Bastien Nocera  <hadess@hadess.net>

	* src/metadata-test.c: (main): we don't use translations in there
	it's a test tool

2005-01-11  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* data/Makefile.am:
	* src/Makefile.am:
	* src/totem-properties-main.c:
	(totem_properties_plugin_register_type),
	(property_page_provider_iface_init), (totem_properties_get_pages),
	(nautilus_module_initialize), (nautilus_module_shutdown),
	(nautilus_module_list_types):
	* src/totem-properties-page.c:
	* src/totem-properties-view.c: (totem_properties_view_get_type),
	(totem_properties_view_register_type),
	(totem_properties_view_class_init), (on_got_metadata_event),
	(totem_properties_view_init), (totem_properties_view_destroy),
	(totem_properties_view_new), (totem_properties_view_set_location):
	* src/totem-properties-view.h:
	Port the properties page to the non-bonobo nautilus interface
	(Closes: #162850)

2005-01-11  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am: remove unused keys_DATA

2005-01-11  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_signal_idler),
	(group_switch), (bacon_video_widget_open),
	(bacon_video_widget_new):
	  Use suburi property for subtitles. Use group-switch to clean
	  metadata cache.

2005-01-11  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am:
	* data/Totem_properties.server.in.in._1:
	* data/Totem_properties.server.in.in._3:
	* data/mime-type-include.sh:
	* data/servers.sh: remove the Bonobo server file, as we won't need it soon,
	generate totem-mime-types.h for use in the nautilus property tab

2005-01-11  Bastien Nocera  <hadess@hadess.net>

	* README:
	* data/Makefile.am:
	* data/desktop.sh:
	* data/mime-type-list.txt:
	* data/schemas.sh:
	* data/servers.sh:
	* data/totem.keys: remove totem.keys, as this is for old GNOME versions

2005-01-11  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am:
	* data/handlers.sh:
	* data/totem.applications: remove totem.applications, as it's not
	used anymore, and add some handled schemes

2005-01-10  William Jon McCann  <mccann@jhu.edu>

	* src/vanity.c (vanity_action_error): 
	* src/totem.c (totem_action_error, totem_action_error_and_exit): 
	* src/totem-screenshot.c (totem_screenshot_action_error): 
	* src/totem-preferences.c (ask_show_visuals): 
	* src/totem-playlist.c (totem_playlist_error) 
	(totem_playlist_save_files):
	Use GTK 2.5 HIG message dialog API.

2005-01-11  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/Makefile.am:
	  Fix build.
	* src/bacon-video-widget-gst.c: (bacon_video_widget_open),
	(bacon_video_widget_play):
	  Fix error displays if filenames contains % signs (#!63600).

2005-01-10  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_clear_with_compare),
	(totem_playlist_compare_with_prefix),
	(totem_playlist_clear_with_prefix),
	(totem_playlist_compare_with_volume),
	(totem_playlist_clear_with_gnome_vfs_volume):
	Create a generic playlist clearing function that takes a GCompareFunc
	to match playlist items
	* src/totem-playlist.h:
	* src/totem-private.h:
	* src/totem-uri.c: (totem_create_full_path),
	(totem_action_on_unmount), (totem_setup_file_monitoring):
	* src/totem-uri.h:
	* src/totem.c: (totem_action_exit), (main):
	Remove from the playlist all the items that are on a volume that's
	getting unmounted (Closes: #153209)

2005-01-10  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_get_metadata):
	  Don't crash on CDINDEX (was already added...).
	* src/metadata-test.c: (main):
	  Call _init.

2005-01-10  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_motion_notify),
	(bacon_video_widget_button_press),
	(bacon_video_widget_button_release):
	  Hm, this requires state checks, else you'll get warnings on
	  console...

2005-01-10  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_motion_notify),
	(bacon_video_widget_button_press),
	(bacon_video_widget_button_release):
	  Only if media has video, to prevent warnings.
	(cb_iterate), (state_change):
	  Change to use g_timeout instead of g_idle, don't sleep inside
	  handler. Seems to speed up playback good enough to feel good.

2005-01-09  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (video_widget_create): set the volume later so that
	we're sure it can be set (fixes volume not in sync with slider with
	the xine-lib backend)

2005-01-09  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (cb_iterate):
	  Support change in duration (CDs, VBR MP3, ...).

2005-01-09  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_can_get_frames):
	  Give good error messages if thumbnailing fails.

2005-01-09  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_motion_notify),
	(bacon_video_widget_button_press),
	(bacon_video_widget_button_release),
	(bacon_video_widget_class_init), (bacon_video_widget_new):
	  Re-add mouse event support through navigation interface.

2005-01-08  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-properties.h:
	* src/bacon-video-widget-xine.c:
	* src/totem.c: (main):
	* src/vanity.c: (on_about1_activate): update copyrights on some files,
	use translator-credits in vanity, instead of translator_credits
	(Closes: #163221)

2005-01-08  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_get_subtitle),
	(bacon_video_widget_set_subtitle), (get_list_of_type),
	(bacon_video_widget_get_subtitles),
	(bacon_video_widget_get_languages),
	(bacon_video_widget_get_language),
	(bacon_video_widget_set_language), (bacon_video_widget_open),
	(bacon_video_widget_close):
	  Add stream selection. The names need some more work, but hey,
	  it's a start.

2005-01-06  Dennis Cranston <dennis_cranston@yahoo.com>

	* data/totem.glade:  Use header capitalization for command button
	labels.
	
2005-01-06  Bastien Nocera  <hadess@hadess.net>

	* src/totem-preferences.c: (totem_setup_preferences): remove
	hide_prefs, use gtk_widget_hide directly instead, replace hard-coded
	/apps/totem by GCONF_PREFIX, 
	* src/totem.c: (show_controls), (totem_setup_window):
	when setting up the window, take into account the vbox border for the
	width and height, replace hard-coded border width of 1 by a #define

2005-01-06  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/Makefile.am:
	  Autofoo fixes.

2005-01-06  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* src/totem.c: (update_seekable): only change the states of the
	"seekable" widgets if the previous state was different

2005-01-06  Bastien Nocera  <hadess@hadess.net>

	* src/totem-statusbar.c: (totem_statusbar_set_time): only update
	the time label if the time actually changed

2005-01-06  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_connection_speed),
	(bacon_video_widget_set_connection_speed),
	(bacon_video_widget_set_tv_out), (bacon_video_widget_get_tv_out),
	(bacon_video_widget_set_audio_out_type),
	(bacon_video_widget_set_show_visuals),
	(bacon_video_widget_set_visuals),
	(bacon_video_widget_set_visuals_quality),
	(bacon_video_widget_set_video_property), (bacon_video_widget_new):
	  Save backend-responsible gconf properties.

2005-01-06  Bastien Nocera  <hadess@hadess.net>

	* src/totem-time-label.c: (totem_time_label_init),
	(totem_time_label_set_time):
	* src/totem-time-label.h: only update the time label if the time has
	actually changed

2005-01-05  Dennis Cranston <dennis_cranston@yahoo.com>

	* data/totem.glade:
	Fix mnemonics for the Combo Boxes
	
2005-01-05  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/totem-preferences.c: (totem_prefs_set_show_visuals),
	(connection_combobox_changed), (visual_menu_changed),
	(visual_quality_menu_changed), (audio_out_menu_changed),
	(totem_setup_preferences): Migrate the Option Menus in the preferences
	dialog to Combo Boxes (Helps: #160807)

2005-01-05  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/totem-stock-icons.c: (totem_set_default_icons),
	(totem_named_icons_init):
	* src/totem-stock-icons.h:
	* src/totem-video-thumbnailer.c: (add_holes_to_pixbuf_small),
	(main):
	* src/totem.c: (play_pause_set_label):
	* src/video-utils.c:
	* src/video-utils.h:

	Use the media icons from GTK+, including the forward/rewind buttons,
	use gdk_pixbuf_flip instead of our home-grown, use the thread-safe
	g_usleep instead of usleep in the thumbnailer

2005-01-05  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: include totem-pl-parser-builtins.h from the .c
	to avoid compile-time warnings

2005-01-04  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: remove custom labels to use new GTK+ labels
	* src/totem.c: (update_mrl_label), (totem_setup_recent):
	* src/totem.h: remove unused totem_get_gconf_client() and custom
	label creation

2005-01-04  Bastien Nocera  <hadess@hadess.net>

	* configure.in: and remove floating point warnings, it seems only
	some versions of gcc handle it (bugger) (Closes: #162943)

2005-01-04  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_current_frame):
	  Fix in case of >1 video streams.

2005-01-04  Bastien Nocera  <hadess@hadess.net>

	* data/totem.desktop.in.in.in: add to the Player category
	(Closes: #162933)

2005-01-04  Bastien Nocera  <hadess@hadess.net>

	* configure.in: warn on floating point comparisons

2005-01-04  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* src/totem-pl-parser.h: include totem-pl-parser-builtins.h.
	
	* src/totem-pl-parser.h, src/totem-pl-parser.c: Add a gpointer
	user_data to TotemPlParserIterFunc and to totem_pl_parser_write.

	* src/totem-playlist.c (totem_playlist_save_get_iter_func)
	(totem_playlist_save_current_playlist): Update to new
	totem_pl_parser_write API.

	* totem-plparser.pc.in: Add .pc file for totem-plparser library.
	
	* Makefile.am: Install totem-plparser.pc.

	* configure.in: Define PLPARSER_LT_VERSION, to specify libtool
	version for libtotem-plparser.la.  Look for packages required for
	plparser, define TOTEM_PLPARSER_(CFLAGS|LIBS).  Write
	totem-plparser.pc.

	* src/Makefile.am: Generate totem-pl-parser-builtins.[ch], for
	registering enums.  Build and install a library,
	libtotem-plparser.la, which includes the totem playlist parser.
	Also install the corresponding header files to
	$(includedir)/totem/1/plparser.  Make the main binary, totem, link
	to this library and remove the duplicate sources.
	PS: Changes based on the work of Tiago Cogumbreiro.

	Fixes #162741.  Reviewed by Bastien Nocera.

2005-01-03  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* src/totem.c:
	* src/bacon-v4l-selection.h:
	* src/totem-preferences.c: (on_combo_entry1_changed),
	(mediadev_changed_cb), (bacon_cd_selection_create),
	(totem_setup_preferences): update to nautilus-cd-burner 2.9,
	partial patch by William Jon McCann <mccann@jhu.edu> (Closes: #161231)

2005-01-03  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* src/Makefile.am:
	* src/rb-ellipsizing-label.c:
	* src/rb-ellipsizing-label.h:
	* src/totem.c: (update_mrl_label), (on_about1_activate),
	(totem_callback_connect), (label_create):
	Require GTK+ 2.6, convert the about box, and the ellipsising labels
	(Helps: #160807)

2005-01-03  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_skip_to1_activate), (totem_action_remote):
	Rise the controls when in fullscreen and using LIRC, or the Totem
	remote commands (Closes: #162843)

2005-01-03  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am: create the .desktop file properly for Totem
	and install the totem.desktop, not something else (Closes: #162838)

2005-01-03  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (cb_audio_fixate),
	(bacon_video_widget_get_audio_out_type),
	(bacon_video_widget_set_audio_out_type), (bacon_video_widget_open),
	(bacon_video_widget_set_visuals_quality), (bacon_video_widget_new):
	  Add fixation for multi-channel audio so that speaker setup is taken
	  into account. Also don't crash if the file failed to open.

============ Version 0.100

2005-01-03  Bastien Nocera  <hadess@hadess.net>

	* NEWS:
	* configure.in: 0.100
	* data/Makefile.am: fix build of the desktop file
	* src/totem-playlist.h:
	* src/totem.c: (totem_action_direction), (totem_action_previous),
	(totem_action_next): merge totem_action_previous and
	totem_action_next into totem_action_direction

2005-01-03  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (setup_config_stream):
	* src/totem.c: (totem_action_exit), (video_widget_create): save
	the volume from the front-end, not the backend

2005-01-02  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd

2005-01-01  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/Makefile.am:
	* src/bacon-video-widget-xine.c: (setup_config_stream),
	(bacon_video_widget_new), (bacon_video_widget_seek_time),
	(bacon_video_widget_get_volume),
	(bacon_video_widget_get_current_time):
	* src/totem-options.c: (totem_options_process_late):
	* src/totem-options.h:
	* src/totem-pl-parser.c: (totem_pl_parser_add_pls):
	* src/totem-playlist.c: (totem_playlist_key_press),
	(totem_playlist_set_at_end), (totem_playlist_get_current),
	(totem_playlist_get_last), (totem_playlist_set_current):
	* src/totem-playlist.h:
	* src/totem-private.h:
	* src/totem-session.c: (totem_session_create_key),
	(totem_save_yourself_cb), (totem_session_restore),
	(totem_session_setup), (totem_action_restore_pl):
	* src/totem-session.h:
	* src/totem.c: (totem_action_save_size), (totem_action_exit),
	(totem_action_menu_popup), (play_pause_set_label),
	(totem_action_play), (totem_action_seek),
	(totem_action_fullscreen_toggle), (totem_action_seek_relative),
	(on_recent_file_activate), (on_channels_change_event),
	(totem_action_open_files), (show_controls),
	(totem_action_toggle_controls), (on_about1_activate),
	(commit_hide_skip_to), (totem_action_remote),
	(popup_timeout_remove), (popup_hide), (on_mouse_click_fullscreen),
	(on_video_motion_notify_event), (on_video_button_press_event),
	(totem_action_handle_key), (totem_setup_window),
	(totem_callback_connect), (main):
	* src/totem.h:
	* src/totem-sublang.[ch]:

	Remove possible "burps" on startup when the sound is supposed to
	be mute (xine-lib)
	Fix parsing of .pls files with relative paths (they're relative to
	the .pls file, not to the working directory) (Closes: #162440)
	Fix problems with activating a multi-item playlist from the
	recent files, we should play the first item added, not the last one
	Move languages and subtitles menu code to totem-sublang.[ch]
	Add session saving support (Closes: #131811)
	Fix seeking into streams that haven't been played yet, only opened
	Some code cleanups

2004-12-30  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: upd
	* src/bacon-message-connection.h: update from libbacon
	* src/bacon-video-widget-xine.c:
	* src/bacon-video-widget.h: remove
	bacon_video_widget_properties_get_title which nothing used
	* src/disc-test.c: (main): upd
	* src/totem-disc.c: (totem_cd_detect_type_from_dir),
	(totem_cd_detect_type), (totem_cd_get_human_readable_name):
	* src/totem-disc.h: change namespace from cd_ to totem_cd_
	* src/totem-options.[ch]: moved from totem.c
	* src/totem-pl-parser.c: (totem_pl_parser_add_directory): upd
	* src/totem-preferences.c: upd
	* src/totem-private.h: upd
	* src/totem-session.[ch]: start of some session support
	* src/totem-skipto.c: (totem_skipto_finalize),
	(totem_skipto_set_seekable), (totem_skipto_new):
	* src/totem-skipto.h: Set the OK button disabled when the stream
	isn't seekable (as before moving the TotemSkipto to a separate
	widget)
	* src/totem-uri.[ch]: move from totem.c
	* src/totem-video-thumbnailer.c: fix compilation warning
	* src/totem.c: (totem_action_exit), (totem_action_load_media),
	(totem_action_previous), (totem_action_next),
	(totem_action_toggle_aspect_ratio), (update_seekable),
	(on_play_disc1_activate), (on_show_controls2_activate),
	(totem_action_toggle_controls), (update_media_menu_items),
	(update_buttons), (main):
	* src/totem.h: Fix compilation of the GTK+-only front-end

2004-12-29  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am: upd
	* data/properties.glade: upd
	* data/skip_to.glade: added
	* data/totem.glade: removed the "Skip to" dialog
	* src/Makefile.am: updated
	* src/bacon-video-widget-properties.c:
	(bacon_video_widget_properties_reset),
	(bacon_video_widget_properties_set_from_current): hide the
	video properties if the file is an audio-only one (Closes: #153174)
	* src/bacon-video-widget-xine.c: (bacon_video_widget_open),
	(bacon_video_widget_get_metadata_string): fix setting the album,
	I wonder for how long it was broken. Don't refuse to play audio-only
	files when we're getting their metadata
	* src/metadata-test.c: (main): error checking
	* src/totem-playlist.c: (totem_playlist_key_press): escape closes the
	playlist window
	* src/totem-private.h:
	* src/totem-properties-page.c: (totem_properties_page_init),
	(set_property): show verbose errors on the command-line for debugging
	purposes
	* src/totem-skipto.[ch]: split out the skipto dialog
	* src/totem.c: (update_skip_to),
	(totem_action_set_mrl_with_warning), (on_recent_file_activate),
	(on_about1_activate), (on_take_screenshot1_activate),
	(on_properties1_activate), (commit_hide_skip_to),
	(on_skip_to1_activate), (totem_callback_connect):
	Use the new TotemSkipto dialog, and only instance one if we need to,
	fix a leak of a GError when playing back a file for which we don't
	want errors

2004-12-28  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/totem-screenshot.h: update copyrights
	* src/totem.c: (commit_hide_skip_to), (on_skip_to1_activate),
	(move_popups), (totem_action_handle_key),
	(on_window_key_press_event): fix controls popup width with RTL locales,
	Make Ctrl+Arrows seek further in streams (Closes: #154831)

2004-12-27  Bastien Nocera  <hadess@hadess.net>

	* data/totem.schemas.in: added a volume config
	* src/bacon-video-widget-xine.c: (bacon_video_widget_init),
	(setup_config), (bacon_video_widget_realize),
	(bacon_video_widget_unrealize), (bacon_video_widget_get_volume),
	(bacon_video_widget_set_audio_out_type),
	(bacon_video_widget_get_subtitles): save the volume in GConf, not
	in the xine config file, remove unneeded code, fix the "default"
	value of the audio output
	* src/totem-pl-parser.c: remove unneeded includes, patch by Tiago
	Cogumbreiro <cogumbreiro@linus.uac.pt>

2004-12-27  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_open): don't
	emit the metadata signal if we fail to open the stream
	* src/metadata-test.c: (on_got_metadata_event), (main): fix
	compilation warnings, and exit if we fail to _play()
	* src/totem-properties-page.c: (set_property): _close() if we
	don't manage to _play()

2004-12-26  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updates
	* data/totem.glade: first try at updated controls popup
	* src/totem-playlist.c: (treeview_row_changed): emit the
	"changed" signal when double-clicking on an entry
	* src/totem-time-label.c: (totem_time_label_init),
	(totem_time_label_new): move most of new() code to init()
	* src/totem.c: (totem_action_restore_pl),
	(totem_action_set_mrl_with_warning), (totem_action_set_mrl),
	(on_recent_file_activate), (playlist_changed_cb), (move_popups),
	(on_video_motion_notify_event), (on_eos_event), (label_create):
	don't show a warning when opening the file when rewinding, or
	restoring a playlist, show an error message when trying to play
	a file that can't be opened

2004-12-26  Bastien Nocera  <hadess@hadess.net>

	* help/ru/.cvsignore:
	* src/.cvsignore: updated

2004-12-26  Bastien Nocera  <hadess@hadess.net>

	* src/totem-stock-icons.c: (totem_named_icons_init): modified to
	look for the applets-screenshooter stock icon (Closes: #161705)

2004-12-24  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/Makefile.am:
	* src/bacon-video-widget-gst.c: (bacon_video_widget_new): fix
	compilation of the GStreamer backend (Closes: #159452)
	* src/bacon-video-widget-xine.c: (bacon_video_widget_get_metadata):
	fix assert when getting the Musicbrainz disc ID
	* src/metadata-test.c: add a metadata test program
	* src/totem-private.h: remove keypress_time member
	* src/totem-properties-page.c: (set_property): don't try to play if
	we didn't manage to open the file
	* src/totem.c: (totem_action_set_mrl), (on_eos_event),
	(totem_action_handle_key): remove fullscreen hysteris work-around,
	don't have a MRL in the Totem object if we're in logo mode
	(Closes: #161371)

2004-12-23  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_init),
	(load_audio_out_driver), (bacon_video_widget_realize),
	(bacon_video_widget_new), (bacon_video_widget_open),
	(bacon_video_widget_set_visuals):
	* src/bacon-video-widget.h:
	* src/bvw-test.c: (main):
	* src/totem-properties-page.c: (totem_properties_page_init):
	* src/totem-video-thumbnailer.c: (main):
	* src/totem.c: (video_widget_create): use a BVW_USE_TYPE_ enum to
	tell the widget its purpose before initialising, speeds up the
	xine-lib backend by avoiding initialising xine-lib twice
	(Closes: #159452)

2004-12-19  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* configure.in:
	  Fix GStreamer detection when not using --enable-gstreamer.

2004-12-18  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* help/Makefile.am:
	* help/ru/*: Add Russian manual from Pavel <pavdru@pochta.ru>

2004-12-16  Bastien Nocera  <hadess@hadess.net>

	* configure.in: require libnautilus-burn < 2.9.0

2004-12-14  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_metadata_string): spit out a warning if
	some metadata isn't in UTF-8, following recent xine-lib changes

2004-12-13  Bastien Nocera  <hadess@hadess.net>

	* README: update Gromit requirements
	* src/totem-gromit.c: (totem_gromit_toggle): remove Gromit startup
	hack, requiring a newer Gromit

2004-12-12  Bastien Nocera  <hadess@hadess.net>

	* src/totem-gromit.c: (totem_gromit_ensure_config_file),
	(totem_gromit_available): create a default, and decent gromit
	config file if none exist, for the purpose of the telestrator mode

2004-12-12  Bastien Nocera  <hadess@hadess.net>

	* data/totem.keys: add video/mp4 as a supported mime-type

2004-12-12  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: Really fix chpe's bug, by setting the popups to
	be non-resizeable, so that they go to the tightest fit
	(Closes: #148942)

2004-12-12  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (theme_changed_cb), (totem_callback_connect): Catch
	theme changes so that we can place the popup windows properly
	(Closes: #148942)

2004-12-12  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_subtitle_mrl): don't try to load a subtitle
	file when one was already supplied in the URI

2004-12-10  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd

2004-12-09  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (got_source),
	(bacon_video_widget_new):
	  Actually set media device location.

2004-12-09  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_parse_internal):
	patch from Richard <bloodpup@slackcrew.com> to fix the parsing in
	the subsequent subdirectories (Closes: #160829)

2004-12-06  Bastien Nocera  <hadess@hadess.net>

	* configure.in: fix typo checking for the X includes, spotted by
	Mariano Suarez-Alvarez

2004-12-04  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_current_frame):
	  Don't use ghostpads for screenshots either.

2004-12-04  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* src/bacon-video-widget-xine.c: (bacon_video_widget_get_zoom):
	fix return values for the _if_fail

2004-12-04  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_can_set_zoom),
	(bacon_video_widget_set_zoom), (bacon_video_widget_get_zoom):
	  Fix Gst build.

2004-12-04  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* data/totem.glade: upd
	* src/bacon-video-widget-xine.c: (bacon_video_widget_can_set_zoom),
	(bacon_video_widget_set_zoom), (bacon_video_widget_get_zoom):
	* src/bacon-video-widget.h:
	* src/totem.c: (totem_action_zoom_relative),
	(totem_action_zoom_reset), (on_resize_1_2_activate),
	(on_resize_1_1_activate), (on_resize_2_1_activate),
	(on_zoom_in_activate), (on_zoom_reset_activate),
	(on_zoom_out_activate), (totem_action_handle_key),
	(totem_callback_connect): added zooming in the video with 'R' and 'T',
	and break GStreamer-backend compilation (Closes: #144929)

2004-12-03  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_unrealize):
	Send the XINE_GUI_SEND_WILL_DESTROY_DRAWABLE event when the video
	window is going to be destroyed

2004-12-03  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd

2004-12-03  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (xine_event): change the cursor to
	a hand when hovering a DVD menu (Closes: #160085)

2004-12-03  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (state_change):
	  GST_PAD_CAPS() will not work on ghostpads, which we're working on
	  here. So explicitely realize pad.

2004-12-03  Bastien Nocera  <hadess@hadess.net>

	* data/handlers.sh: add support for Winamp's uvox:// URLs

2004-12-01  Christophe Fergeau  <teuf@gnome.org>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_metadata_string): the year tag returns a
	guint, not a string.

2004-12-01  Bastien Nocera  <hadess@hadess.net>

	* configure.in: detect XVidModeExtension as well
	* src/Makefile.am: upd
	* src/bacon-resize.c: (bacon_resize_init), (bacon_resize),
	(bacon_restore):
	* src/bacon-resize.h:
	* src/bacon-video-widget-xine.c: (frame_output_cb),
	(bacon_video_widget_realize), (bacon_video_widget_set_fullscreen):
	Use XRandR and XVidModeExtension to get rid of the viewport when
	there is one (Closes: #129986)

2004-11-29  Bastien Nocera  <hadess@hadess.net>

	* data/totem.keys: added audio/mpegurl as a supported mime-type
	for the benefit of the Zina PHP engine

2004-11-29  Bastien Nocera  <hadess@hadess.net>

	* configure.in: if xine-lib isn't available, automatically check
	for the GStreamer libraries instead of having to enable it
	(Closes: #159081)

2004-11-29  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* data/.cvsignore:
	* data/Makefile.am:
	* data/totem.desktop.in.in:
	* data/totem.desktop.in.in.in:
	* data/vanity.desktop.in:
	* data/vanity.desktop.in.in: add X-GNOME-Bugzilla-Version=@VERSION@
	to the desktop files (Closes: #159395)

2004-11-27  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* README:
	  Update TODO list somewhat.
	* src/bacon-video-widget-gst.c: (bacon_video_widget_dvd_event),
	(bacon_video_widget_can_play):
	  Add DVD. Add DVD events (even though they don't work yet, but
	  that's a GStreamer internal issue).

2004-11-26  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_set_audio_out_type):
	* src/bacon-video-widget.h: Add 4.1-channel support

2004-11-26  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_signal_idler),
	(got_buffering), (bacon_video_widget_new):
	* src/totem-statusbar.c: (totem_statusbar_init),
	(totem_statusbar_update_time), (totem_statusbar_timeout_pop),
	(totem_statusbar_push):
	* src/totem-statusbar.h:
	* src/totem.c: (label_create), (main):
	  Implement buffering for GStreamer backend as well. Show buffering
	  in a progress bar rather than a label. Keep updated even when
	  playing. Disappears automatically if not updated. Progressbar needs
	  to be made smaller but I don't know how.

2004-11-26  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (get_media_size),
	(bacon_video_widget_expose_event),
	(bacon_video_widget_size_allocate), (state_change),
	(bacon_video_widget_set_media_device), (fixate_visualization),
	(setup_vis), (bacon_video_widget_set_show_visuals),
	(bacon_video_widget_set_visuals),
	(bacon_video_widget_set_visuals_quality):
	  Re-enable visualizations in GStreamer backend. Size window to
	  visualization size if set up like that (is that right?).

2004-11-25  Bastien Nocera  <hadess@hadess.net>

	* src/totem-disc.c: (cd_cache_new): fix DVD from disk detection when
	we're given a URI
	* src/totem-preferences.c: (totem_setup_preferences): fix possible
	leak or crash
	* src/totem.c: (totem_action_open_files_list): remove kludge dating
	from the GtkFileSelection days, fixes starting Totem with a DVD from
	disk

2004-11-25  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/totem-properties-page.c: (totem_properties_page_init),
	(set_property), (main):
	  Fix up properties page for GStreamer backend. Mostly a matter of
	  calling _init() through getting and using the popt tables, and
	  explicitely re-setting the metadata after playing, because the
	  GStreamer backend will call got-metadata in an idle loop which
	  requires a GMainLoop in order to be executed and - yeah! - that's
	  not the case here.

2004-11-25  Bastien Nocera  <hadess@hadess.net>

	* data/totem.keys: add application/x-extension-mp4 as a supported
	mime-type

2004-11-25  Mohammad DAMT  <mdamt@bisnisweb.com>
	
	* configure.in: Added "id" (Indonesian) in ALL_LINGUAS
	* po/id.po: Added Indonesian translation done by Dicky Wahyu Purnomo <dicky.wahyu@massaint.or.id>

2004-11-22  Bastien Nocera  <hadess@hadess.net>

	* configure.in: patch from ed@catmur.co.uk to work-around 
	AC_PATH_X returning an empty $x_libraries (Closes: #159126)

2004-11-22  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (state_change),
	(bacon_video_widget_get_current_frame):
	  Fix for renamed property (fixes #159049).

2004-11-22  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_metadata_string),
	(bacon_video_widget_get_metadata): add getting album metadata so that
	we don't assert trying to get the metadata (Closes: #158910)

2004-11-20  Bastien Nocera  <hadess@hadess.net>

	* data/properties.glade:
	* src/bacon-video-widget-properties.c:
	(bacon_video_widget_properties_reset),
	(bacon_video_widget_properties_set_from_current): added album metadata
	to the properties window (Closes: #153173)

2004-11-20  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (setup_config_stream): remove
	debug, fix setting of the default value if there was an error getting
	it

2004-11-19  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (setup_config_stream): work-around
	GConf not returning a default value when there is actually one,
	and making the video all black (Closes: #133011)

2004-11-19  Bastien Nocera  <hadess@hadess.net>

	* src/totem-gromit.c: (gromit_exit), (gromit_timeout_cb),
	(totem_gromit_toggle), (totem_gromit_clear): remove debug from
	the gromit interface, it seems to be working fine

2004-11-19  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (process_options): make --toggle-controls work on
	startup (Closes: #153059)

============ Version 0.99.22

2004-11-19  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* configure.in: 0.99.22

2004-11-19  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_set_reorderable),
	(button_press_cb), (button_release_cb), (drag_end_cb): work-around
	the GtkTreeRowReference not surviving a drag'n'drop (bug #72043)
	and keep track of the ->currently playing file (Closes: #157066)

2004-11-19  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* data/totem.keys:
	Remove duplicated matroska entry I added earlier.

2004-11-19  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_realize):
	  Set mouse/key event masks so we get notified of mouse motion
	  in fullscreen mode and we see controls, just like the xine
	  backend.

2004-11-19  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_can_play):
	  Enable VCD/SVCD again.
	* src/totem-disc.c: (cd_cache_disc_is_vcd):
	  Add SVCD detection.

============ Version 0.99.21

2004-11-19  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* README: upd
	* configure.in: 0.99.21

2004-11-19  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updated

2004-11-19  Bastien Nocera  <hadess@hadess.net>

	* src/totem-screenshot.c: (totem_screenshot_temp_file),
	(totem_screenshot_finalize), (drag_data_get), (drag_begin),
	(totem_screenshot_new): Implement drag in the screenshot dialog,
	it's a bit simplistic, and slow machines won't cope very well...
	Send patches (Closes: #119903)

2004-11-18  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (drop_cb), (init_treeview):
	* src/totem.c: (totem_action_drop_files), (drop_video_cb),
	(drop_playlist_cb), (video_widget_create): implement drag'n'drop from
	Mozilla (_NETSCAPE_URL sucks!) (Closes: #158559)

2004-11-18  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updated

2004-11-18  Bastien Nocera  <hadess@hadess.net>

	* data/totem_logo.png: for some reason, I get a nice staircase effect
	when the width of the image is odd with xine-lib
	* src/totem.c: (on_about1_activate): update Copyright notice

2004-11-18  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_base_url),
	(totem_pl_parser_relative): Don't crash if we can't get a GnomeVFSURI
	when saving the playlist (Closes: #158228)

2004-11-16  Christian Schaller <uraeus@gnome.org>

	* src/Makefile.am: Remove reference to removed header file

2004-11-15  Bastien Nocera  <hadess@hadess.net>

	* src/test-parser.c: (test_parsing_real), (push_parser): add another
	parsing test
	* src/totem-pl-parser.c: (totem_pl_parser_add_directory): fix crash
	adding a directory and there's an error getting the disc type

2004-11-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (my_gnome_vfs_get_mime_type_with_data),
	(totem_pl_parser_parse_internal): fix some compilation warnings

2004-11-11  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (state_change):
	  Init to NULL so we don't crash if there's no pad.

2004-11-11  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_new):
	  Interestingly, ALSA hangs if I do that, so add another check...

2004-11-10  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (out_error),
	(bacon_video_widget_new):
	  Open device for instant error reporting on busy audio device.
	  Also makes some more exotic video sinks work.

2004-11-10  Bastien Nocera  <hadess@hadess.net>

	* src/totem-video-thumbnailer.c: (main): fix crash when no arguments
	are supplied

2004-11-08  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_subtitle_mrl), (bacon_video_widget_open):
	Try to auto-load subtitle files for local files. The suffix must
	be three letters, and the filename of the subtitle only differ by
	the suffix (which must be a known subtitle suffix) (Closes: #123060)

2004-11-07  Bastien Nocera  <hadess@hadess.net>

	* README: update dependencies (Closes: #157530)

2004-11-07  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_get_media_string),
	(totem_action_load_media), (totem_action_fullscreen_toggle),
	(show_controls), (on_show_controls1_activate): fix display of the
	media type (never was updated) when we can't play it (Closes: #157585)
	Slightly rework the fullscreen/shows controls/hidden controls modes,
	don't restore to a huge size after a fullscreen (Closes: #157447)

2004-11-05  Bastien Nocera  <hadess@hadess.net>

	* src/totem-video-thumbnailer.c: (main): remove extraneous
	g_error_free

2004-11-05  Bastien Nocera  <hadess@hadess.net>

	* data/totem_logo.png: a new, much nicer, rest logo by Jakub Steiner
	<jimmac@ximian.com>

2004-11-04  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (setup_config_video): remove the
	colour key setting, which seems to break more things than it fixes
	(Closes: #157320)

2004-11-03  Christophe Fergeau  <teuf@gnome.org>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_finalize),
	(bacon_video_widget_get_metadata_string):
	* src/totem-pl-parser.c: (totem_pl_parser_finalize):
	* src/totem-preferences.c: (totem_setup_preferences),
	(totem_preferences_visuals_setup): more leak fixes

2004-11-03  Christophe Fergeau  <teuf@gnome.org>

	* src/totem-pl-parser.c: (my_gnome_vfs_get_mime_type_with_data),
	(totem_pl_parser_parse_internal):
	* src/totem-preferences.c: (totem_setup_preferences): leak fixes

2004-11-03  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/Makefile.am:
	* src/bacon-video-widget-gst.c: (state_change),
	(bacon_video_widget_get_current_frame), (bacon_video_widget_new):
	* src/gststreaminfo.h:
	  Remove gststreaminfo.h, use GObject properties instead.

2004-11-01  Bastien Nocera  <hadess@hadess.net>

	* src/totem-private.h:
	* src/totem.c: (update_seekable), (on_skip_to1_activate):
	when Skip to... is grayed out, "S" shouldn't bring up the skip
	to dialog (Closes: #157031)

2004-10-31  Bastien Nocera  <hadess@hadess.net>

	* src/scrsaver.c: (totem_scrsaver_class_init),
	(totem_scrsaver_new), (fake_event), (totem_scrsaver_init),
	(totem_scrsaver_disable), (totem_scrsaver_enable),
	(totem_scrsaver_finalize):
	* src/scrsaver.h:
	* src/totem-pl-parser.h:
	* src/totem-private.h:
	* src/totem.c: (totem_action_fullscreen_toggle),
	(video_widget_create): turn the ScreenSaver struct into the
	TotemScrsaver GObject

2004-10-31  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (treeview_row_changed): when double-clicking
	we need to to reactivate the drop target after the row activation so
	that drag'n'drop works again (Closes: #155702)

2004-10-30  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_init),
	(setup_config): move the debug before xine_init() so that we can
	debug the plugins loading for example

2004-10-28  Bastien Nocera  <hadess@hadess.net>

	* data/totem.desktop.in.in: tell the mime DB we support URLs

2004-10-28  Bastien Nocera  <hadess@hadess.net>

	* src/totem-disc.c: (cd_cache_disc_is_cdda): sometimes, CD drives
	don't implement getting the CD type (should fix #156679)

2004-10-28  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_metadata_int):
	  No warnings on console #2.

2004-10-27  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: upd
	* src/test-parser.c: (header), (test_relative_real),
	(test_relative), (entry_added), (test_parsing_real), (push_parser),
	(test_parsing), (main): add parsing tests to the relative paths ones
	* src/totem-disc.c: (cd_cache_open_mountpoint),
	(cd_cache_file_exists), (cd_cache_disc_is_vcd),
	(cd_cache_disc_is_dvd): speed up DVD and VCD checking by stat()'ing
	for filenames, instead of parsing the subdirectories
	* src/totem-pl-parser.c: (totem_pl_parser_add_directory),
	(totem_pl_parser_parse_internal): check if a directory is a VCD or
	DVD, so that we can launch "totem /path/to/disk/dvd" (Closes: #153750)

2004-10-27  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (xine_event_message): fix a warning
	when a plugin couldn't be loaded because it doesn't exist

============ Version 0.99.20

2004-10-27  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* configure.in: 0.99.20

2004-10-25  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_metadata_int):
	  Oops, that's kbps, not bps.

2004-10-25  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_metadata_int):
	  Show bitrate.

2004-10-22  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (got_error):
	  Since we are blocking the mainloop in _play or _open, errors
	  will never be reported until after we unblock the mainloop if we
	  use idle handlers. Also, we don't need signals at that stage. So	
	  we can abuse the coincidence of those two and just report errors
	  as we should.

2004-10-21  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_add_files),
	(totem_playlist_save_files):
	* src/totem.c: (on_open1_activate), (show_controls):
	for all the file selectors, use gtk_file_chooser_set_current_folder_uri
	instead of gtk_file_chooser_set_uri (Closes: #156030)
	When hiding and showing the controls again, don't shrink the window

2004-10-19  Bastien Nocera  <hadess@hadess.net>

	* src/disc-test.c: (main):
	* src/totem-disc.c: (totem_disc_resolve_link), (cd_cache_new),
	(cd_detect_type_from_dir):
	* src/totem-disc.h: updated to give back a URL/MRL (dvd:///path/) if
	we have a VCD or a DVD

2004-10-18  Bastien Nocera  <hadess@hadess.net>

	* src/totem-disc.c: (cd_detect_type_from_dir): directories can't be
	CDDA yet, check if they're local paths before continuing

2004-10-16  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_properties1_activate): the property window
	should never have been modal

2004-10-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem-disc.c: (totem_disc_resolve_link), (get_device),
	(cd_cache_new), (cd_cache_open_device), (cd_cache_open_mountpoint),
	(cd_cache_disc_is_cdda), (cd_detect_type_from_dir):
	* src/totem-disc.h: add a cd_detect_type_from_dir() to be able to
	tell whether a particular directory is a DVD, or VCD, use
	g_file_read_link instead of readlink

2004-10-14  Bastien Nocera  <hadess@hadess.net>

	* src/video-utils.c: (totem_ratio_fits_screen): no warnings when
	height or width == 0 (Closes: #155376)

2004-10-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem-disc.c: (totem_disc_resolve_link), (get_device):
	* src/totem-disc.h: remove uses of gint and gchar, follow relative
	symlinks when checking for the real device name

2004-10-13  Bastien Nocera  <hadess@hadess.net>

	* README: Add basic telestrator instructions
	* src/Makefile.am:
	* src/totem-gromit.c: (totem_gromit_available), (launch),
	(gromit_exit), (gromit_timeout_cb), (totem_gromit_toggle),
	(totem_gromit_clear):
	* src/totem-gromit.h:
	* src/totem.c: (totem_action_exit), (totem_action_handle_key):
	Add a beta Telestrator mode, you need Gromit installed to use it

2004-10-13  Julien MOUTTE  <julien@moutte.net>

	* src/totem-pl-parser.c: (totem_pl_parser_base_url): Fix a crash when
	saving playlist of uri like http://

2004-10-13  Bastien Nocera  <hadess@hadess.net>

	* src/totem-disc.c: (cd_cache_disc_is_vcd), (cd_cache_disc_is_dvd):
	Fix detection of DVDs without an AUDIO_TS directory (Closes: #155281),
	speed up the sub-dir checking in the DVD and VCD cases

============ Version 0.99.19

2004-10-13  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* configure.in: 0.99.19

2004-10-12  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd

2004-10-12  Bastien Nocera  <hadess@hadess.net>

	* src/.cvsignore: upd
	* src/totem-disc.c: (cd_cache_new): fix a crash trying to play the disc
	as gnome_vfs_volume_monitor_unref() because the volume monitor isn't
	refcounted (Closes: #155195)

2004-10-12  Bastien Nocera  <hadess@hadess.net>

	* src/egg-recent-model.c: (egg_recent_model_add_full):
	* src/egg-recent-util.c: (load_icon_file),
	(egg_recent_util_get_icon): updated egg-recent from libegg

============ Version 0.99.18

2004-10-11  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updated
	* configure.in: 0.99.18
	* src/totem-disc.c: (cd_cache_open_device): use err as we set it

2004-10-11  Bastien Nocera  <hadess@hadess.net>

	* src/totem-disc.c: (cd_cache_open_device), (cd_cache_disc_is_vcd),
	(cd_cache_disc_is_dvd): better error when no medium is found,
	fix a leak when the subdir can't be opened in the DVD detection,
	add VCD detection (Closes: #131814)

2004-10-11  Bastien Nocera  <hadess@hadess.net>

	* src/.cvsignore: updated

2004-10-11  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* data/totem.glade:
	  Remove open vcd/cdda/dvd entries, add open disc.
	* po/POTFILES.in:
	* src/Makefile.am:
	  Add totem-disc.[ch].
	* src/bacon-video-widget-gst.c: (bacon_video_widget_open),
	(bacon_video_widget_can_play), (bacon_video_widget_get_mrls),
	(bacon_video_widget_get_metadata_string):
	  Add discid for audio-CDs. Don't open the same media twice. This
	  is sort of a hack for something that I don't quite understand
	  in Totem just yet.
	* src/bacon-video-widget-xine.c: (bacon_video_widget_can_play),
	(bacon_video_widget_get_mrls):
	* src/bacon-video-widget.h:
	* src/disc-test.c: (main):
	* src/totem-disc.c: (get_device), (cd_cache_new),
	(cd_cache_open_device), (cd_cache_open_mountpoint),
	(cd_cache_free), (cd_cache_disc_is_cdda), (cd_cache_disc_is_vcd),
	(cd_cache_disc_is_dvd), (cd_detect_type):
	* src/totem-disc.h:
	* src/totem.c: (totem_action_open_files_list),
	(on_play_disc1_activate), (totem_action_remote),
	(totem_callback_connect):
	  Move MEDIA_* to MEDIA_TYPE_*, add DATA/ERROR, add disc content
	  autodetection for the 'Open Disc' menu entry (VCD still TODO).

2004-10-09  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_signal_idler),
	(bacon_video_widget_get_metadata_string):
	  No tags = no metadata. No warnings on console please.

2004-10-09  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* src/bacon-video-widget-xine.c: (bacon_video_widget_finalize),
	(bacon_video_widget_plugin_exists), (xine_event_message),
	(bacon_video_widget_open),
	(bacon_video_widget_set_proprietary_plugins_path):
	remove useless debug, only warn about missing proprietary plugins
	if the files are there and can't be loaded, not when they're absent.

2004-10-09  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* configure.in:
	  Apparently, a missing space causes issues on Gentoo...
	* src/bacon-video-widget-gst.c: (bacon_video_widget_signal_idler):
	  Expose widget on new video if we're not set to auto-resize. This
	  will re-expose the videosink internally.

2004-10-08  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_expose_event):
	Drawing a black background on each expose event is doing flickering
	video. Moreover it can hide the video away in some cases.

2004-10-08  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/Makefile.am:
	* src/bacon-video-widget-gst.c: (bacon_video_widget_signal_idler),
	(got_video_size), (caps_set), (state_change),
	(bacon_video_widget_can_get_frames), (destroy_pixbuf),
	(bacon_video_widget_get_current_frame), (bacon_video_widget_new):
	* src/gstscreenshot.c: (bvw_frame_conv_base_init),
	(bvw_frame_conv_class_init), (bvw_frame_conv_init),
	(bvw_frame_conv_get), (bvw_frame_conv_put),
	(bvw_frame_conv_convert):
	* src/gstscreenshot.h:
	* src/totem-video-thumbnailer.c: (main):
	  Screenshots and thumbnailing for GStreamer backend.

2004-10-08  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_expose_event): 
	That's plainly wrong. The video window has nothing to do with pipeline
	states.

2004-10-07  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_set_scale_ratio):
	  And being the cool ass backend that we are, we use fits_screen()
	  as well.

2004-10-07  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_set_scale_ratio):
	* src/video-utils.c: (totem_ratio_fits_screen):
	* src/video-utils.h: move bacon_video_widget_ratio_fits_screen to
	totem_ratio_fits_screen, from the xine-lib backend to the video-utils.[ch]

2004-10-07  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_new),
	(bacon_video_widget_size_request),
	(bacon_video_widget_set_scale_ratio): use
	totem_widget_set_preferred_size and only set the minimum size, so that
	we can still shrink the toplevel window after zooming to a big size
	(Closes: #125903)

2004-10-07  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_set_scale_ratio):
	  Actually do that, rather than just shrinking to a small size.

2004-10-07  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/bacon-video-widget-gst.c: (get_media_size),
	(bacon_video_widget_realize), (bacon_video_widget_size_request),
	(shrink_toplevel), (bacon_video_widget_signal_idler),
	(bacon_video_widget_set_logo), (bacon_video_widget_set_visuals),
	(bacon_video_widget_set_scale_ratio), (bacon_video_widget_new):
	* src/video-utils.c: (cb_unset_size), (cb_set_preferred_size),
	(totem_widget_set_preferred_size):
	* src/video-utils.h:
	  Set a preferred window size. Allows resizing to smaller than
	  this size.

2004-10-07  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (parse_asx_entry), (parse_asx_entries),
	(totem_pl_parser_add_asf): fix parsing of ASX playlists (again),
	allow the title of ASX playlists to be set by the whole playlist, not
	just by the entry (Closes: #153644)

2004-10-06  Bastien Nocera  <hadess@hadess.net>

	* configure.in: remove libgnome-desktop dependency
	* src/totem-pl-parser.c: (totem_pl_parser_add_desktop):
	add application/x-desktop as a supported "playlist" type, and
	reimplement the desktop parsing with our own .ini file parsing
	(Closes: #152800)

============ Version 0.99.17

2004-10-06  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updated
	* configure.in: 0.99.17

2004-10-06  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/totem.c: (on_about1_activate):
	  Because I'm a P I M P.

2004-10-06  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* configure.in:
	  Update GStreamer requirements.

2004-10-06  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* src/Makefile.am:
	* src/gstvideowidget.c:
	* src/gstvideowidget.h:
	* src/bacon-video-widget-gst.c: (bacon_video_widget_realize),
	(bacon_video_widget_expose_event),
	(bacon_video_widget_size_request),
	(bacon_video_widget_size_allocate),
	(bacon_video_widget_class_init), (shrink_toplevel),
	(bacon_video_widget_signal_idler), (bacon_video_widget_open),
	(bacon_video_widget_set_logo), (bacon_video_widget_set_logo_mode),
	(bacon_video_widget_get_logo_mode),
	(bacon_video_widget_set_fullscreen),
	(bacon_video_widget_set_show_cursor),
	(bacon_video_widget_get_show_cursor),
	(bacon_video_widget_get_auto_resize),
	(bacon_video_widget_set_auto_resize),
	(bacon_video_widget_set_aspect_ratio),
	(bacon_video_widget_get_aspect_ratio),
	(bacon_video_widget_set_scale_ratio),
	(bacon_video_widget_is_seekable), (bacon_video_widget_new):
	  Remove gstvideowidget, integrate widget in bvw just like the
	  xine version does. Fix some obscure race or so that made this
	  not work on some systems and work fien on others.
	* src/totem-statusbar.c: (totem_statusbar_set_time_and_length):
	  Only redraw the label if it actually changed. Huge performance
	  benefit (drawing labels is expensive...).

2004-09-29  Ronald S. Bultje  <rbultje@ronald.bitfreak.net>

	* configure.in:
	* src/Makefile.am:
	* src/bacon-video-widget-gst.c: (bacon_video_widget_vw_exposed),
	(bacon_video_widget_class_init), (bacon_video_widget_init),
	(bacon_video_widget_signal_idler), (got_found_tag),
	(got_video_size), (got_eos), (got_stream_length), (got_time_tick),
	(cb_iterate), (state_change), (got_error),
	(bacon_video_widget_finalize), (bacon_video_widget_open),
	(bacon_video_widget_play), (bacon_video_widget_seek),
	(bacon_video_widget_seek_time), (bacon_video_widget_stop),
	(bacon_video_widget_close), (bacon_video_widget_dvd_event),
	(bacon_video_widget_pause), (bacon_video_widget_can_set_volume),
	(bacon_video_widget_set_volume), (bacon_video_widget_get_volume),
	(bacon_video_widget_set_media_device),
	(bacon_video_widget_set_show_visuals),
	(bacon_video_widget_get_visuals_list),
	(bacon_video_widget_set_visuals),
	(bacon_video_widget_set_visuals_quality),
	(bacon_video_widget_get_auto_resize),
	(bacon_video_widget_set_auto_resize),
	(bacon_video_widget_set_aspect_ratio),
	(bacon_video_widget_get_aspect_ratio),
	(bacon_video_widget_set_scale_ratio),
	(bacon_video_widget_is_playing), (bacon_video_widget_is_seekable),
	(bacon_video_widget_can_play), (bacon_video_widget_get_mrls),
	(bacon_video_widget_get_metadata_string),
	(bacon_video_widget_get_metadata_int),
	(bacon_video_widget_get_metadata_bool),
	(bacon_video_widget_get_metadata),
	(bacon_video_widget_can_get_frames),
	(bacon_video_widget_get_current_frame), (bacon_video_widget_new):
	* src/gststreaminfo.h:
	  Make GStreamer backend use playbin. Also lots of small changes
	  to make it integrate a bit with playbin. Implements some missing
	  properties (such as has_video) and modifies tag handling to use
	  the GStreamer tag objects for that (instead of a hashtable).
	  Disable visualizations, DVD, VCD and CDDA until we've actually
	  implemented that.

2004-09-28  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (load_video_out_driver):
	the new xxmc video plugin has fallback for Xv for non-MPEG streams
	so try and use it in place of the xv driver

2004-09-26  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_write_pls):
	when writing .pls files, check whether there actually is a relative
	path

2004-09-26  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_relative),
	(totem_pl_parser_write_pls): Make the .pls playlist writer also use
	relative paths

2004-09-26  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/test-parser.c: test for the absolute to relative path converter
	and the Unix to DOS path converter
	* src/totem-pl-parser.c: (totem_pl_parser_base_url),
	(totem_pl_parser_write_pls), (totem_pl_parser_relative),
	(totem_pl_parser_url_to_dos), (totem_pl_parser_write_m3u),
	(totem_pl_parser_write), (my_eel_read_entire_file):
	* src/totem-pl-parser.h:
	* src/totem-playlist.c: (totem_playlist_save_current_playlist):
	Add support for writing m3u files in DOS or Unix format
	(Closes: #153344)

2004-09-25  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (main): load the .glade file from the sources, if we
	can, remove unneeded glade_init()

2004-09-21  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (xine_event_message),
	(bacon_video_widget_get_nice_codec_name),
	(bacon_video_widget_open): Show an error about the audio codec not
	being handled if we have an audio only file for which we don't have
	a codec

2004-09-21  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_metadata_string),
	(bacon_video_widget_get_metadata):
	* src/bacon-video-widget.h: add BVW_INFO_ALBUM metadata
	* src/totem-pl-parser.c: (totem_pl_parser_parse_internal):
	Fix parsing of Real audio playlists (Closes: #153263)

2004-09-20  Bastien Nocera  <hadess@hadess.net>

	* data/vanity.glade: remove Bonobo requirement
	* src/.cvsignore: upd
	* src/vanity.c: (main): upd for glade file changes, allow to load
	the .glade file from the local filesystem

2004-09-17  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* src/Makefile.am:
	* src/bacon-cd-selection.c:
	* src/bacon-cd-selection.h:
	* src/cd-drive.c:
	* src/cd-drive.h:
	* src/dvd_plus_rw_utils.cpp:
	* src/totem-preferences.c:
	* src/transport.hxx: Remove copy and pasted CD selection widget code
	and use the code from the libnautilus-burn library

2004-09-16  Bastien Nocera  <hadess@hadess.net>

	* src/egg-recent-model.c: (egg_recent_model_monitor): updated from
	libegg

============ Version 0.99.16

2004-09-16  Bastien Nocera  <hadess@hadess.net>

	* configure.in:

2004-09-15  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* README: update the Copyright notices
	* src/totem-playlist.c: (totem_playlist_current_has_prefix),
	(totem_playlist_clear_with_prefix):
	* src/totem-playlist.h: add totem_playlist_clear_with_prefix
	to remove playlist items with a particular prefix
	* src/totem.c: (totem_action_eject): call
	totem_playlist_clear_with_prefix when ejecting an optical media
	instead of simply stopping the play, so that the stream doesn't
	appear in the UI after an eject (Closes: #148480)

2004-09-15  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* src/totem-pl-parser.c: (totem_pl_parser_parse_internal),
	(totem_pl_parser_parse): We now can recurse into 3 levels of
	subdirectories (enough for drag'n'dropping, say, an "iTunes Music"
	directory) (Closes: #149173)

2004-09-15  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_remote): fix addition of optical media
	URLs via the remote interface (Patch by Frederic Crozat
	<fcrozat@mandrakesoft.com>)

2004-09-15  Bastien Nocera  <hadess@hadess.net>

	* data/totem.keys: Add matroska to the .keys file for totem
	(Patch by Frederic Crozat <fcrozat@mandrakesoft.com>)

2004-09-15  Bastien Nocera  <hadess@hadess.net>

	* src/totem-preferences.c: (on_button1_clicked): fix KDE detection
	for newer KDE versions (Patch by Frederic Crozat
	<fcrozat@mandrakesoft.com>)

2004-09-15  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (xine_event_message),
	(bacon_video_widget_set_logo): work-around a bug in xine-lib where
	it wouldn't send the right error message if trying to play a DVD
	without libdvdcss installed (Patch by Frederic Crozat
	<fcrozat@mandrakesoft.com>)

2004-09-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem-remote.h:
	* src/totem.c: (totem_action_remote), (process_options),
	(process_command_line_early), (process_command_line), (main):
	make --debug actually work for the instance that's being started,
	add a "--toggle-controls" command-line option (Closes: #152355)

2004-09-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (process_command_line_quit), (main):
	make "totem --quit" just exit if there's no running Totem instance
	(Closes: #152360)

2004-09-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_key_press):
	make Ctrl+A select all the files in the playlist window
	(Closes: #152197)

2004-09-09  Ankit Patel <ankit@redhat.com>

	* configure.in: Added 'gu' (Gujarati) to ALL_LINGUAS.

2004-09-01  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (xine_event_message):
	* src/totem-pl-parser.c: (totem_pl_parser_add_asf_parser),
	(totem_pl_parser_add_ra), (totem_pl_parser_add_asf),
	(totem_pl_parser_scheme_is_ignored):
	* src/totem-playlist.c: (totem_playlist_is_media):
	* src/totem.c: (totem_playing_dvd), (totem_is_media),
	(totem_action_open_files_list), (process_options),
	(process_command_line):
	* src/video-dev.c: use g_str_has_prefix instead of strncmp

2004-09-01  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_open):
	Fix error message when the codec doesn't have a nice name

2004-08-23  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-properties.c:
	(bacon_video_widget_properties_set_from_current):
	Only try to get more audio/video metadata if audio/video is present

2004-08-21  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Add «nb» to ALL_LINGUAS.

2004-08-17  Mark McLoughlin  <mark@skynet.ie>

	* src/egg-recent-item.[ch],
	  src/egg-recent-model.c,
	  src/egg-recent-view-gtk.c: sync to latest libegg.

2004-08-03  Bastien Nocera  <hadess@hadess.net>

	* data/.cvsignore: upd

2004-08-03  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am:
	* data/handlers.sh:
	* src/bacon-video-widget-xine.c: (setup_config):
	install the url-handlers (pnm, rtsp, mms and mmsh) at install-time,
	not at run-time

2004-07-30  Bastien Nocera  <hadess@hadess.net>

	* data/totem.keys: add audio/x-pn-realaudio-plugin for the benefit
	of the BBC Radio website

2004-07-28  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_open):
	remove unused debug
	* src/totem-pl-parser.c: (totem_pl_parser_add_asf_parser),
	(totem_pl_parser_add_asf): fix parsing of ASX playlists

============ Version 0.99.15.1

2004-07-24  Bastien Nocera  <hadess@hadess.net>

	* NEWS:
	* configure.in: yay, I suck at doing releases

============ Version 0.99.15

2004-07-24  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* configure.in: 0.99.15

2004-07-23  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.h: removed the second occurence of
	BVW_ERROR_FILE_PERMISSION (Closes: #148219)
	

2004-07-23  Bastien Nocera  <hadess@hadess.net>

	* data/desktop.sh: oops, forgot that

============ Version 0.99.14

2004-07-22  Bastien Nocera  <hadess@hadess.net>

	* NEWS: 0.99.14
	* configure.in: upd

2004-07-22  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_window_key_press_event): "Open location..." and
	"Open..." now work in fullscreen (Closes: #147513)

2004-07-22  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_aspect_ratio),
	(bacon_video_widget_get_popt_table),
	(bacon_video_widget_error_quark):
	* src/bacon-video-widget-xine.c: (load_audio_out_driver),
	(xine_event_message), (xine_error),
	(bacon_video_widget_error_quark), (bacon_video_widget_new),
	(bacon_video_widget_open), (bacon_video_widget_can_get_frames):
	* src/bacon-video-widget.h:
	* src/totem-video-thumbnailer.c: (save_still_pixbuf), (main):
	Add Quarks to the GError the video widget generates, thumbnail
	the file by hand if it's an image, and not a movie

2004-07-22  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am:
	* data/totem.desktop.in:
	* data/totem.desktop.in.in: I'm the first kid on my block to add
	MimeType= to my .desktop files, I rock

2004-07-19  Bastien Nocera  <hadess@hadess.net>

	* src/totem-stock-icons.c: (totem_named_icons_init): Use g_str_hash
	not g_str_equal (fixes stock items not appearing on some platforms)
	(patch from Brian Cameron <rian.cameron@sun.com>) (Closes: #147920)

2004-07-19  Bastien Nocera  <hadess@hadess.net>

	* src/debug.h: fix compilation on Solaris (patch from Brian Cameron
	<Brian.cameron@sun.com>) (Closes: #147739)

2004-07-19  Bastien Nocera  <hadess@hadess.net>

	* NEWS:
	* README: upd
	* src/totem.c: make Shift+Left arrow go back 5 seconds, not 15
	(just the left arrow already does 15 seconds)

2004-07-11  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_window_key_press_event): Make Eject keyboard
	shortcuts work when Controls are hidden (Closes: #147267)

2004-07-08  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/dvd_plus_rw_utils.cpp: update from n-c-b, fixes compilation
	on Solaris (Closes: #145550)

2004-07-06  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_add_files):
	s/Select Files/Select Movies or Playlists/ (Closes: #145415)

2004-07-06  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_write): better error message
	when the playlist can't be written
	* src/totem-playlist.c: (totem_playlist_save_files): don't use
	g_file_test() on a URI, it doesn't work (Closes: #145419)

2004-07-06  Bastien Nocera  <hadess@hadess.net>

	* data/schemas.sh: actually use the size option of the thumbnailer

2004-07-04  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_handle_key): Space in full-screen mode
	now acts as play/pause

2004-07-04  Bastien Nocera  <hadess@hadess.net>

	* src/totem-video-thumbnailer.c: (add_holes_to_pixbuf_large),
	(save_pixbuf): better look and size for the large thumbnails, less
	wasted space

2004-07-04  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am:
	* data/filmholes-big-left.png:
	* data/filmholes-big-right.png:
	* src/totem-video-thumbnailer.c: (print_usage),
	(add_holes_to_pixbuf_small), (add_holes_to_pixbuf_large),
	(save_pixbuf), (main): added better holes for bigger thumbnail sizes,
	add an option to the thumnailer for bigger sizes

2004-07-04  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-properties.c:
	(bacon_video_widget_properties_set_from_current):
	* src/totem-private.h:
	* src/totem-statusbar.c: (totem_statusbar_update_time):
	* src/totem-time-label.c: (totem_time_label_new),
	(totem_time_label_class_init), (totem_time_label_set_time):
	* src/totem-time-label.h:
	* src/totem.c: (update_current_time),
	(spin_button_value_changed_cb), (totem_action_handle_key), (main):
	* src/video-utils.c: (totem_time_to_string),
	(totem_time_to_string_text):
	* src/video-utils.h:

	Move the time to string functions to the video-utils.[ch], update
	the code taking that into account, finish the TotemTimeLabel code and
	hook it up in totem.c, make Shift+Right/Left arrow do shorter seeks

2004-07-04  Bastien Nocera  <hadess@hadess.net>

	* data/Totem_properties.server.in.in._1:
	* data/Totem_properties.server.in.in._3: remove unused translations

2004-07-04  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: added a time label for the fullscreen controls
	* src/Makefile.am: upd
	* src/bacon-video-widget-xine.c: (bacon_video_widget_open),
	(bacon_video_widget_play), (bacon_video_widget_get_metadata_int),
	(bacon_video_widget_get_metadata):
	* src/bacon-video-widget.h: removed the unused FOURCC metadata, removed
	unused struct members
	* src/rb-ellipsizing-label.c: more G_DEFINE_TYPE
	* src/totem-pl-parser.c: fix a warning
	* src/totem-statusbar.c: (totem_statusbar_update_time): fix an LTR/RTL
	issue with the time display, as well as a possible i18n problem
	* src/totem-time-label.[ch]: new widget to display the current position,
	not quite finished
	* src/totem.c: (on_got_metadata_event), (totem_statusbar_create),
	(totem_time_display_create): cleanups
	* src/totem.h: TotemTimeLabel creation

2004-07-03  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_add_ram),
	(totem_pl_parser_add_m3u), (totem_pl_parser_add_asf_parser),
	(totem_pl_parser_add_pls), (totem_pl_parser_add_asx),
	(totem_pl_parser_add_ra), (totem_pl_parser_add_smil),
	(totem_pl_parser_add_asf), (totem_pl_parser_add_desktop),
	(totem_pl_parser_add_directory): More work on better error message
	from the playlist, also fix a memleak in the SMIL parser

2004-07-02  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_add_mrl): show an error
	message when a file couldn't be added to the playlist
	(Closes: #109954)

============ Version 0.99.13

2004-07-02  Bastien Nocera  <hadess@hadess.net>

	* configure.in: 0.99.13
	* NEWS: upd

2004-07-02  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (read_ini_line_string),
	(totem_pl_parser_add_one_url), (totem_pl_parser_add_pls),
	(totem_pl_parser_ignore), (totem_pl_parser_parse_internal):
	only use fallback if we can't actually parse the playlist,
	don't try to open all audio/x-mp3 as m3u playlists (dah!),
	small special case to enable playback from allofmp3s.com
	(Closes: #145278)

2004-07-01  Bastien Nocera  <hadess@hadess.net>

	* help/es/.cvsignore: are we in spring?

2004-07-01  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* help/es/totem-es.omf: re-encode the file in UTF-8 (Closes: #145071)

2004-06-30  Colin Walters  <walters@verbum.org>

	* src/totem-pl-parser.h (enum TotemPlParserResult): New.

	* src/totem-pl-parser.c (totem_pl_parser_parse_internal): New
	function, busted out from totem_pl_parser_parse.  Also return
	TotemPlParserResult instead of a boolean, and check the
	recurse level to be sure we're not going too recursive.
	(totem_pl_parser_parse): Add new fallabck option, that says
	whether or not to try just adding the url.
	(totem_pl_parser_add_url_from_data): Delete; unified with
	totem_pl_parser_parse_internal.

	* src/totem-pl-parser.c: Change a bunch of internal functions
	to call totem_pl_parser_parse_internal.

2004-06-30  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: upd
	* src/list_v4l.c: (list_v4l), (main): moved from libbacon

2004-06-30  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: upd
	* src/cd-drive.[ch]:
	* src/bacon-cd-selection.[ch]: update from nautilus-cd-burner
	* src/bacon-v4l-selection.[ch]: use the GtkComboBox in place of 
	GtkOptionMenu

2004-06-28  Bastien Nocera  <hadess@hadess.net>

	* .cvsignore: upd

2004-06-28  Bastien Nocera  <hadess@hadess.net>

	* README: upd TODO
	* src/totem.c: (totem_time_within_seconds),
	(totem_action_previous): implement Iain's CD player like idea
	(only go to the previous track if we're at the beginning of the track,
	 otherwise seek back to the start)

2004-06-27  Julien MOUTTE  <julien@moutte.net>

	* configure.in: Fix build.

2004-06-22  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd

2004-06-22  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_class_init),
	(bacon_video_widget_signal_idler):
	* src/bacon-video-widget-xine.c: (bacon_video_widget_class_init),
	(frame_output_cb), (bacon_video_widget_realize),
	(bacon_video_widget_idle_signal):
	* src/bacon-video-widget.h:
	* src/baconvideowidget-marshal.list:
	* src/totem.c: (on_error_event), (video_widget_create):

	Add a "fatal" argument to the error signal, generate an async error
	signal when a video output driver isn't available on _realize,
	now we have a nice error message when a video driver isn't there
	(Closes: #143879)

2004-06-21  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_init):
	* src/bacon-video-widget-xine.c: (bacon_video_widget_init):
	* src/totem-remote.c: (totem_remote_class_init),
	(totem_remote_init):
	* src/totem-statusbar.c: use G_DEFINE_TYPE (more)

2004-06-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_set_playing): remove some
	duplicate code

2004-06-14  Bastien Nocera  <hadess@hadess.net>

	* src/video-utils.c: (totem_display_is_local): only consider display
	to be non-local if there is a hostname part of the display name
	(Closes: #143810)

2004-06-11  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: make it possible to stream samples from
	allofmp3.com (Closes: #144149)

2004-06-10  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-v4l-selection.c: (bacon_v4l_selection_init):
	* src/bacon-video-widget-properties.c:
	* src/totem-pl-parser.c:
	* src/totem-playlist.c:
	* src/totem-screenshot.c: more G_DEFINE_TYPE changes (yay for
	Matthias)

2004-06-09  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-v4l-selection.c:
	* src/bacon-video-widget-properties.c:
	* src/egg-recent-util.c:
	* src/totem-mozilla-plugin.c:
	* src/totem-mozilla-viewer.c:
	* src/totem-pl-parser.c:
	* src/totem-playlist.c:
	* src/totem-private.h:
	* src/totem-screenshot.c:
	* src/totem-statusbar.c:
	* src/vanity.c:
	* src/video-dev.c: all hail to our new gi18n.h overlords, take 3
	(I just love when glib allows me to remove code)

2004-06-09  Bastien Nocera  <hadess@hadess.net>

	* src/totem-mozilla-plugin.c: (totem_plugin_fork): Look for the plugin
	in the right location (Patch by James Ogley
	<james.ogley@pinnacle.co.uk>) (Closes: #144002)

2004-06-08  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/bacon-video-widget-xine.c: (xine_event_message),
	(xine_error): fix a problem where filenames containing escape codes
	(for example file:///foo%20bar) could cause the reason of an error
	not to appear in the dialog
	* src/totem.c: (totem_action_error), (action_toggle_playlist),
	(totem_action_set_mrl), (on_show_playlist1_activate),
	(totem_action_handle_key), (on_window_key_press_event):
	Handle Ctrl+P for the playlist even in hidden controls mode

============ Version 0.99.12

2004-06-04  Bastien Nocera  <hadess@hadess.net>

	* NEWS:
	* configure.in: 0.99.12

2004-05-30  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_add_files): Adding files to the
	playlist shouldn't say "Open" but "Add" (Closes: #143403)

2004-05-30  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_open),
	(bacon_video_widget_get_mrls): the GStreamer backend should use
	cdda: not cda: for audio CD playback
	* src/bacon-video-widget-xine.c: (bacon_video_widget_realize):
	don't crash when a file's opened on _realize, simply warn
	* src/totem.c: (totem_playing_dvd): all mrls starting with dvd: are
	DVDs playing, not just "dvd:/" (Closes: #143002)

2004-05-29  Bastien Nocera  <hadess@hadess.net>

	* data/totem.applications:
	* data/totem.keys: Plenty more Real Player-like mime-types

2004-05-13  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_new):
	* src/totem.c: (on_properties1_activate): Remove the separators
	(hmmm) (Closes: #142452)

2004-05-10  Samúel Jón Gunnarsson  <sammi@techattack.nu>

	* configure.in: Added "is" to ALL_LINGUAS

2004-05-10  Bastien Nocera  <hadess@hadess.net>

	* src/.cvsignore: upd
	* src/bacon-video-widget-xine.c: (bacon_video_widget_realize),
	(bacon_video_widget_open), (bacon_video_widget_get_mrls),
	(bacon_video_widget_set_video_device):
	* src/bacon-video-widget.h: add a way to set the video device,
	for vanity, add a warning if there's a file opened before realizing
	the widget, don't warn if there's no output at all and we're
	opening an audio-only file

2004-05-06  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_metadata_string): avoid a possible crash
	when we actually use the Musicbrainz CD Index

2004-05-06  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_dir_compare),
	(totem_pl_parser_add_directory): sort the files when adding a whole
	directory in the playlist (Closes: #131171)

2004-05-05  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* src/bacon-video-widget-xine.c: (load_video_out_driver),
	(load_audio_out_driver), (bvw_config_helper_num), (setup_config),
	(setup_config_video), (video_window_translate_point),
	(bacon_video_widget_new), (bacon_video_widget_expose),
	(bacon_video_widget_set_visuals_quality),
	(bacon_video_widget_set_auto_resize),
	(bacon_video_widget_get_metadata_string):
	* src/bacon-video-widget.h: add support for the Musicbrainz CD Index
	in the video widget (Closes: #130833), make the widget compile
	without the xine-lib deprecated features, disable CDDB info
	fetching by default

2004-05-04  Stanislav Visnovsky <visnovsky@nenya.ms.mff.cuni.cz>

	* configure.in: Added "sk" (Slovak) to ALL_LINGUAS.

2004-05-03  Bastien Nocera  <hadess@hadess.net>

	* help/de/Makefile.am: stop getting the German docs registered as
	C language. If you checked the docs recently, they *are* available
	in English as well ;)

2004-05-03  Bastien Nocera  <hadess@hadess.net>

	* data/totem.applications:
	* data/totem.keys: support "video/x-mpeg" mime-type, for the
	benefit of Outlook...

2004-05-02  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_set_audio_out_type): update audio out type
	selection for xine-lib 1-rc4a

2004-04-30  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (xine_error): fix a crash when
	an error occurs with mms:// (Closes: #141055)

2004-04-22  Bastien Nocera  <hadess@hadess.net>

	* src/totem-stock-icons.c: (totem_named_icons_init):
	* src/totem-video-thumbnailer.c: (add_holes_to_pixbuf):
	* src/totem.c: (main):
	* src/video-utils.c: (totem_pixbuf_mirror):
	* src/video-utils.h:
	move our gdk_pixbuf_mirror function to video-utils.[ch] and rename
	it totem_pixbuf_mirror(). Modify totem-video-thumbnailer to use
	the new function, Mirror the Play button in RTL languages, and
	simplify the Next/Prev button handling in RTL languages by using
	the mirror function as well

2004-04-21  Bastien Nocera  <hadess@hadess.net>

	* src/totem-stock-icons.c: (totem_set_default_icons):
	Swap the next and previous icons for RTL languages

2004-04-21  Bastien Nocera  <hadess@hadess.net>

	* src/totem-private.h:
	* src/totem.c: (move_popups), (size_changed_cb),
	(on_video_motion_notify_event): fix placement of the popups with
	RTL languages (Impressive, that was the only thing to fix ;)

2004-04-19  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* data/Makefile.am:
	* data/mozilla-viewer.glade:
	* src/Makefile.am:
	* src/totem-mozilla-plugin.c: (totem_plugin_fork),
	(totem_plugin_new_instance), (totem_plugin_destroy_instance),
	(totem_plugin_set_window), (totem_plugin_new_stream),
	(totem_plugin_destroy_stream), (totem_plugin_write_ready),
	(totem_plugin_write), (totem_plugin_stream_as_file),
	(totem_plugin_url_notify), (totem_plugin_get_value),
	(totem_plugin_set_value), (NP_GetValue), (NP_GetMIMEDescription),
	(NP_Initialize), (NP_Shutdown):
	* src/totem-mozilla-viewer.c: (totem_embedded_error_and_exit),
	(totem_embedded_open), (totem_embedded_add_children), (embedded),
	(main): Fix the GTK+ only build, disable vanity building by default
	(we need to finish it first...), commit the first version (slightly
	broken *cough*understatement*cough*) of the Mozilla plugin

============ Version 0.99.11

2004-04-18  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* configure.in: upd for release

2004-04-18  Bastien Nocera  <hadess@hadess.net>

	* README: upd

2004-04-16  Bastien Nocera  <hadess@hadess.net>

	* README: removed TODO item
	* src/bacon-video-widget-xine.c: (xine_event_message),
	(xine_error), (bacon_video_widget_open),
	(bacon_video_widget_can_get_frames):
	* src/totem.c: (totem_action_error), (totem_action_eject),
	(on_take_screenshot1_activate):
	Make sure that only one period appears on error messages, GErrors
	have periods to finish up their messages
	Sorry to the translators...

2004-04-16  Iñaki Larrañaga  <dooteo@euskalgnu.org>

	* configure.in: Added "eu" (Basque) to ALL_LINGUAS.

2004-04-16  Bastien Nocera  <hadess@hadess.net>

	* README:
	* src/bacon-video-widget-xine.c: (bacon_video_widget_pause):
	HAVE_XINE_CLOSE wasn't set by configure.in anymore, remove the ifdef

2004-04-16  Christian Neumair  <chris@gnome-de.org>

	* configure.in: (AC_OUTPUT):
	* help/Makefile.am: (SUBDIRS):
	* help/de/*:
	* help/de/figures/*: Added German documentation translation. Kudos to
	Sebastian Heinlein (sebastian.heinlein@web.de) for translation.
	* NEWS: Reflect above changes.

2004-04-15  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (xine_error): error message
	collapsing on open(), fixes 2 message boxes popping up when
	the input plugin is whinging and the engine fails to open the stream

2004-04-15  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/bacon-video-widget-xine.c: (xine_event_message):
	plan for the "permission denied" error in xine-lib
	* src/cd-drive.c: (linux_bsd_media_type):
	* src/egg-recent-util.c: upd from libbacon and libegg

2004-04-15  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_error_and_exit),
	(on_properties1_activate): remove separators in the dialogs

2004-04-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (show_controls): don't crash when hiding/showing the
	controls, following the GTK+-only build changes

2004-04-14  Bastien Nocera  <hadess@hadess.net>

	* data/screenshot.glade:
	* src/totem-screenshot.c: (totem_screenshot_new): make the screenshot
	dialog look more like the GNOME panel one, use a Save file chooser
	in the screenshot dialog (Closes: #140013)

2004-04-14  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd

2004-04-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_get_extinfo_title),
	(totem_pl_parser_add_m3u): fix crash in m3u with extinfo parsing
	(Closes: #140010)

2004-04-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem-stock-icons.c: (totem_named_icons_dispose),
	(totem_named_icons_init): make all our installed icons loadable by
	Totem (Closes: #139922)

2004-04-12  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Arabic (ar), Macedonian (mk),
	and Walloon (wa) to ALL_LINGUAS.

2004-04-12  Bastien Nocera  <hadess@hadess.net>

	* src/dvd_plus_rw_utils.cpp: update for more cleanups from libbacon
	* src/totem-playlist.c: (button_press_cb), (button_release_cb),
	(drag_begin_cb), (drag_end_cb):
	* src/totem.c: (totem_callback_connect), (main): cleanups

2004-04-10  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd

2004-04-10  Bastien Nocera  <hadess@hadess.net>

	* src/dvd_plus_rw_utils.cpp: update from libbacon (Closes: #139594)

2004-04-10  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* data/totem.glade:
	* src/Makefile.am:
	* src/bacon-cd-selection.c: (bacon_cd_selection_new),
	(bacon_cd_selection_set_device), (bacon_cd_selection_get_device):
	* src/bacon-cd-selection.h:
	* src/bacon-v4l-selection.c: (bacon_v4l_selection_new),
	(bacon_v4l_selection_set_device), (bacon_v4l_selection_get_device):
	* src/bacon-video-widget-properties.c:
	* src/egg-recent-item.c: (egg_recent_item_new),
	(egg_recent_item_set_private), (egg_recent_item_get_private):
	* src/egg-recent-item.h:
	* src/egg-recent-util.c:
	* src/egg-recent-view.h:
	* src/totem-pl-parser.c:
	* src/totem-playlist.c: (button_press_cb), (button_release_cb),
	(drag_begin_cb), (drag_end_cb), (init_treeview):
	* src/totem-preferences.c:
	* src/totem-private.h:
	* src/totem-screenshot.c:
	* src/totem-statusbar.c:
	* src/totem-stock-icons.c:
	* src/totem-video-thumbnailer.c:
	* src/totem.c: (on_open_location1_activate),
	(totem_callback_connect), (main):
	* src/vanity.c: (on_about1_activate), (vanity_callback_connect),
	(main):
	* src/video-dev.c:
	Loads of changes for the start of the GTK+ only build,
	Glade files are still broken, and the Nautilus properties page
	is built unconditionally because of what I suspect is a make bug
	Also committed a patch by Sanjay Kumar .J <vjsanjay_signed@yahoo.com>
	to allow DND reordering in the playlist, doesn't work on my machine
	I think I found another libXi bug (Closes: #121275)

2004-04-09  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_set_aspect_ratio),
	(bacon_video_widget_get_aspect_ratio):
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_set_aspect_ratio),
	(bacon_video_widget_get_aspect_ratio):
	* src/bacon-video-widget.h:
	* src/totem.c: (totem_action_toggle_aspect_ratio),
	(totem_action_set_aspect_ratio), (totem_action_get_aspect_ratio),
	(on_aspect_ratio_auto_activate), (on_aspect_ratio_square_activate),
	(on_aspect_ratio_fbt_activate), (on_aspect_anamorphic_activate),
	(on_aspect_ratio_dvb_activate), (totem_callback_connect):
	* src/totem.h: implement aspect ratio changing via a menu, adapted
	from patch by Sanjay Kumar .J <vjsanjay_signed@yahoo.com>
	(Closes: #119897)

============ Version 0.99.10

2004-04-08  Bastien Nocera  <hadess@hadess.net>

	* NEWS:
	* README: updated for release

2004-04-08  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updated
	* README: removed TODO item
	* configure.in: detect newer xine-lib versions, and require them
	Update the version to 0.99.10
	* src/bacon-video-widget-xine.c: (bacon_video_widget_tick_send):
	* src/totem.c: (play_pause_set_label), (totem_action_eject),
	(update_mrl_label), (totem_action_set_mrl), (update_current_time):
	Make sure that the statusbar label and time show that the playback
	was completely stopped, don't show a "Paused" label when the logo is
	displayed

2004-04-08  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am:
	* data/playlist.glade:
	* data/totem.1:
	Added a man page for totem by Andre Lehovich <andrel@U.Arizona.EDU>
	Changed the label of the playlist context menu from "Copy" to
	"Copy Location"

2004-04-07  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: forgot the hotkey for "Show Controls"
	(Closes: 139425)

2004-04-07  Bastien Nocera  <hadess@hadess.net>

	* README: new TODO item
	* data/playlist.glade:
	* src/totem-playlist.c: (on_copy1_activate),
	(treeview_button_pressed), (init_treeview), (totem_playlist_new):
	* src/totem.c: (on_video_button_press_event):
	add a right-click menu to the playlist, so that we can cut'n'paste
	URLs off of it

2004-04-05  Bastien Nocera  <hadess@hadess.net>

	* README: remove TODO item
	* src/totem.c: (totem_action_load_media),
	(totem_action_open_files), (on_open_location1_activate),
	(process_options), (main): fix command-line when Totem is a "server",
	add the --debug option, remove the now useless "ignore_first"
	argument to totem_action_open_files()

2004-04-05  Bastien Nocera  <hadess@hadess.net>

	* README: remove TODO item
	* src/totem.c: (totem_is_media): make "totem cd:" on the command-line
	work again (Closes: #138791)

2004-04-05  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updated
	* README: removed TODO item
	* src/bacon-video-widget-xine.c: (xine_event_message),
	(bacon_video_widget_unrealize),
	(bacon_video_widget_can_get_frames): handle events from xine-lib
	even if the explanation field is empty (Closes: #130774)
	Handle the XINE_MSG_AUDIO_OUT_UNAVAILABLE event (Closes: #111602)
	Destroy event queues in the right order, make it possible to take
	a screenshot of the logo
	* src/dvd_plus_rw_utils.cpp: valgrind fixes from libbacon
	* src/vanity.c: (vanity_callback_connect), (video_widget_create):
	make the --debug mode work again

2004-04-05  Julien MOUTTE <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_set_logo):
	gdk_pixbuf_new_from_file does not accept NULL GError it seems. That
	was working before though. Thanks to aldug for helping on that one.

2004-04-02  Andras Timar  <timar@gnome.hu>

	* configure.in: Added 'hu' to ALL_LINGUAS.

2004-04-01  Johan Dahlin  <johan@gnome.org>

	* src/bacon-video-widget-gst.c (bacon_video_widget_class_init):
	Tick, add BOOLEAN to end of argument list
	(got_time_tick): Send seekable argument.

2004-03-31  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/bacon-video-widget-xine.c: (bacon_video_widget_class_init),
	(generate_mouse_event), (bacon_video_widget_realize),
	(bacon_video_widget_tick_send), (bacon_video_widget_open),
	(bacon_video_widget_is_seekable):
	* src/bacon-video-widget.h:
	* src/baconvideowidget-marshal.list:
	* src/bvw-test.c: (main):
	* src/cd-drive.c: (get_cd_scsi_id), (get_scsi_cd_name),
	(linux_scan):
	* src/dvd_plus_rw_utils.cpp:
	* src/totem.c: (totem_action_set_mrl), (on_got_metadata_event),
	(update_seekable), (update_current_time), (gui_update_cb),
	(video_widget_create): go to towards valgrind clean, fixed up a
	deadlock when opening remote files that require authentication,
	add a "seekable" member to the tick signal

2004-03-30  Adam Weinberger  <adamw@gnome.org>

	* configure.in: Added en_CA to ALL_LINGUAS.

2004-03-29  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_add_files),
	(totem_playlist_save_files):
	* src/totem-screenshot.c: (totem_screenshot_new):
	* src/totem.c: (on_open1_activate): use the new file chooser in the
	screenshot dialog, and allow non-local files while opening and saving
	files

2004-03-28  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (parse_asx_entry), (parse_asx_entries):
	Fix parsing for http://switch.streamgate.nl/cgi-bin/streamswitch?streamid=58&a=.asx
	following the docs at http://msdn.microsoft.com/library/default.asp?url=/library/en-us/wmplay/mmp_sdk/entryrefelement.asp

2004-03-26  Žygimantas Beručka  <uid0@akl.lt>

	* configure.in: Added "lt" (Lithuanian) to ALL_LINGUAS.

2004-03-25  Jan Schmidt  <thaytan@mad.scientist.com>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_get_mrls):
	End the array with a NULL. DVD and CD playback now work with
	the GStreamer backend.

2004-03-24  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_class_init),
	(bacon_video_widget_realize), (bacon_video_widget_stop),
	(bacon_video_widget_set_fullscreen),
	(bacon_video_widget_set_show_cursor),
	(bacon_video_widget_set_tv_out): identation fixes, remove the
	key_press_event override, we were just calling the parent class'
	implementation

2004-03-22  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/totem-preferences.c: (on_tpw_color_reset_clicked),
	(totem_setup_preferences):
	* src/totem-stock-icons.c: (totem_set_default_icons):
	add a "Reset defaults" button for the colour balance sliders
	(Closes: #137946)

2004-03-22  Bastien Nocera  <hadess@hadess.net>

	* src/totem-stock-icons.c: (totem_set_default_icons),
	(totem_get_pixbuf_from_totem_install), (totem_named_icons_init):
	add support for the Playlist stock icon

2004-03-22  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/totem-private.h:
	* src/totem-stock-icons.c: (totem_get_icon_from_theme),
	(remove_value), (totem_named_icons_dispose),
	(totem_default_theme_changed), (totem_set_default_icons),
	(totem_get_named_icon_for_id), (totem_named_icons_init):
	* src/totem-stock-icons.h:
	* src/totem.c: (totem_action_exit), (play_pause_set_label),
	(totem_callback_connect), (main): add support for the stock icons for
	the Play, Pause, Previous, Next and Screenshot icons

2004-03-21  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am:
	* data/screenshot.glade:
	* data/totem.glade:
	* src/Makefile.am:
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_can_get_frames):
	* src/totem-screenshot.c: (totem_screenshot_get_type),
	(totem_screenshot_action_error), (screenshot_make_filename_helper),
	(screenshot_make_filename), (on_radiobutton_shot_toggled),
	(totem_screenshot_response), (totem_screenshot_init),
	(totem_screenshot_finalize), (totem_screenshot_new),
	(totem_screenshot_class_init):
	* src/totem-screenshot.h:
	* src/totem.c: (on_take_screenshot1_activate),
	(totem_callback_connect):
	* src/vanity.c: (vanity_action_error), (on_about1_activate),
	(on_save1_activate), (vanity_callback_connect):
	split out the screenshot dialog into a separate widget, make Totem
	and Vanity use the new widget

2004-03-20  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updated
	* README: removed TODO item
	* src/bacon-video-widget-xine.c: (setup_url_handlers),
	(setup_config): setup the url handlers for the pnm, mms and rtsp
	protocols

2004-03-20  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (setup_config_video),
	(bacon_video_widget_realize), (xine_event_message),
	(bacon_video_widget_new): do not re-use the sound driver when creating
	a new stream, disable ALSA's event thread with current xine-lib
	CVS (Closes: #122120)

2004-03-20  Bastien Nocera  <hadess@hadess.net>

	* NEWS: removed duplicate entry
	* src/bacon-video-widget-xine.c: (load_video_out_driver):
	* src/totem-preferences.c: (on_checkbutton2_toggled),
	(totem_setup_preferences):
	* src/video-utils.c: (totem_display_is_local):
	* src/video-utils.h: move totem_display_is_local to the video-utils
	and use it before probing for the Xv driver

2004-03-18  Bastien Nocera  <hadess@hadess.net>

	* configure.in: detect bad taste in TV series (Closes: #137526)

2004-03-13  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updated
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_instance_init), (setup_config_stream),
	(xine_event): don't set the image settings if they already are set
	(possibly Close: #133011)
	remove the white artifacts work-around, doesn't work properly

2004-03-12  Ronald Bultje  <rbultje@ronald.bitfreak.net>

	* configure.in:
	  GStreamer 0.8 doesn't exist yet, use gstreamer-0.8 with min. version
	  set to 0.7.6.

2004-03-11  Bastien Nocera  <hadess@hadess.net>

	* configure.in: update to use GStreamer 0.8
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_instance_init), (bacon_video_widget_realize),
	(bacon_video_widget_unrealize), (bacon_video_widget_expose),
	(bacon_video_widget_open): work-around the white artifacts when
	switching on to fullscreen, only save the volume if it's possible
	to save the volume to avoid getting a '0' volume when we restart
	with an audio output

2004-03-10  Bastien Nocera  <hadess@hadess.net>

	* NEWS: update the news

2004-03-10  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_fullscreen_mode_available):
	oops, forgot to add
	an argument to this function (thanks to Johan for spotting it)
	* src/bacon-video-widget-xine.c: (bacon_video_widget_finalize),
	(bacon_video_widget_realize), (bacon_video_widget_new):
	show a nice error when there's no video output plugin available
	* src/totem-playlist.c: (totem_playlist_error),
	(totem_playlist_save_files), (totem_playlist_init):
	* src/totem-preferences.c: (totem_action_info), (ask_show_visuals):
	* src/totem.c: (totem_action_error), (totem_action_error_and_exit),
	(on_properties1_activate):
	don't set off the separator after constructing the dialogs, fixes
	a bunch of run-time warnings

2004-03-10  Bastien Nocera  <hadess@hadess.net>

	* NEWS:
	* src/bacon-video-widget-xine.c: (bacon_video_widget_play):
	patch from Fabio Bonelli <fabiobonelli@libero.it> to restore
	the auto audio stream if a file doesn't have the same one
	available (Closes: #126578)

2004-03-10  Anders Carlsson  <andersca@gnome.org>

	* src/totem-playlist.c: (totem_playlist_add_files),
	(totem_playlist_save_files):
	* src/totem.c: (on_open1_activate):
	Set default response to GTK_RESPONSE_ACCEPT so double-clicking
	on files will work.
	
2004-03-09  Bastien Nocera  <hadess@hadess.net>

	* src/egg-recent-util.c: (egg_recent_util_get_icon):
	* src/totem.c: (totem_action_add_recent), (totem_setup_recent):
	update recent-files from libegg (fixes run-time warnings)
	Don't forget to set the groups in recent-files (Closes: #131094)

2004-03-09  Anders Carlsson  <andersca@gnome.org>

	* src/totem-playlist.c: (totem_playlist_add_files),
	(totem_playlist_save_files):
	* src/totem.c: (on_open1_activate):
	Fix button ordering in file chooser.
	
2004-03-06  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* data/totem.glade:
	* src/Makefile.am:
	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_fullscreen_mode_available):
	* src/bacon-video-widget-xine.c: (bacon_video_widget_realize),
	(bacon_video_widget_unrealize),
	(bacon_video_widget_fullscreen_mode_available),
	(bacon_video_widget_set_fullscreen),
	(bacon_video_widget_set_tv_out):
	* src/bacon-video-widget.h:
	* src/totem-playlist.c: (totem_playlist_add_files),
	(totem_playlist_save_files):
	* src/totem-preferences.c: (totem_preferences_tvout_setup):
	* src/totem.c: (totem_action_open_files_list), (on_open1_activate):
	patch from Mattias Eriksson <snaggen@acc.umu.se> to unbreak
	NVidia TV-Output (Closes: #131080)
	Fix crashes when opening the file choosers a second time

2004-03-01  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updated
	* src/totem.c: (totem_action_open_files_list): don't ignore the
	last item in the list of files to open

2004-02-28  Bastien Nocera  <hadess@hadess.net>

	* src/totem-private.h:
	* src/totem.c: (update_current_time), (vol_slider_pressed_cb),
	(vol_slider_released_cb), (seek_slider_changed_cb),
	(seek_slider_released_cb), (vol_cb), (popup_hide), (main):
	use GObject data rather than comparing pointers to widgets for
	fullscreen/windowed mode updates (Closes: #135513)
	* src/video-dev.c: (linux_add_video_dev), (linux_scan):
	add Linux 2.6 support, from libbacon

2004-02-28  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am: Honour gconf2 configure arguments (patch by
	Julio M. Merino Vidal <jmmv@menta.net>) (Closes: #135415)

2004-02-28  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_add_files),
	(totem_playlist_save_files): update the TotemPlaylist to use the
	GtkFileChooser (Closes: #133210)

2004-02-26  Julien MOUTTE <julien@moutte.net>

	* README: updated GStreamer backend todo list.

2004-02-24  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-cd-selection.c: (bacon_cd_selection_new): update from
	libbacon

2004-02-20  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* src/Makefile.am:
	* src/gnome-caption-table.c:
	* src/gnome-caption-table.h:
	* src/gnome-password-dialog.c:
	* src/gnome-password-dialog.h: more unused files removed
	* src/totem.c: (totem_action_open_files),
	(totem_action_open_files_list), (on_open1_activate),
	(on_open_location1_activate):
	* src/totem.h: updated Totem itself to use the GtkFileChooser

2004-02-19  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* data/Makefile.am:
	* data/totem-download.glade:
	* src/Makefile.am:
	* src/totem-download.c:
	* src/totem-download.h:
	* src/totem.c: (totem_action_set_mrl): remove the automatic download
	of Windows DLLs as there weren't any useful downloadable DLLs, and that
	we don't want Microsoft to sue us.
	Removes the dependency on CURL

2004-02-19  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updated
	* data/Makefile.am:
	* data/totem-random.pl: removed the useless random script, the
	functionality is builtin now

2004-02-19  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* src/Makefile.am:
	* src/gnome-authn-manager.c:
	* src/gnome-authn-manager.h:
	* src/totem.c:
	* src/vanity.c: Removed the builtin authentication manager, and
	use the one shipped in libgnomeui from the 2.4 version

2004-02-19  Bastien Nocera  <hadess@hadess.net>

	* configure.in: require GTK+ 2.3
	* src/totem.c: (totem_set_screenshot_icon),
	(totem_callback_connect): Added a totem_set_screenshot_icon function
	to use the proper icon for the screenshot function if the
	gnome-screenshot.png file (from gnome-panel) is available
	(Closes: #131708)

2004-02-19  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (main): make the command-line options translated
	(work-around #134483)

2004-02-19  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_new): Allowing for
	different schedulers to used from command line options.

2004-02-18  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_add_directory):
	Looks like g_build_filename changed behaviour when dealing with
	URIs (as opposed to local paths) (Closes: #134616)

2004-02-16  Arafat Medini  <lumina@silverpen.de>

	* confiigure.in: Added Arabic locale "ar" to ALL_LINGUAS.

2004-02-15  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_signal_idler),
	(got_error): Correct error handling.

2004-02-15  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_signal_idler),
	(got_found_tag), (got_video_size), (got_eos), (got_error): Some EOS
	fixes, and better naming of ASYNC signals.

2004-02-13  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_instance_init),
	(bacon_video_widget_get_popt_table), (bacon_video_widget_new):
	Implementing the popt options gathering method.
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_popt_table): Implementing the popt options 
	gathering method.
	* src/bacon-video-widget.h: Adding a method to get backend popt options.
	* src/totem.c: (main): Implementing correct popt options handling 
	through gnome_program_init. We now support backend options aswell.

2004-02-13  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_new): Fix a mistake
	that always triggered the error.

2004-02-13  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_new): Implementing
	correct error handling. Totem now fails nicely if some elements are
	lacking for the GStreamer pipeline.

============ Version 0.99.9

2004-02-13  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updated
	* configure.in: version 0.99.9
	* src/totem-playlist.c:
	(totem_playlist_gtk_tree_model_iter_previous),
	(totem_playlist_gtk_tree_path_equals), (treeview_row_changed),
	(totem_playlist_has_previous_mrl), (totem_playlist_set_previous):
	Don't pollute the gtk namespace

2004-02-13  Julien MOUTTE <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_signal_idler): Add
	some safety check around tag list management.

2004-02-12  Julien MOUTTE  <julien@moutte.net>

	* src/gstvideowidget.c: (gst_video_widget_reorder_windows),
	(gst_video_widget_init): Very simple fix for a very annoying bug. So 
	now the video window should show up correctly all the time and the
	black squares that were staying over it should disappear.

2004-02-07  Robert Sedak  <robert.sedak@sk.htnet.hr>
 
         * configure.in: Added "hr" (Croatian) to ALL_LINGUAS.

2004-02-05  Bastien Nocera  <hadess@hadess.net>

	* data/uri.glade: add a default button for the "Open Location"
	dialog, patch from Josselin Mouette (Closes: #132138)

2004-02-05  Bastien Nocera  <hadess@hadess.net>

	* configure.in: simple fix for older autoconfs, patch by
	Harsh Jaitly <hjaitly@novell.com> (Closes: #131709)

2004-02-05  Bastien Nocera  <hadess@hadess.net>

	* src/egg-*:
	* src/totem.c: (totem_setup_recent): Revert all the egg-recent
	changes, (should Close: #131094)

2004-02-04  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_vw_exposed),
	(bacon_video_widget_class_init), (bacon_video_widget_new): Implement
	the expose method of XOverlay interface. This way we refresh the video
	frame even when paused on expose events.
	* src/gstvideowidget.c: (gst_video_widget_expose): Fix expose method.

2004-02-02  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-v4l-selection.h:
	* src/cd-drive.c: (hal_scan_add_whitelist), (hal_scan),
	(linux_bsd_media_type), (get_device_max_speed), (scan_for_cdroms):
	* src/dvd_plus_rw_utils.cpp: update from libbacon

2004-02-01  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_motion_notify_callback),
	(bacon_video_widget_instance_init), (bacon_video_widget_open),
	(bacon_video_widget_new): Fixing for latest GStreamer CVS Head, fixing 
	mouse motion in fullscreen mode. Using opt again.

2004-01-31  Jon Trowbridge <trow@ximian.com>

	* src/bacon-cd-selection.c:
	* src/bacon-message-connection.c:
	* src/bacon-v4l-selection.c:
	* src/bacon-video-widget-properties.c:
	* src/bacon-video-widget-xine.c:
	* src/scrsaver.c:
	* src/totem-download.c:
	* src/totem-pl-parser.c:
	* src/totem-playlist.c:
	* src/totem-preferences.c:
	* src/totem-video-thumbnailer.c:
	* src/vanity.c: Paranoia.  Replaced a bunch of instances of
	'foo == TRUE' with 'foo != FALSE'.
	
	* src/bacon-message-connection.c:
	* src/bacon-video-widget-properties.c:
	* src/totem-download.c:
	* src/totem-pl-parser.c:
	* src/totem-video-thumbnailer.c:
	* src/totem.c:
	* src/vanity.c:
	* src/video-dev.c: Corrected usage of g_build_filename.  This
	fixes bug #132674.

	* src/totem.c (seek_slider_pressed_cb): Set seeking to TRUE
	in the status bar.
	(seek_slider_changed_cb): Added.  If we are dragging the seek
	slider, put the current seek position in the status bar.
	(seek_slider_released_cb): Set seeking to FALSE in the status
	bar.
	(totem_callback_connect): Connect seek_slider_changed_cb
	to the adjustment's "value_changed" signal.

	* src/totem-statusbar.c (totem_statusbar_set_seeking): Added.
	Controls the seeking flag.
	(totem_statusbar_update_time): If the seeking flag is set,
	append 'Seeking to' to the status bar label.

2004-01-30  Jon Trowbridge <trow@ximian.com>

	* src/bacon-video-widget-gst.c (bacon_video_widget_seek_time):
	Multiply the seek time by GST_MSECOND.  This fixes (among other
	things) relative seeking.

2004-01-28  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* src/totem-preferences.c: (totem_setup_preferences):
	Remove an gconf call, info was already available in a variable.

2004-01-25  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (store_tag),
	(bacon_video_widget_signal_idler): Implement metadata with the new 
	architecture.

2004-01-25  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_instance_init),
	(bacon_video_widget_signal_idler), (got_found_tag),
	(bacon_video_widget_close): Fixing metadata tags, and a bug when
	loading a media from command line.

2004-01-18  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-v4l-selection.h:
	* src/gnome-caption-table.h:
	* src/totem-preferences.h:
	* src/totem.h: Fixing some compilation warnings.

2004-01-16  Julien MOUTTE <julien@moutte.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_set_video_property): Removing a warning when
	slider reaches the edges.

2004-01-16  Julien MOUTTE <julien@moutte.net>

	* data/totem.schemas.in: Adding hue and saturation gconf keys.
	* src/bacon-video-widget-gst.c: (bacon_video_widget_new): Removing
	some debugging g_message.
	* src/bacon-video-widget-xine.c: (setup_config_stream): Fixing my own
	stupidity... i will write a 1000 times "i should not commit before
	having compiled with --enable-xine at least only once."

2004-01-15  Julien MOUTTE <julien@moutte.net>

	* data/totem.glade: Adding saturation and hue slider transforming the
	display notebook in a real colorbalance configuration interface.
	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_video_property),
	(bacon_video_widget_set_video_property), (bacon_video_widget_new):
	Implementing colorbalance and software sound mixer.
	* src/bacon-video-widget-xine.c: Implementing hue and saturation.
	* src/bacon-video-widget.h: Adding hue and saturation.
	* src/totem-preferences.c: (saturation_changed), (hue_changed),
	(totem_setup_preferences), (totem_preferences_visuals_setup):
	Integrating the 2 new sliders for hue and saturation.

2004-01-13  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updated
	* src/totem.c: (on_open1_activate): allow the user to cancel the open
	(Closes: #131323)

2004-01-12  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_video_property),
	(bacon_video_widget_set_video_property), (bacon_video_widget_new):
	Implementing brightness and contrast setting/getting thanks to the
	colorbalance interface in xvimagesink.

2004-01-12  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_set_visuals_quality): Removing the visual quality
	warning. I ll fix that later with filtered caps.

2004-01-10  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_open),
	(bacon_video_widget_can_play), (bacon_video_widget_get_mrls):
	Adding support for Audio CD playback in GStreamer backend.

2004-01-10  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_finalize),
	(bacon_video_widget_open), (bacon_video_widget_close),
	(bacon_video_widget_set_media_device), (bacon_video_widget_new):
	Implementing set_media_device to use the prefered cdrom reader.

2004-01-10  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_vw_realized),
	(bacon_video_widget_vw_allocate),
	(bacon_video_widget_button_press),
	(bacon_video_widget_button_release),
	(bacon_video_widget_motion_notify_callback),
	(bacon_video_widget_new): Implementing DVD navigation.

2004-01-10  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_open),
	(bacon_video_widget_can_play), (bacon_video_widget_get_mrls): Adding
	DVD playback in GStreamer bacon video widget. Fixes now need to be done
	in GStreamer for that work correctly.

2004-01-10  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* src/Makefile.am: explicitely link against libX11 to avoid problems
	with crappy linkers (like the Solaris one) (Closes: #130894)

2004-01-10  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/bacon-video-widget-xine.c: (bacon_video_widget_idle_signal):
	the automatic resize on new stream should be of 1:1, apparently, any
	other size confuses users (Closes: #131026)

2004-01-09  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_instance_init),
	(bacon_video_widget_signal_idler), (got_found_tag),
	(got_video_size), (got_stream_length), (got_time_tick),
	(got_error), (bacon_video_widget_finalize),
	(bacon_video_widget_set_property),
	(bacon_video_widget_get_property): Implementing an AsyncQueue for
	GStreamer signals. That fixes the resizing/fullscreen.
	* src/gstvideowidget.c: (gst_video_widget_reorder_windows),
	(gst_video_widget_realize), (gst_video_widget_expose),
	(gst_video_widget_allocate), (gst_video_widget_class_init),
	(gst_video_widget_set_source_size),
	(gst_video_widget_get_source_size), (gst_video_widget_get_logo):
	* src/gstvideowidget.h: Synchronizing with latest video widget from 
	gst-player, some bug fixes and warnings removal.

2004-01-09  Jon Trowbridge <trow@ximian.com>

	* src/bacon-video-widget-gst.c (bacon_video_widget_finalize):
	Since the GstVideoWidget stored in bvw->priv->vw has been packed
	into the BaconVideoWidget bvw, it doesn't need to be destroyed.
	(This fixes a segfault on BaconVideoWidget finalization.)

2004-01-08  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updated
	* configure.in: removed checks for the Sun keysym headers
	* data/Makefile.am:
	* src/Makefile.am: more work on making vanity optional, fix build
	(working around an automake dependency calculation bug)
	* src/totem.c: (totem_action_handle_key): don't use the XFree86
	multimedia keysyms if we're not building against XFree86
	(patch by Harsh Jaitly <hjaitly@novell.com>) (Closes: #130169)

2004-01-07  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* src/Makefile.am: make vanity optional via --enable-vanity, patch
	most from Harsh Jaitly <hjaitly@novell.com> (Closes: #130467)
	* src/bvw-test.c: (test_xine_set_mrl), (on_eos_event): fix warnings

2004-01-07  Bastien Nocera  <hadess@hadess.net>

	* src/cd-drive.[ch]:
	* src/transport.hxx: FreeBSD fixes from libbacon
	* src/totem-playlist.c:
	* src/totem-playlist.h: make set_at_end public and declare it in the
	header
	* src/totem.c: (seek_slider_released_cb), (vol_cb),
	(totem_action_open_files), (on_open1_activate):
	Make sure that non-existant local files don't get added to the
	playlist, fix handling of non-local files (unbreaks the Open URL
	support) (Closes: #130689)

2004-01-05  Bastien Nocera  <hadess@hadess.net>

	* data/totem.applications:
	* data/totem.keys: We also have matroska support now

2004-01-05  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (load_video_out_driver):
	Don't try to load the XvMC plugin, as it's broken for most
	purposes (Closes: #129783)

2004-01-05  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_open_files), (on_open1_activate):
	Patch to avoid being able to select directories in the main window
	file selector (Closes: #129459)
	Patch by Harsh Jaitly <hjaitly@novell.com>

2004-01-04  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_add_pls):
	When a file is empty, don't try to parse it, and say we parsed
	properly, fixes the problem of Totem trying to play ~/.gnome2/totem.pls
	(Closes: #129591)

2004-01-04  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_button_press):
	Don't hide mouse button presses from GTK+ (Closes: #127586)

2004-01-04  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/totem-playlist.c:
	* src/totem.c: (on_recent_file_activate):
	When a file is clicked inside the recent-files, it's added at
	the end of the playlist and played straight away (Closes: #129581)
	Patch by Harsh Jaitly <hjaitly@novell.com>

2003-12-29  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: remove unused defines and includes
	* src/totem.c: (totem_action_error_and_exit),
	(video_widget_create), (main): make sure that we don't get an
	extra period in error messages
	* src/video-utils.c: remove unneeded stdint.h include (Closes: #129909)

2003-12-29  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* README: upd
	* src/totem-preferences.c: (totem_setup_preferences):
	When the media device doesn't exist, we should get it directly from
	the selection widget (fixes problems with disappearing devices)

2003-12-29  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_restore_pl):
	Set the logo path if we can't restore a playlist on startup

2003-12-23  Julien MOUTTE <julien@moutte.net>

	* configure.in: Switching to GStreamer 0.7.x and using
	gstreamer-interfaces package.
	* src/bacon-video-widget-gst.c: (bacon_video_widget_realized),
	(print_tag), (got_found_tag), (got_video_size),
	(bacon_video_widget_finalize), (bacon_video_widget_open),
	(bacon_video_widget_play), (bacon_video_widget_seek),
	(bacon_video_widget_stop), (bacon_video_widget_close),
	(bacon_video_widget_pause), (bacon_video_widget_can_set_volume),
	(bacon_video_widget_set_volume), (bacon_video_widget_get_volume),
	(bacon_video_widget_set_show_visuals),
	(bacon_video_widget_get_visuals_list),
	(bacon_video_widget_set_visuals), (bacon_video_widget_is_playing),
	(bacon_video_widget_new): Implement the newest libgstplay API.
	* src/gstvideowidget.c: (gst_video_widget_reorder_windows),
	(gst_video_widget_realize), (gst_video_widget_expose),
	(gst_video_widget_allocate), (gst_video_widget_set_property),
	(gst_video_widget_get_property), (gst_video_widget_class_init),
	(gst_video_widget_get_video_window),
	(gst_video_widget_set_logo_focus): Implement a new video widget
	compliant with the XOverlay interface using a model similar to
	xine-lib.
	* src/gstvideowidget.h:

2003-12-22  Bastien Nocera  <hadess@hadess.net>

	* data/totem.applications:
	* data/totem.keys: added audio/x-flac as supported

2003-12-22  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: add Ctrl+P as a shortcut to show/hide the playlist

2003-12-19  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/totem-pl-parser.c: (totem_pl_parser_num_entries),
	(totem_pl_parser_write): oopsie, it didn't work the way it should have

2003-12-19  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_set_media_device): also set the media device
	for the new VCD plugin (Closes: #129452)

2003-12-18  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: remove duplicate "f" mnemonic (Closes: #129590)

2003-12-17  Bastien Nocera  <hadess@hadess.net>

	* src/cd-drive.[ch]: 
	* src/cd-drive.h:
	* src/egg-recent-*: update from libegg and libbacon
	* src/totem.c: (totem_action_add_recent), (totem_setup_recent):
	update for the API changes in libegg (Closes: #129151)

2003-12-10  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_languages),
	(bacon_video_widget_get_subtitles): we'll get this right soon :)

2003-12-10  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_open),
	(bacon_video_widget_close), (bacon_video_widget_get_languages),
	(bacon_video_widget_get_language),
	(bacon_video_widget_set_language),
	(bacon_video_widget_get_subtitles):
	Fix bugs related to subchannels labels lengths, in conjunction
	with xine-lib CVS

2003-12-09  Bastien Nocera  <hadess@hadess.net>

	* configure.in: add a --disable-curl option (Closes: #128741)
	patch by DmD Ljungmark <spider@gnome.org>
	* data/totem.applications:
	* data/totem.keys: add support for video/x-flc and video/x-anim
	mime-types

2003-12-08  Bastien Nocera  <hadess@hadess.net>

	* README: updated

2003-12-07  Jorn Baayen  <jorn@nl.linux.org>

	* data/playlist.glade:
	* data/totem.glade:
	* src/totem-playlist.c: (totem_playlist_error),
	(totem_playlist_save_files), (totem_playlist_init):
	* src/totem-preferences.c: (totem_action_info), (ask_show_visuals):
	* src/totem.c: (totem_action_error),
	(totem_action_error_try_download), (totem_action_error_and_exit),
	(update_mrl_label), (on_properties1_activate):

	HIG compliancy fixes.
	
	* data/totem.applications:

	Support application/ogg in addition to application/x-ogg.

2003-12-07  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/bacon-video-widget-xine.c: (xine_event_message):
	add support for security UI messages
	* src/totem-pl-parser.c: (totem_pl_parser_add_ram),
	(totem_pl_parser_add_m3u): small updates

2003-11-28  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* src/totem.c: (update_seekable):
	Also fix fullscreen mode.

2003-11-28  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* src/totem.c: (update_seekable):
	Disable "Time" label when stream is not seekable.

2003-11-27  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: oopsie, forgot some debug in there
	* src/totem.c: (on_take_screenshot1_activate): use
	gdk_pixbuf_scale_simple in place of gnome_thumbnail_scale_down_pixbuf
	as otherwise it barfs when scaling up (stupid thing)

2003-11-22  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_add_ram),
	(totem_pl_parser_get_extinfo_title), (totem_pl_parser_add_m3u),
	(totem_pl_parser_add_ra): split m3u parsing from ram parsing,
	add support for the extm3u format

2003-11-22  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (xine_event_message):
	* src/totem-playlist.c: (totem_playlist_is_media),
	(totem_playlist_create_full_path): explode in your face you're
	trying to playback DRM'ed crap. Die DRM, Die.

2003-11-22  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_create_full_path),
	(totem_playlist_add_one_mrl): add totem_playlist_create_full_path(),
	(Closes: #126558)

2003-11-20  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* data/totem.applications: added "uses_gnomevfs" entry which should
	allow Nautilus to know we can handle everything gnome-vfs does
	(Closes: #126715)
	* src/totem.c: (vol_slider_pressed_cb), (vol_slider_released_cb),
	(update_volume_sliders), (popup_hide), (totem_callback_connect):
	don't hide the popup window until we released the volume slider
	(Closes: #125791)

2003-11-20  Bastien Nocera  <hadess@hadess.net>

	* data/totem.applications:
	* data/totem.keys: added video/dv support (Closes: #126023)

2003-11-20  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* configure.in: fix build (bah!)
	* data/totem.applications:
	* data/totem.keys: added support for audio/x-ms-wax
	* src/totem-pl-parser.c:
	* src/totem-pl-parser.h:
	* src/totem-playlist.c: (totem_playlist_init): move the schemes to
	ignore out of the playlist parser, don't save playlist items with
	schemes to ignore (Closes: #125201)

2003-11-17  Bastien Nocera  <hadess@hadess.net>

	* data/totem.applications:
	* data/totem.keys: add support for .m4a files

2003-11-17  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_create_full_path): fix problems opening files
	with paths containing escape codes

2003-11-13  Bastien Nocera  <hadess@hadess.net>

	* configure.in: make the mmkeys detection work with -Werror

2003-11-10  Bastien Nocera  <hadess@hadess.net>

	* src/totem-remote.c: (totem_remote_init): show some errors when in
	debug mode and lirc fails to initialise

============ Version 0.99.8

2003-11-09  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am:
	* configure.in:
	* help/.cvsignore:
	* help/C/.cvsignore: fix build for the new manual, release 0.99.8

2003-11-09  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am:
	* README: updated
	* configure.in:
	* data/totem.glade:
	* help/C/Makefile.am:
	* omf.make:
	* src/Makefile.am: remove deprecation flags to compile with
	GTK+ 2.3.x
	* src/totem.c: (on_help_activate), (totem_callback_connect):
	* xmldocs.make: put the help in the build system, add a menu
	item to get to the help

2003-11-07  Chee Bin HOH  <cbhoh@gnome.org>

	* help/Makefile.am:
	* help/omf.make:
	* help/xmldocs.make:
	* help/C/legal.xml:
	* help/C/Makefile.am:
	* help/C/totem-C.omf:
	* help/C/totem.xml:
	* help/C/figures/totem_next_button.png:
	* help/C/figures/totem_pause_button.png:
	* help/C/figures/totem_play_button.png:
	* help/C/figures/totem_previous_button.png:
	* help/C/figures/totem_show_playlist_button.png:
	* help/C/figures/totem_start_window.png:
	* help/C/figures/totem_volume_maximum_button.png:
	* help/C/figures/totem_volume_mute_button.png: added online manual
	
2003-11-06  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (main): fix crash when launched without any arguments

2003-11-05  Bastien Nocera  <hadess@hadess.net>

	* data/totem.applications:
	* data/totem.keys: added type audio/x-ms-asf

2003-11-04  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* src/bacon-resize.c:
	* src/bacon-resize.h: fix build
	* src/cd-drive.c: (linux_bsd_media_type), (guess_media_type):
	updated from libbacon
	* src/totem.c: (main): make --fullscreen launch Totem in 
	fullscreen

2003-11-02  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (xine_event): when getting we
	get a reference MRL from xine, that means we're playing, so play
	the file straight away (fixes playback of most of the trailers
	on the Apple website)

2003-10-25  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_add_m3u):
	handle the stop command in Real Media playlists

2003-10-23  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* src/bacon-video-widget-xine.c: (load_video_out_driver): try to
	load the xvmc driver before xv and xshm

2003-10-20  Bastien Nocera  <hadess@hadess.net>

	* README: update link to the release notes

2003-10-19  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* src/Makefile.am:
	* src/bacon-video-widget-properties.c:
	(bacon_video_widget_properties_get_type),
	(bacon_video_widget_properties_new),
	(bacon_video_widget_properties_class_init): descend of a VBox
	instead of Dialog
	* src/bacon-video-widget-properties.h: ditto
	* src/bacon-video-widget-xine.c: (bacon_video_widget_new):
	drop the number of buffers to 5 instead of 500
	* src/totem-properties-page.c: (on_got_metadata_event),
	(totem_properties_page_init), (totem_properties_page_finalize),
	(set_property): embed the BaconVideoWidgetProperties instead
	of cut'n'paste silliness
	* src/totem.c: (hide_props_dialog), (on_properties1_activate):
	update for new BaconVideoWidgetProperties

2003-10-17  Bastien Nocera  <hadess@hadess.net>

	* src/totem-statusbar.c: (totem_statusbar_push):
	pop the old labels and progress when we reach 100% buffering

2003-10-17  Bastien Nocera  <hadess@hadess.net>

	* src/totem-private.h:
	* src/totem-statusbar.c: (totem_statusbar_update_time),
	(totem_statusbar_set_time), (totem_statusbar_timeout_pop),
	(totem_statusbar_push), (totem_statusbar_pop):
	* src/totem-statusbar.h:
	* src/totem.c: (totem_action_error), (on_buffering_event):
	remove the buffering dialog, and use the statusbar for buffering
	status as not all buffers are filled when just opening a stream
	for example

============ Version 0.99.7

2003-10-15  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* configure.in: 0.99.7

2003-10-14  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (frame_output_cb),
	(bacon_video_widget_realize), (bacon_video_widget_set_fullscreen):
	take into account the return value from bacon_resize_init before
	calling bacon_resize itself

2003-10-13  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/totem-pl-parser.c: (totem_pl_parser_add_m3u),
	(parse_asx_entry): fix parsing of m3u and asx playlists

2003-10-13  Bastien Nocera  <hadess@hadess.net>

	* README: updated

2003-10-13  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_seek_relative): the function expects
	seconds and we were passing milliseconds, fixes seeking with the
	arrows

2003-10-13  Bastien Nocera  <hadess@hadess.net>

	* configure.in: enable HAVE_GNOME_DESKTOP by default in our
	application
	* src/bacon-video-widget-xine.c: 
	(bacon_video_widget_set_proprietary_plugins_path): add
	/usr/lib/RealPlayer9/Codecs/ as a possible path for Realplayer codecs
	* src/totem-pl-parser.c: (totem_pl_parser_write),
	(totem_pl_parser_add_pls), (totem_pl_parser_add_desktop): fix
	.pls reading and writing (damn), fix .desktop parsing
	* src/totem-playlist.c: (totem_playlist_error),
	(totem_playlist_save_current_playlist): add an error message
	when we couldn't save the playlist
	* src/totem.c: (totem_action_error): escape the url for display
	before showing it in the error message

2003-10-13  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_set_proprietary_plugins_path): add some additional
	paths to link to from Realplayer 8 and 9 (Closes: #124459)

============ Version 0.99.6

2003-10-12  Bastien Nocera  <hadess@hadess.net>

	* configure.in: pump up to 0.99.6
	* src/Makefile.am: build fixes

2003-10-12  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_add_directory): oopsie,
	if the file is not special, then we need the directory parser to add
	it manually by itself, not discard it

2003-10-12  Bastien Nocera  <hadess@hadess.net>

	* README:
	* src/totem-statusbar.c: (totem_statusbar_update_time):
	* src/totem.c: (update_mrl_label): sort out the 0 length vs.
	streaming mess

2003-10-11  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (parse_asx_entry): forgot to port a fix
	for the ASX parser

2003-10-11  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_parse): add the ignore
	mimetypes from the playlist rather than from the parser to keep
	the title unchanged (yet another Audio CD fix)

2003-10-11  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_add_m3u): ignore empty lines
	in m3u files (fixes parsing of the magnatune playlists)

2003-10-11  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_ignore),
	(totem_pl_parser_parse): fix parsing of directories with non-dual
	and non-special mimetypes

2003-10-11  Bastien Nocera  <hadess@hadess.net>

	* src/totem-pl-parser.c: (totem_pl_parser_add_pls),
	(totem_pl_parser_ignore): fix parsing of .pls playlists (ie. don't
	whinge if there's no files in it)

2003-10-10  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_mrl_to_title),
	(totem_playlist_save_get_iter_func),
	(totem_playlist_save_current_playlist),
	(gtk_tree_selection_has_selected): do the saving using the parser
	as well, nifty (not tested obviously, i'm so dazed by the visuals
	of my running version that i won't stop it)

2003-10-10  Bastien Nocera  <hadess@hadess.net>

	* configure.in: added gnome-vfs-module as a dep (urgh!)
	* src/.cvsignore: upd
	* src/Makefile.am: upd
	* src/totem-pl-parser.[ch]: build from Colin Walters' work on
	splitting out the parsing code from the playlist to another object
	* src/totem-playlist.c: (totem_playlist_entry_parsed),
	(totem_playlist_init), (totem_playlist_finalize),
	(totem_playlist_add_mrl): updated the playlist to use the new parser
	* src/totemplparser-marshal.list: added

2003-10-10  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_tick_send):
	oopsie, the tick wasn't sent when there wasn't a logo ;)

2003-10-10  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_add_one_mrl),
	(totem_playlist_add_mrl): add a work-around for huge playlists so
	that we try to guess by name first (that fixes loading the remote
	playlists with ~500 entries on magnatune.com)

2003-10-10  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_unrealize):
	only switch off the visual effects if we're not paused, fixes a
	deadlock on exit

2003-10-07  Bastien Nocera  <hadess@hadess.net>

	* README: remove a TODO item
	* src/bacon-video-widget-gst.c: (got_time_tick):
	* src/bacon-video-widget-xine.c: (bacon_video_widget_tick_send):
	modify backends to only send ticks when playing back a movie
	* src/totem.c: (update_skip_to), (update_mrl_label),
	(update_current_time): update the skip to spinner as we receive
	different stream lengths

2003-10-07  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_add_mrl): oops, return when
	a blacklisted scheme was used in the filename (fixes the audio CD
	tracks appearing twice)

2003-10-07  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_take_screenshot1_activate): scale down using
	gnome_thumbnail_scale_down_pixbuf instead of gdk_pixbuf_scale_simple

2003-10-07  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_class_init):
	* src/bacon-video-widget-xine.c: (bacon_video_widget_class_init),
	(bacon_video_widget_idle_signal), (xine_event):
	* src/bacon-video-widget.h:
	* src/totem.c: (on_speed_warning_event), (video_widget_create):
	added support for XINE_EVENT_DROPPED_FRAMES event on the xine-side,
	add the "speed-warning" signal to BaconVideoWidget, still need
	to implement the GUI on the Totem side
	See for details:
	http://sourceforge.net/mailarchive/forum.php?thread_id=2753813&forum_id=7131

2003-10-07  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (setup_config),
	(bacon_video_widget_tick_send), (bacon_video_widget_play),
	(bacon_video_widget_pause): fix a possible crash when setting the
	GError in bacon_video_widget_play, do a xine_play when the stream
	is paused *and* not playing, stop live streams on pause
	(Closes: #123557)
	* src/debug.h: fix warning
	* src/totem.c: (on_play_pause_button_clicked),
	(on_previous_button_clicked), (on_next_button_clicked),
	(on_buffering_event): add profiling to a couple of totem functions, 
	only create a buffering dialog if the buffering is below 100%

2003-10-06  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* src/totem-download.c: fix warnings
	* src/totem-playlist.c: (write_string), (ensure_shuffled),
	(totem_playlist_add_mrl_with_data), (totem_playlist_add_mrl):
	fix warnings
	* src/totem.c: (totem_action_drop_files): don't transform URIs into
	local filenames, fixes drag'n'dropping local files with percentages
	in their name

2003-10-06  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.h: sort the functions by type

2003-10-05  Mugurel Tudor  <mugurelu@go.ro>

	* configure.in: Added 'ro' to ALL_LINGUAS

2003-10-05  Bastien Nocera  <hadess@hadess.net>

	* src/totem-video-thumbnailer.c: (main): fix seeking

2003-10-04  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_seek),
	(bacon_video_widget_get_position):
	* src/bacon-video-widget.h:
	* src/totem-playlist.c:
	* src/totem-playlist.h:
	* src/totem-video-thumbnailer.c:
	* src/totem.c: (on_about1_activate), (main): couple of warnings fixes

2003-10-04  Julien MOUTTE <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_class_init),
	(got_stream_length), (got_time_tick): Fixing seeking, stream length
	and current position.

2003-10-04  Bastien Nocera  <hadess@hadess.net>

	* configure.in: more warnings
	* src/bacon-video-widget-gst.c: (got_stream_length),
	(got_time_tick), (got_error), (bacon_video_widget_play),
	(bacon_video_widget_seek), (bacon_video_widget_seek_time),
	(bacon_video_widget_set_show_visuals),
	(bacon_video_widget_get_visuals_list),
	(bacon_video_widget_get_auto_resize), (bacon_video_widget_new):
	more fixes for the gstreamer backend

2003-10-04  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_class_init),
	(got_time_tick), (bacon_video_widget_play),
	(bacon_video_widget_seek), (bacon_video_widget_seek_time),
	(bacon_video_widget_pause): update the gstreamer widget

2003-10-04  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* src/bacon-video-widget-xine.c: (bacon_video_widget_class_init),
	(bacon_video_widget_tick_send), (bacon_video_widget_play),
	(bacon_video_widget_seek), (bacon_video_widget_seek_time),
	(bacon_video_widget_set_property),
	(bacon_video_widget_get_property), (bacon_video_widget_pause),
	(bacon_video_widget_get_position),
	(bacon_video_widget_get_current_time),
	(bacon_video_widget_is_playing):
	* src/bacon-video-widget.h:
	* src/totem.c: (totem_action_play_pause): remove get and set_speed,
	use play/pause instead, fix seeking while paused

2003-10-04  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_class_init),
	(bacon_video_widget_unrealize), (bacon_video_widget_tick_send),
	(show_vfx_update), (bacon_video_widget_play),
	(bacon_video_widget_seek), (bacon_video_widget_seek_time),
	(bacon_video_widget_close), (bacon_video_widget_get_property),
	(bacon_video_widget_set_logo), (bacon_video_widget_get_position):
	* src/bacon-video-widget.h:
	* src/baconvideowidget-marshal.list:
	* src/bvw-test.c: (on_eos_event), (main):
	* src/totem-video-thumbnailer.c: (main):
	* src/totem.c: (totem_action_eject), (totem_action_play),
	(totem_action_seek), (totem_action_set_mrl_and_play),
	(totem_action_play_pause), (totem_action_set_mrl),
	(totem_action_seek_relative), (update_current_time),
	(seek_slider_released_cb), (totem_action_open_files),
	(commit_hide_skip_to), (totem_action_remote):
	* src/totem.h:
	* src/vanity.c: (video_widget_create), (process_command_line),
	(main): split bvw_play() into bvw_play, bvw_seek() and bvw_seek_time()
	seeking while paused is still broken, make the API a bit more GObject-
	like

2003-09-28  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (treeview_row_changed): and don't crash
	when we're not in shuffle mode

2003-09-28  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (treeview_row_changed): also handle
	changing the current_shuffled song index when double-clicking (oops)

2003-09-27  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (update_current_from_playlist),
	(ensure_shuffled), (totem_playlist_init), (totem_playlist_new),
	(totem_playlist_add_one_mrl), (totem_playlist_set_previous),
	(totem_playlist_set_next): fix a couple of crashers, when starting
	playback, use the first item of the shuffled playlist, not the first
	of the non shuffled one (so opening totem, dropping a bunch of files
	and pressing play will play all the files)

2003-09-27  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_save_current_playlist),
	(update_current_from_playlist), (totem_playlist_remove_files),
	(compare_random), (ensure_shuffled), (shuffle_button_toggled),
	(totem_playlist_add_one_mrl), (totem_playlist_add_mrl),
	(totem_playlist_has_previous_mrl), (totem_playlist_has_next_mrl),
	(totem_playlist_set_previous), (totem_playlist_set_next),
	(totem_playlist_set_at_end): hopefully, make shuffle work

2003-09-26  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* src/cd-drive.c: (linux_bsd_media_type), (add_whitelist),
	(get_device_max_speed), (add_linux_cd_recorder),
	(add_linux_cd_drive), (linux_scan):
	* src/cd-drive.h:
	* src/dvd_plus_rw_utils.cpp:
	updated from libbacon.

	* src/egg-recent-item.c: (egg_recent_item_ref),
	(egg_recent_item_unref):
	* src/egg-recent-item.h:
	updated from libegg.


2003-09-26  Bastien Nocera  <hadess@hadess.net>

	* data/playlist.glade:
	* data/totem.glade:
	* data/totem.schemas.in:
	* src/totem-playlist.c: (totem_playlist_save_current_playlist),
	(totem_playlist_remove_files), (shuffle_button_toggled),
	(update_shuffle_cb), (init_config), (totem_playlist_init),
	(totem_playlist_add_one_mrl), (parse_asx_entry),
	(totem_playlist_set_previous), (totem_playlist_get_shuffle),
	(totem_playlist_set_shuffle), (totem_playlist_set_at_end),
	(totem_playlist_class_init):
	* src/totem-playlist.h:
	* src/totem.c: (on_shuffle_mode1_toggled),
	(playlist_shuffle_toggle_cb), (totem_callback_connect):
	starts of a shuffle playlist, fix parsing of ASX playlists (fixes
	playback of sr.se)

2003-09-24  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_save_size), (totem_action_exit),
	(totem_action_fullscreen_toggle): fix saving the size of the widget
	before going to fullscreen, or on exit if we're not in fullscreen
	(Closes: #123109)

2003-09-22  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_open_files): close and stop the stream
	before trying to open the CD tracks, fixes run-time warning, and
	delay getting the CD track titles

2003-09-22  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_add_recent),
	(totem_add_cd_track_name), (totem_action_open_files):
	fix memleaks when using "dvd:" or "cd:" on the command-line,
	get the title of all the tracks when reading an Audio CD
	(Closes: #122821)

2003-09-22  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: fix mnemonic for the audio drop-down
	* src/bacon-video-widget-xine.c: fix compile-time warning

2003-09-21  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_instance_init), (bvw_config_helper_string),
	(bvw_config_help_num), (setup_config), (setup_config_video),
	(bacon_video_widget_set_media_device),
	(bacon_video_widget_set_proprietary_plugins_path),
	(bacon_video_widget_set_visuals_quality),
	(bacon_video_widget_set_audio_out_type): add bvw_config_helper_string
	and bvw_config_help_num working-around the crummy config system from
	xine, fix codepath for the proxy (the code to set the proxy was never
	executed) (Closes: #122212), partially fix #122580 with the new config
	changes (AC-3 passthrough not instant-apply)

2003-09-21  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c:
	* src/bacon-video-widget-xine.c:
	* src/bacon-video-widget.h: remove the _eject() command, nothing to
	do in there
	* src/totem.c: (totem_action_eject), (on_eject1_activate):
	use the "eject" command to eject CDs instead of xine-lib's internal
	one, more reliable (Closes Debian BTS #211968)

2003-09-21  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_key_press),
	(totem_playlist_new):
	* src/totem.c: (totem_action_handle_key), (video_widget_create):
	make it possible to delete playlist entries with the "Delete" key
	(Closes: #122823), fix handling of F10+modifier other than Shift

2003-09-20  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: Added more access keys (Patch from Piers Cornwell
	<piers@myrealbox.com>)

2003-09-20  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_handle_key): make Shit+F10 display the
	popup menu (Closes: #122799)

2003-09-20  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_set_mrl): set the File->Properties
	menu item unsensitive if we didn't manage to open a file, or we
	opened the logo (Closes: #122794)

2003-09-19  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* src/totem-playlist.c: (totem_playlist_add_directory):
	Remove debug.

2003-09-16  Julien MOUTTE <julien@moutte.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_set_fullscreen): Fix scaling when going
	fullscreen.

2003-09-16  Julien MOUTTE <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_finalize):
	Possible fix for bug #120119.

2003-09-16  Julien MOUTTE <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_instance_init),
	(got_vis_video_size), (bacon_video_widget_open),
	(bacon_video_widget_new): fixing bug #118533, fixing visualisation but
	we will need gstreamer-0.6.4 soon, and fixing compilation warning.

2003-09-16  Julien MOUTTE <julien@moutte.net>

	* src/gstvideowidget.c: (gst_video_widget_size_request),
	(gst_video_widget_allocate), (gst_video_widget_set_xembed_xid),
	(gst_video_widget_set_source_size): Updating gstvideowidget from
	gst-player 0.6.0. This one handles correctly scaling.

============ Version 0.99.5

2003-09-15  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* configure.in: version 0.99.5

2003-09-12  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am:
	* data/rhythmbox-volume-medium.png:
	* data/rhythmbox-volume-min.png: removed
	* data/totem.glade: upd
	* src/totem.c: (totem_action_volume_relative),
	(update_volume_sliders), (vol_cb), (on_volume_mute_button),
	(on_volume_max_button), (totem_callback_connect):
	change the volume sliders to have a button on each side, allowing
	to mute and set to the max the volume, in one click (Closes: #117764)

2003-09-11  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/bacon-video-widget-properties.c:
	(bacon_video_widget_properties_time_to_string):
	* src/totem-properties-page.c:
	(bacon_video_widget_properties_time_to_string): plural handling
	patch with ngettext (patch from <tvainika+gnomebugs@cc.hut.fi>)

2003-09-11  Bastien Nocera  <hadess@hadess.net>

	* README: updated

2003-09-11  Bastien Nocera  <hadess@hadess.net>

	* src/totem-preferences.c: (totem_action_info),
	(totem_prefs_set_show_visuals), (on_tvout_toggled),
	(on_button1_clicked), (visual_menu_changed):
	* src/totem.c: (totem_action_error),
	(totem_action_error_try_download), (totem_action_error_and_exit),
	(totem_action_play), (totem_action_load_media),
	(totem_action_set_mrl), (totem_action_seek_relative),
	(on_error_event), (on_open_location1_activate),
	(on_eject1_activate), (on_take_screenshot1_activate),
	(on_properties1_activate), (commit_hide_skip_to),
	(video_widget_create), (main):
	* src/totem.h: HIG-ify the error dialogs

2003-09-11  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* src/totem.c: (totem_action_set_mrl_and_play),
	(totem_action_set_mrl), (totem_action_previous),
	(totem_action_next), (totem_action_drop_files),
	(on_playlist_button_toggled), (update_current_time),
	(totem_action_open_files), (screenshot_make_filename_helper),
	(screenshot_make_filename), (on_take_screenshot1_activate),
	(popup_hide), (on_video_motion_notify_event), (update_buttons),
	(main): s/== TRUE/!= FALSE/, and fixed double-free that might end
	up with mighty weird hangs in _int_malloc

2003-09-07  Bastien Nocera  <hadess@hadess.net>

	* src/totem-playlist.c: (totem_playlist_add_mrl): work-around the
	gnome-vfs cdda method being quite crappy

2003-09-05  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (setup_config_video),
	(bacon_video_widget_realize), (bacon_video_widget_unrealize),
	(bacon_video_widget_play), (bacon_video_widget_set_speed),
	(bacon_video_widget_set_visuals): better solution for changing
	visual plugins when the engine is paused, still avoiding the lockup

2003-09-05  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_exit),
	(totem_action_fullscreen_toggle): save the video widget's size on
	exit, not when switching to fullscreen (thanks to Sebastien Bacher
	for the report)

2003-09-05  Taneem Ahmed  <taneem@bengalinux.org>

	* configure.in: Added "bn" to ALL_LINGUAS.

2003-09-05  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* src/bacon-video-widget-xine.c: (bacon_video_widget_set_speed):
	release the sound card with the xine backend if xine-lib is new
	enough to allow that feature

2003-09-04  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-cd-selection.h:
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_instance_init),
	(bacon_video_widget_size_request), (bacon_video_widget_eject),
	(bacon_video_widget_get_auto_resize),
	(bacon_video_widget_get_audio_out_type):
	* src/bvw-test.c: (main):
	* src/scrsaver.c: (scrsaver_disable), (scrsaver_enable):
	* src/totem-download.c: (cab_download),
	(totem_download_from_fourcc):
	* src/totem-playlist.c: (totem_playlist_add_m3u),
	(totem_playlist_add_mrl):
	* src/totem-preferences.c: (on_checkbutton2_toggled),
	(on_button1_clicked), (totem_setup_preferences),
	(totem_preferences_tvout_setup):
	* src/totem.c: (totem_action_error_try_download),
	(totem_action_load_media), (create_submenu),
	(update_dvd_menu_sub_lang):
	* src/vanity.c: (drag_video_cb):
	* src/video-dev.c: (linux_add_video_dev):
	* src/video-utils.c:

	Updated everything from libbacon, remove all the -Wall warnings,
	Work-around xscreensaver not using XSetScreenSaver (Closes: #121473)

============ Version 0.99.4

2003-09-03  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* configure.in: pump up to 0.99.4

2003-09-01  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: back out a couple of changes made by an old version
	of glade (Closes: #121136)
	* src/bacon-video-widget-xine.c: (bacon_video_widget_close):
	emit the channel-changed signal when closing a file, fixes the
	subtitles and languages menus still being populated after removing a
	DVD from the playlist

============ Version 0.99.3

2003-08-31  Bastien Nocera  <hadess@hadess.net>

	* README: updated NEWS
	* configure.in: pump up to 0.99.3

2003-08-31  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (screenshot_make_filename_helper),
	(screenshot_make_filename): take into account the "Home dir as Desktop"
	preference when saving the screenshots to the desktop (thanks to
	Ross Burton for pointing it out)

2003-08-31  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_set_mrl): set the take screenshot menu
	item unsensitive if no file has been opened (Closes: #119901)

2003-08-30  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-resize.c: put the XRandR includes inside ifdef's,
	spotted by David Collett <jg@webone.com.au>

2003-08-28  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* data/totem.glade:
	Screenshot file selector should be modal otherwise it freezes UI.

2003-08-28  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* src/totem-preferences.c: (on_button1_clicked):
	Use Konqueror instead of nautilus if running under KDE.
	Run nautilus with --no-desktop to prevent it from managing desktop.

2003-08-27  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_set_visuals):
	work-around a deadlock when unwiring the post plugin with the xine
	engine paused

2003-08-26  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: removed ICON_PATH from the CFLAGS
	* src/bacon-video-widget-gst.c: (bacon_video_widget_class_init),
	(bacon_video_widget_open), (bacon_video_widget_get_speed),
	(bacon_video_widget_set_visuals),
	(bacon_video_widget_set_visuals_quality),
	(bacon_video_widget_get_type): removed useless debug, fixed runtime
	warning
	* src/bacon-video-widget-xine.c: (bacon_video_widget_get_type),
	(bacon_video_widget_class_init),
	(bacon_video_widget_instance_init), (bacon_video_widget_finalize),
	(frame_output_cb): removed unused icon private member
	* src/bacon-video-widget.h: make the video widget descend from a
	GtkBox instead of a GtkVBox

2003-08-26  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-cd-selection.h: upd from libbacon

2003-08-07  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: s/langage/language/ (Closes: #119295)

2003-08-06  Metin Amiroff <metin@karegen.com>

	* configure.in: Added "az" (Azerbaijani) to ALL_LINGUAS

2003-08-03  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-resize.c:
	* src/bacon-resize.h: change the headers to reflect the LGPL
	copyright

2003-08-03  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-resize.c: (bacon_resize): make sure that the resizing
	works even when the resolutions from XRandR aren't sorted

2003-08-03  Telsa Gwynne  <hobbit@aloss.ukuu.org.uk>

	* configure.in: Added "cy" (Welsh) to ALL_LINGUAS

2003-08-02  Bastien Nocera  <hadess@hadess.net>

	* data/totem.applications: added startup notify key so that Nautilus
	can give us an hourglass when opening a file

2003-08-02  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/totem-playlist.c: (totem_playlist_add_directory): fix recursive
	directory loading when a unix local path is passed

2003-08-01  Bastien Nocera  <hadess@hadess.net>

	* data/totem.schemas.in: fix missing ">" (Closes: #118710)

2003-07-31  Bastien Nocera  <hadess@hadess.net>

	* data/totem.schemas.in: add full stops at the end of the long
	descriptions (Closes: #118710)

2003-07-30  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_load_media): change the "Install..." to
	"Please install...", tell the type of media that the user tried to play
	in the error message (Closes: #118658)

2003-07-30  Bastien Nocera  <hadess@hadess.net>

	* data/totem.schemas.in: added window_w and window_h entries
	* src/bacon-video-widget-xine.c: (bacon_video_widget_new),
	(bacon_video_widget_size_allocate): fix first widget size allocation
	when a widget size has been given specifically
	* src/totem.c: (totem_action_fullscreen_toggle),
	(totem_setup_window), (video_widget_create), (main): save and restore
	the size of the video widget across sessions (Closes: #118526)

2003-07-30  Bastien Nocera  <hadess@hadess.net>

	* data/totem.schemas.in: added "window_on_top" item, updated docs
	for the audio output
	* src/totem-preferences.c: (totem_setup_preferences):
	* src/totem.c: (gui_update_cb), (on_always_on_top1_activate),
	(popup_hide), (on_video_button_press_event),
	(totem_action_handle_key), (totem_callback_connect),
	(totem_setup_recent): remember the "Always On Top" setting across
	sessions (Closes: #114162)

2003-07-30  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-resize.c: (bacon_resize_init): disable xrandr's
	automatic resize, it's broken :/
	* src/totem.c: (totem_action_exit): switch off fullscreen in the
	video widget before exiting

2003-07-29  Bastien Nocera  <hadess@hadess.net>

	* README: removed TODO item
	* src/totem-playlist.c: (totem_playlist_add_directory): implement
	recursive directory loading (Closes: #118516)

2003-07-29  Bastien Nocera  <hadess@hadess.net>

	* src/totem-video-thumbnailer.c: (main): call nice() before
	initialising threads to make glib shut up, check that there is a
	GError coming out of bacon_video_widget_can_get_frames before
	printing it (Closes: #118587)

2003-07-29  Bastien Nocera  <hadess@hadess.net>

	* README: removed TODO item
	* src/totem.c: (popup_hide), (totem_callback_connect): hide the popups
	when we're changing workspaces so that they don't follow us around

2003-07-28  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/bacon-cd-selection.h: upd from libbacon
	* src/bacon-v4l-selection.[ch]:
	* src/video-dev.[ch] added the V4l Video device selection widget
	from libbacon

2003-07-26  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/totem-remote.c: (totem_remote_init): make lirc silent on startup

2003-07-25  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_realize),
	(bacon_video_widget_set_visuals): switch on-the-fly between visual
	plugins

2003-07-24  Bastien Nocera  <hadess@hadess.net>

	* src/cd-drive.c: (get_device_max_speed), (get_scsi_cd_name),
	(add_linux_cd_recorder): upd from libbacon
	* src/totem-playlist.[ch]: couple of coding style cleanups
	* src/totem.c: (on_got_metadata_event): update the playlist title
	when playing a CD with CDDB

2003-07-23  Bastien Nocera  <hadess@hadess.net>

	* data/vanity.glade: removed the placeholder
	* src/Makefile.am:
	* src/gtk-playlist.[ch]:
	* src/totem-playlist.[ch]:
	* src/totem-playlist.h:
	* src/totem-private.h:
	* src/totem.c: renamed the GtkPlaylist widget to TotemPlaylist

2003-07-22  Wang Jian  <lark@linux.net.cn>

	* configure.in: Added "zh_CN" to ALL_LINGUAS.

2003-07-19  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: link vanity against the gnome-vfs authentication
	manager (fixes building on GNOME 2.2.x)

2003-07-18  Bastien Nocera  <hadess@hadess.net>

	* src/.cvsignore: upd
	* src/Makefile.am: upd
	* src/bacon-video-widget-xine.c: (bacon_video_widget_unrealize),
	(bacon_video_widget_new): fixed 2 potential crashes
	* src/bvw-test.c: added a test program
	* src/totem.c: (on_video_motion_notify_event): maybe fix the popup
	placement issue for good?

2003-07-16  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: remove accelerators from the tab labels

2003-07-15  Bastien Nocera  <hadess@hadess.net>

	* configure.in: fix libcurl detection for version equal to the
	requirements

2003-07-15  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_play), (totem_action_set_mrl): unescape
	the MRLs for display before using them in the error messages

2003-07-15  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_idle_signal),
	(xine_event_message): pass the error messages events through the async
	handler (Closes: #117151, maybe)

2003-07-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_open_files): don't open files with
	relative paths and 2 dashes in front (ie. don't try to open command-line
	arguments) (Closes: #117359)

2003-07-13  Julien MOUTTE <julien@moutte.net>

	* src/gstvideowidget.c: Fixing indentation, and a bug when
	visualisation window resizes itself the widget needs to queue a
	resize request.
	* src/gstvideowidget.h: Adding a method to destroy embedded window.

2003-07-13  Bastien Nocera  <hadess@hadess.net>

	* src/totem-remote.h:
	* src/totem.c: (totem_action_remote),
	(totem_message_connection_receive_cb), (process_command_line):
	don't gtk_window_present when enqueuing or replacing items in the
	playlist, but do so if totem is ran without any arguments (lost your
	Totem window under your windows? :)

2003-07-11  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_load_media),
	(totem_action_play_media): check if we could actually get any mrls
	before starting playback of a media being loaded (Closes: #117160)

2003-07-11  Bastien Nocera  <hadess@hadess.net>

	* src/totem-video-thumbnailer.c: (time_monitor): don't tell nautilus
	that the file can't be thumbnailed if it takes too long to do so

2003-07-11  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_set_audio_out_type):
	* src/bacon-video-widget.h: also do ac3 passthrough with the audio
	output configuration

2003-07-11  Bastien Nocera  <hadess@hadess.net>

	* configure.in: fix detection of curl with 2 digits in either the
	major, minor or micro version, and fix the tests to actually compare
	version correctly (Spotted by Frederic Crozat, fixed with help
	from James Henstridge)

2003-07-09  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: oopsie, forgot $(XRANDR_LIBS) for
	totem-properties-page (Closes: #117073)

2003-07-07  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* src/Makefile.am:
	* src/bacon-cd-selection.[ch]:
	* src/cd-drive.[ch]:
	* src/dvd_plus_rw_utils.cpp:
	* src/egg-recent-model.c: (egg_recent_model_read_raw): memleak fix
	from Kjartan Maraas, upd from libegg
	* src/transport.hxx: updated from libbacon

2003-07-06  Gil "Dolfin" Osher <dolfin@rpg.org.il>

	* configure.in: Added "he" (Hebrew) to ALL_LINGUAS.

============ Version 0.99.2

2003-07-07  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* configure.in: pumped up to 0.99.2
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_instance_init): start the timeout for 140 msec,
	should be often enough
	* src/totem.c: (on_about1_activate): added Julien in the about box,
	updated copyright notice

2003-07-05  Bastien Nocera  <hadess@hadess.net>

	* configure.in: added subst for RANDR_LIBS
	* src/Makefile.am: added RANDR_LIBS, should fix compilation on some
	machines
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_set_audio_out_type): removed debug

2003-07-03  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_metadata_string): if the metadata isn't UTF-8,
	try to transform it into that, fixes display of non-UTF-8 id3 tags

2003-07-03  Bastien Nocera  <hadess@hadess.net>

	* AUTHORS: added Julien
	* README: updated
	* configure.in: added a little echo to show which backend is used
	when configure finished
	* src/bacon-video-widget-xine.c: (bacon_video_widget_unrealize):
	xine_stop the stream before closing it, fixes the long time periods
	when closing the application while something was playing
	* src/totem-preferences.c: (totem_prefs_set_show_visuals): really
	set the visuals in the video widget on startup

2003-07-02  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: a real audio file starting with http:// will
	be recognised as text/plain, let's handle that

2003-07-02  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: now it's totem depending on scrscaver, not the
	whole video widget
	* src/scrsaver.c: (fake_event), (scrsaver_new), (scrsaver_disable),
	(scrsaver_enable): rewrite most bits so the locking is correct,
	don't try to set g_timeout_adds of 0, get the screensaver intervals
	when disabling/enabling it
	* src/scrsaver.h: don't need the display
	* src/totem.c: (video_widget_create): re-enable the screensaver stuff
	This all fixes the "Why don't I get my expose events" bug

2003-07-02  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-resize.c: (bacon_resize_init): lock the display before
	testing for existence of the extension
	* src/scrsaver.c: (scrsaver_new): the screensaver timeout is in seconds
	and the timeout for the g_timeout_add in msec
	* src/totem-preferences.c: (totem_prefs_set_show_visuals),
	(on_checkbutton2_toggled), (totem_setup_preferences): update
	the visuals drop-down correctly on startup if they are disabled
	* src/totem.c: (video_widget_create), (main): move the screensaver
	creation before the video widget creation, and disable for now,
	it seems to be causing expose events to never reach the application

2003-07-02  Jordi Mallach  <jordi@sindominio.net>

	* data/totem.desktop.in, data/vanity.desktop.in: Replace "0" with
	"false" in Terminal entries.

2003-07-01  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_metadata_string): set the string as NULL
	if there's no data in it, fixes " - " style titles

2003-07-01  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_unrealize):
	close the stream before hiding the window

2003-06-30  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/gtk-playlist.c: (gtk_playlist_base_url),
	(gtk_playlist_add_m3u), (gtk_playlist_add_asx),
	(gtk_playlist_add_smil): the m3u playlist parser now supports
	relative URIs and paths, should make it possible to launch
	m3u files from CD-Roms, be them dos-text files or unix ones

2003-06-30  Bastien Nocera  <hadess@hadess.net>

	* README: removed screensaver TODO item
	* configure.in: added check for XRandR for XFree86 4.3.0
	* src/bacon-resize.c: (bacon_resize_init), (bacon_resize),
	(bacon_resize_get_current), (bacon_restore): fix compilation with
	XFree86 < 4.3.0
	* src/scrsaver.c: (fake_event), (scrsaver_new), (scrsaver_disable),
	(scrsaver_enable): fix screensaver functions not poking the root window
	often enough

2003-06-29  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (screenshot_make_filename_helper): fix the location
	of the default Desktop for GNOME

2003-06-29  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* data/totem.desktop.in: 
	* data/vanity.desktop.in: moved the applications to the main Red Hat
	and Ximian GNOME menus

2003-06-29  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/totem.c: (process_command_line), (main): removed FIXME about the
	libXi bug, it's fixed now, changed default command-line action to
	replace, not enqueue (Closes: #107997)

2003-06-29  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/Makefile.am: remove languages.h
	* src/bacon-resize.[ch]: added
	* src/bacon-video-widget-xine.c: (frame_output_cb), (setup_osd),
	(bacon_video_widget_realize), (bacon_video_widget_unrealize),
	(bacon_video_widget_play), (bacon_video_widget_set_fullscreen):
	change the screen resolution automatically depending on the movie
	dimensions when switching to fullscreen, uses the auto resize setting,
	takes aspect ratio into account (Closes: #113193)
	disable all the OSD stuff for now
	* src/languages.h: removed
	* src/totem-video-thumbnailer.c: (time_monitor), (main): fixed seeking
	to a third into the stream (swapped args), implement the time monitor
	thread so that thumbnailing doesn't take more than 30 secs
	* src/totem.c: (create_submenu), (totem_action_fullscreen_toggle): we
	now get directly the language, and not a code for it; the video widget
	is supposed to know when to use the auto-resize or not

2003-06-27  Julien MOUTTE <julien@moutte.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_audio_out_type),
	(bacon_video_widget_set_audio_out_type), (bacon_video_widget_open),
	(bacon_video_widget_can_play): Preparing the can play function for a
	future audio cd support, fixed new methods breaking build
	audio_out_type.

2003-06-27  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/bacon-video-widget-xine.c: (xine_event_message),
	(xine_event): change the message when a destination doesn't resolve,
	implement reference MRLs as close/open calls
	* src/gtk-playlist.c: (gtk_playlist_add_m3u): patch from Ofer Achler
	to allow Totem to read Winamp m3u files with SMB locations
	(Closes: #110129)

2003-06-25  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* data/totem.glade: remove trailing spaces (Closes: #115893)
	* data/totem.schemas.in: fix text (thanks Menthos) (Closes: #115894)
	* src/bacon-video-widget-xine.c: (setup_osd),
	(setup_config_stream), (bacon_video_widget_realize),
	(bacon_video_widget_unrealize), (bacon_video_widget_play):
	first try at OSD display on audio-only streams

2003-06-24  Bastien Nocera  <hadess@hadess.net>

	* src/totem-private.h:
	* src/totem.c: (update_mrl_label), (on_error_event),
	(update_seekable), (show_controls), (totem_is_fullscreen),
	(on_video_motion_notify_event): plenty of code style cleanups,
	fix the controls popup window not having the right position when first
	appearing

2003-06-24  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: added a drop-down menu for the audio output
	configuration
	* data/totem.schemas.in: ditto
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_audio_out_type),
	(bacon_video_widget_set_audio_out_type): added
	* src/bacon-video-widget.h: upd
	* src/totem-preferences.c: (audio_out_menu_changed),
	(totem_setup_preferences): it's now possible to change the type
	of audio output, like stereo, 4.0, 5.0 and 5.1 channels
	(Closes: #115783)

2003-06-22  Julien MOUTTE <julien@moutte.net>

	* README: upd, updated gst TODO list
	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_set_visuals_quality): Synchronized visuals quality
	to match xine backend ones.

2003-06-22  Julien MOUTTE <julien@moutte.net>

	* README: upd, updated gst TODO list
	* src/bacon-video-widget-gst.c: (bacon_video_widget_play): Implemented
	seek_to support.

============ Version 0.99.1

2003-06-22  Bastien Nocera  <hadess@hadess.net>

	* README: upd, added a gst TODO list
	* configure.in: 0.99.1
	* data/Makefile.am: fixed dependencies
	* data/totem.applications: added audio/mpeg
	* data/totem.keys: ditto

2003-06-22  Julien MOUTTE <julien@moutte.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_video_property),
	(bacon_video_widget_set_video_property): Fixing build failure

2003-06-22  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: changed the names of the scales for brightness
	and contrast
	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_video_property),
	(bacon_video_widget_set_video_property): added dummy functions
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_set_video_property): fixed an inverted test
	* src/totem-preferences.c: (brightness_changed),
	(contrast_changed), (totem_setup_preferences): change the brightness
	and contrast when somebody wiggles these scales (Closes: #112788)

2003-06-21  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am: upd
	* data/stock-tool-brightness-contrast-22.png: added
	* data/totem.glade: added a nice brightness/contrast icon from the GIMP
	* data/totem.schemas.in: added brightness and contrast
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_instance_init), (setup_config),
	(setup_config_stream), (bacon_video_widget_realize),
	(bacon_video_widget_open), (bacon_video_widget_set_logo),
	(bacon_video_widget_set_visuals_quality),
	(bacon_video_widget_get_mrls),
	(bacon_video_widget_set_scale_ratio),
	(bacon_video_widget_get_video_property),
	(bacon_video_widget_set_video_property): added a widget-wide
	GConfClient, configure the brightness and contrast on startup, tweaks
	to get goom fast enough on a decent machine, 
	* src/bacon-video-widget.h: added brightness and contrast functions
	* src/totem.c: (totem_action_set_mrl), (screenshot_make_filename):
	don't set the GError twice, try to write on ~/Desktop too, as it's the
	new GNOME default

2003-06-21  Bastien Nocera  <hadess@hadess.net>

	* src/totem-download.c: (cab_download_from_td_try): try downloading from
	the 2 servers, not both times from the same one
	* src/totem-video-thumbnailer.c: (main): try to playback from '0' if
	playing back from a third fails, fixes thumbnailing small streams even
	more

2003-06-20  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_video_motion_notify_event): fix a crash when
	using the mousewheel in fullscreen (Closes: #115463)

2003-06-20  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_set_mrl), (on_got_metadata_event),
	(update_dvd_menu_sub_lang): set the labels and playlist items when
	we get the metadata properly, fixes setting the labels with both
	backends, update subtitles and audio menus on non-DVDs as well,
	fixes OGM subtitles

2003-06-20  Bastien Nocera  <hadess@hadess.net>

	* README: updated with the latest fixes

2003-06-16  Julien MOUTTE <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_class_init),
	(got_error), (bacon_video_widget_get_metadata_string): error signal
	now indicates if playback has been stopped so that UI can update.
	* src/bacon-video-widget-xine.c: (bacon_video_widget_class_init),
	(xine_event_message): Applied the same change to xine backend.
	* src/bacon-video-widget.h: Changed signal prototype.
	* src/baconvideowidget-marshal.list: Added a STRING_BOOLEAN.
	* src/totem.c: (totem_action_error), (on_got_metadata_event),
	(on_error_event): updating depending on error signal and changing
	playlist title on metada event.

2003-06-16  Kjartan Maraas  <kmaraas@gnome.org>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_information):
	Make it compile again with gcc 2.9x.

2003-06-15  Julien MOUTTE <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (update_vis_xid), (update_xid),
	(bacon_video_widget_open), (bacon_video_widget_play),
	(bacon_video_widget_set_visuals), (bacon_video_widget_information):
	Removing some unneeded debug messages.
	* src/totem.c: (totem_action_error), (on_got_metadata_event): Updating
	title label on got_metadata event, changing play_pause label on error.

2003-06-15  Julien MOUTTE <julien@moutte.net>

	* src/bacon-video-widget-gst.c: Fixed indentation, cleaning hash table
	that has metadata, emit the got_metadata signal on get_length, other
	fixes

2003-06-15  Yanko Kaneti  <yaneti@declera.com>

	* configure.in (ALL_LINGUAS): Added "bg" (Bulgarian).

2003-06-13  Julien MOUTTE <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_set_volume),
	(bacon_video_widget_get_volume): Fixed volume slider setting/getting
	volume. Thanks to kmaraas.

2003-06-12  Bastien Nocera  <hadess@hadess.net>

	* data/properties.glade: remove unneeded gnome dependency
	* src/bacon-video-widget-properties.c: remove the separator
	(bacon_video_widget_properties_new):
	* src/totem-download.c: (cab_extract),
	(cab_url_from_fourcc_with_url), (cab_download_from_td_try),
	(cab_download), (totem_download_from_fourcc):
	* src/totem.c: (totem_action_error_try_download),
	(totem_action_set_mrl): check if the codec was downloaded correctly
	before trying to play the video again

2003-06-11  Dennis Cranston <dennis_cranston at yahoo com>

	* data/totem.glade:  Fix widget padding per HIG.  Fix case of various
	strings and adds/removes mnemonics per HIG.
	
	* data/playlist.glade:  Fix case and add a missing mnemonic for check 
	item.  Set border width to be consistant with the HIG.
	
	* data/properties.glade, data/totem-download.glade,
	  data/uri.glade:  Fix widget padding per HIG.
	  
2003-06-11  Bastien Nocera  <hadess@hadess.net>

	* src/totem-video-thumbnailer.c: (main): more tweaks for thumbnailing
	small streams

2003-06-11  Bastien Nocera  <hadess@hadess.net>

	* data/schemas.sh: try to thumbnail Real Video files
	* src/totem.c: (totem_action_error_try_download): added a FIXME

2003-06-11  Bastien Nocera  <hadess@hadess.net>

	* configure.in: fixes to get the HAVE_X86 #define right
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_can_get_frames),
	(bacon_video_widget_get_current_frame): don't whinge on 0x0 dimensions,
	probably an error, or fail later while getting the frame
	* src/totem-video-thumbnailer.c: (main): try harder to capture small
	streams, fixes thumbnailing real short films
	* src/totem.c: (totem_action_set_mrl), (totem_setup_recent):
	fix a crash on startup with setting the limit of the egg_recent stuff,
	try to reopen the movie after downloading a new codec so it can be
	played straight away, removed some unused debug

2003-06-11  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-message-connection.c: (try_server),
	(bacon_message_connection_set_callback): updated from libbacon
	* src/totem.c: (main): if we're a server, only listen to changes
	after the application is fully started, fixes a crash on startup
	when launching 2 videos from nautilus at the same time

2003-06-10  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* src/Makefile.am:
	* src/bacon-video-widget-xine.c: (bacon_video_widget_open):
	* src/totem.c: (totem_action_set_mrl), (totem_setup_recent): only
	try to auto-download codecs on x86 platforms with a recent enough
	version of libcurl, only show 5 items in the recent files list

2003-06-09  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: moved all the display preferences to another tab of
	the notebook, added GUI bits for the brightness/contrast prefs

2003-06-09  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (create_submenu): add a "None" entry to the subtitles
	submenu to turn them off completely (for some DVDs, "Auto" is not "No
	subtitles") (Closes: #113526)

2003-06-09  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_load_media),
	(totem_action_play_media), (totem_action_open_files): don't start/stop
	playing optical media files on startup (Closes: #113959)

2003-06-09  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_metadata_int),
	(bacon_video_widget_get_metadata): check for a null GValue
	* src/totem-video-thumbnailer.c: (main): add a FIXME
	* src/totem.c: (totem_action_error_try_download): initialise the GValue
	properly before using it, fixes a segfault

2003-06-08  Bastien Nocera  <hadess@hadess.net>

	* src/video-utils.c: FreeBSD compile fix (patch by Hendrik Scholz
	<hscholz@raisdorf.net>)

2003-06-05  Julien MOUTTE <julien@moutte.net>

	* src/totem.c: (totem_action_fullscreen_toggle), (show_controls),
	(on_show_controls1_activate): Fixing the show controls menu item in
	the righ click menu. It was not handled correctly with fullscreen.

2003-06-05  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_open):
	fix compilation

2003-06-03  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* configure.in: added a curl-dev dependency
	* data/Makefile.am: upd
	* data/totem-download.glade: added
	* src/Makefile.am: upd
	* src/bacon-video-widget-xine.c: (xine_event_message),
	(bacon_video_widget_open), (bacon_video_widget_get_metadata_int),
	(bacon_video_widget_get_metadata): fixed a bunch of warnings, save the
	fourcc's of the video and audio after closing them
	* src/bacon-video-widget.h: added fourcc fields to the metadata
	* src/totem-download.[ch]: added
	* src/totem.c: (totem_action_error),
	(totem_action_error_try_download), (totem_action_set_mrl),
	(on_error_event), (on_buffering_event): added a automatic downloader
	for the DLLs on x86 machines

2003-05-31  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (shrink_toplevel),
	(update_vis_xid), (update_xid), (got_error),
	(bacon_video_widget_set_scale_ratio), (bacon_video_widget_new): Error
	handling. It works with GStreamer's HEAD. Will be in 0.6.2. Fixing
	scale ratio and auto resize stuff with a shrink method of toplevel
	* src/gstvideowidget.h: Fixed tabs

2003-05-29  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: Added "zh_TW" to ALL_LINGUAS.

2003-05-28  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (xine_event_message): fyx a tippo
	(Closes: #113915)

2003-05-28  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_mrl_to_title):
	if the filename isn't in UTF-8, try to transform it from the current
	locale, fixed filenames not showing up on older systems

============ Version 0.99.0

2003-05-27  Bastien Nocera  <hadess@hadess.net>

	* configure.in: released 0.99.0

2003-05-27  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/bacon-video-widget-xine.c: (xine_event_message),
	(xine_event), (xine_error):
	* src/totem.c: (on_recent_file_activate), (on_error_event),
	(totem_action_open_files), (video_widget_create): add more error
	handling from the xine engine (like "connection refused" dialogs, and
	stuff), don't transform the uri into a local filename before feeding
	it to the playlist when restoring from the recent files, remove the
	work-arounds in adding recent files

2003-05-27  Bastien Nocera  <hadess@hadess.net>

	* data/totem.schemas.in: s/Wether/Whether/ (Closes: #113833)
	Thanks Menthos

2003-05-27  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* src/cd-drive.c: (get_scsi_units), (linux_scan), (freebsd_scan),
	(scan_for_cdroms): freebsd support and memory corruption fix
	(synced from libbacon)

2003-05-26  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* data/totem.schemas.in:
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_instance_init): Add the /apps/totem/debug entry
	to enable debug in the playback engine

2003-05-25  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/gtk-playlist.c: (gtk_playlist_add_asf_playlist),
	(gtk_playlist_add_asf), (gtk_playlist_add_mrl_with_data),
	(gtk_playlist_add_mrl): treat video/x-ms-wmv and video/x-ms-wvx
	specially, implement mmsh redirections (Closes: #109952)

2003-05-25  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_add_m3u),
	(gtk_playlist_add_asf_playlist), (gtk_playlist_add_pls),
	(gtk_playlist_add_asx), (gtk_playlist_add_ra),
	(gtk_playlist_add_smil), (gtk_playlist_add_desktop),
	(gtk_playlist_add_directory), (gtk_playlist_add_mrl_with_data),
	(gtk_playlist_add_mrl): only check for playlist and "playlist/video"
	types and add the other types straight away, it will bug the user
	when they add stuff that's not files to it, makes loading files in the
	playlist a lot faster as well

2003-05-23  Bastien Nocera  <hadess@hadess.net>

	* configure.in: added dependency on gconf for the xine backend
	* src/bacon-video-widget-xine.c: (setup_config): set the proxy
	settings in xine with the gnome settings
	* src/totem-preferences.c: (visual_quality_menu_changed): actually
	set the quality when we popup the menu
	* src/totem.c: (totem_action_fullscreen_toggle): inform the video
	widget that we're switching to fullscreen

2003-05-22  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* data/schemas.sh: make sure we don't try to thumbnail flac files

2003-05-22  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_buffering_event): create the dialog when the
	buffering is > 0 so it doesn't get in the way of possible errors

2003-05-22  Bastien Nocera  <hadess@hadess.net>

	* README: removed TODO item
	* src/gtk-playlist.c: (gtk_playlist_add_nsv),
	(gtk_playlist_add_mrl): move the nsv work-around to another function
	* src/totem.c: (totem_action_error),
	(totem_action_fullscreen_toggle), (totem_action_set_mrl): set the logo
	mode before launching it or we'll get auto-resized on logo load,
	remove the buffering dialog if we get an error
	* src/vanity.c: (drag_video_cb), (video_widget_create): don't hide
	the main window if we get an error on startup

2003-05-22  Bastien Nocera  <hadess@hadess.net>

	* README: added TODO item
	* src/gtk-playlist.c: (gtk_playlist_add_mrl): added work-around for
	the nullsoft user-agent verifier

2003-05-21  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_set_visuals),
	(bacon_video_widget_set_visuals_quality),
	(bacon_video_widget_get_auto_resize),
	(bacon_video_widget_set_scale_ratio): Implemented visuals quality and
	scale ratio handling
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_auto_resize):
	* src/bacon-video-widget.h: New method for getting auto resize mode
	* src/gstvideowidget.c: (gst_video_widget_size_request),
	(gst_video_widget_allocate), (gst_video_widget_get_scale_override),
	(gst_video_widget_set_scale_override),
	(gst_video_widget_set_scale): Adding a new method for scale override
	* src/gstvideowidget.h: Adding a new method for scale override

2003-05-21  Bastien Nocera  <hadess@hadess.net>

	* data/totem.applications:
	* data/totem.keys:
	* src/gtk-playlist.c: (gtk_playlist_add_mrl): added support for the
	SWF flash files, and FLAC

2003-05-20  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_size_request),
	(bacon_video_widget_set_scale_ratio): set the size request of the
	widget if we're trying to scale to a size that's smaller than the
	current widget size (allows 'zoom 1:2' to shrink to sizes smaller than
	the default size)

2003-05-20  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_size_request),
	(bacon_video_widget_size_allocate), (bacon_video_widget_new): Throwing
	away the first_alloc static var to use the same mechanism than
	bvw-xine.

2003-05-20  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_class_init),
	(bacon_video_widget_instance_init),
	(bacon_video_widget_size_request),
	(bacon_video_widget_size_allocate):
	* src/totem.c: (totem_action_fullscreen_toggle), (show_controls),
	(on_show_controls1_activate): patch from Julien MOUTTE
	<julien@moutte.net> to fix the hide/show controls, fullscreen,
	and auto-resize with both the xine and gst backends

2003-05-20  Bastien Nocera  <hadess@hadess.net>

	* configure.in: lower the gnome-desktop requirement
	* src/cd-drive.c: (linux_scan):
	* src/egg-recent-model.c: (egg_recent_model_get_list): updated from
	libegg and libbacon

2003-05-20  Thomas Vander Stichele <thomas at apestaart dot org>

        * configure.ac: added AC_PROG_LIBTOOL so it can compile against
          uninstalled gstreamer
          

2003-05-20  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* data/totem.keys: added video/x-nsv type

2003-05-20  Julien MOUTTE  <julien@moutte.net>

	* src/totem.c: (totem_action_fullscreen_toggle), (show_controls),
	(on_show_controls1_activate): Fixed hide/show controls and fullscreen
	the nice way. (At last...)

2003-05-19  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_fullscreen_toggle), (show_controls),
	(on_show_controls1_activate), (on_video_motion_notify_event):
	fix resizing of the widget when hiding/showing the controls

2003-05-19  Julien MOUTTE  <julien@moutte.net>

	* src/totem.c: (show_controls), (video_widget_create): Fixing a bug
	which was breaking the size request/allocate system of
	bacon_video_widget. Thanks to Kristian Rietveld <kris@gtk.org>.
	* src/vanity.c: (video_widget_create): Same here.

2003-05-18  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* configure.in: added dependency on gnome-desktop
	* src/gtk-playlist.c: (gtk_playlist_add_desktop),
	(gtk_playlist_add_mrl): we can now read the links .desktop files
	that we create when drag and dropping the video widget

2003-05-18  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_create_full_path), (totem_action_open_files):
	work-around another egg-recent bug wrt. local filenames

2003-05-18  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_size_request),
	(bacon_video_widget_size_allocate): Adding debug for fixing the
	allocation problem
	* src/gstvideowidget.c: (gst_video_widget_expose),
	(gst_video_widget_size_request), (gst_video_widget_allocate): Fixed
	some bugs with minimum size and putting some debug for allocation
	problem
	* src/totem.c: (totem_action_fullscreen_toggle),
	(video_widget_create): Added a name to bvw, changed fullscreen
	behaviour to disbable auto_resize

2003-05-17  Bastien Nocera  <hadess@hadess.net>

	* configure.in: really fix --disable-lirc
	* src/totem.c: (totem_create_full_path), (totem_is_media),
	(update_media_menu_items): fix playback of dvds, and all

2003-05-17  Bastien Nocera  <hadess@hadess.net>

	* configure.in: added a --disable-lirc option for packagers

2003-05-17  Bastien Nocera  <hadess@hadess.net>

	* configure.in: fixed a warning, and make sure that Linux systems
	are detected properly

2003-05-13  Bastien Nocera  <hadess@hadess.net>

	* README:
	* data/totem.glade:
	* src/bacon-video-widget-gst.c: (bacon_video_widget_class_init),
	(bacon_video_widget_set_fullscreen), (bacon_video_widget_new):
	* src/bacon-video-widget-xine.c: (bacon_video_widget_class_init),
	(dest_size_cb), (frame_output_cb), (bacon_video_widget_realize),
	(bacon_video_widget_unrealize), (bacon_video_widget_set_property),
	(bacon_video_widget_get_property),
	(bacon_video_widget_set_fullscreen),
	(bacon_video_widget_set_show_cursor),
	(bacon_video_widget_ratio_fits_screen):
	* src/bacon-video-widget.h:
	* src/totem-preferences.c: (on_checkbutton2_toggled),
	(deinterlace_changed_cb), (auto_resize_changed_cb),
	(show_vfx_changed_cb), (mediadev_changed_cb),
	(totem_setup_preferences), (totem_preferences_tvout_setup),
	(totem_preferences_visuals_setup):
	* src/totem-private.h:
	* src/totem.c: (play_pause_set_label), (volume_set_image),
	(totem_action_fullscreen_toggle), (totem_action_fullscreen),
	(update_mrl_label), (totem_action_set_mrl), (update_seekable),
	(on_show_playlist1_activate), (show_controls),
	(on_show_controls1_activate), (on_show_controls2_activate),
	(screenshot_make_filename), (on_radiobutton_shot_toggled),
	(hide_screenshot), (on_take_screenshot1_activate),
	(commit_hide_skip_to), (spin_button_value_changed_cb),
	(on_skip_to1_activate), (toggle_playlist_from_playlist),
	(playlist_repeat_toggle_cb), (totem_is_fullscreen),
	(on_video_motion_notify_event), (on_video_button_press_event),
	(totem_action_handle_key), (update_media_menu_items),
	(update_buttons), (update_dvd_menu_sub_lang),
	(totem_callback_connect), (video_widget_create),
	(totem_setup_recent), (main): big huge patch by Julien Moutte
	<julien@moutte.net> to rename the widgets to meaningful names,
	and move the fullscreen stuff to just use gtk_window_fullscreen(),
	xine fixes by myself, more work needed to avoid regressions

2003-05-12  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-cd-selection.c: (bacon_cd_selection_get_type):
	* src/cd-drive.c: (get_scsi_units), (cdrom_get_name),
	(add_linux_cd_recorder), (add_linux_cd_drive),
	(get_cd_device_file), (linux_scan): updated from libbacon
	(Closes: #110454)

============ Version 0.98.0

2003-05-11  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* configure.in: version 0.98.0
	* data/Makefile.am: fixes for srcdir != builddir
	* src/bacon-video-widget-gst.c: (bacon_video_widget_class_init):
	* src/bacon-video-widget-xine.c: (bacon_video_widget_class_init):
	upd gst backend so it compiles and run without warnings

2003-05-11  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_class_init),
	(bacon_video_widget_idle_signal), (xine_event):
	* src/bacon-video-widget.h:
	* src/totem-private.h:
	* src/totem.c: (totem_action_restore_pl),
	(totem_action_drop_files), (on_buffering_cancel_event),
	(on_buffering_event), (totem_action_open_files),
	(playlist_repeat_toggle_cb), (totem_action_handle_key),
	(totem_callback_connect), (video_widget_create), (main): added a
	buffering dialog when opening files from the network, it needs a bit
	of HIG love, still

2003-05-11  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_open): emit the
	got-metadata signal before we close the file, if there are errors
	* src/totem-properties-page.c:
	(bacon_video_widget_properties_time_to_string),
	(bacon_video_widget_properties_set_label),
	(bacon_video_widget_properties_reset),
	(bacon_video_widget_properties_set_from_current),
	(bacon_video_widget_properties_update), (on_got_metadata_event),
	(totem_properties_page_init), (totem_properties_page_finalize),
	(get_property), (set_property), (main): implement the properties
	loading and display (have it!)

2003-05-11  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/gtk-playlist.c: (my_gnome_vfs_get_mime_type_with_data),
	(gtk_playlist_add_asf_playlist), (gtk_playlist_add_asf):
	* src/totem.c: (totem_create_full_path), (totem_action_open_files),
	(on_open_location1_activate): load x-ms-asf videos (need to finish the
	asf playlist loading), some fixes to always put uris in the playlist,
	NULL-terminate the array used to store the "open location" uri
	(Closes: #112761)

2003-05-11  Bastien Nocera  <hadess@hadess.net>

	* data/properties.glade: removed the unused url widget
	* src/bacon-video-widget-properties.c:
	(bacon_video_widget_properties_reset),
	(bacon_video_widget_properties_set_from_current),
	(bacon_video_widget_properties_update),
	(bacon_video_widget_properties_new):
	* src/bacon-video-widget-properties.h:
	* src/bacon-video-widget-xine.c: (bacon_video_widget_class_init),
	(bacon_video_widget_realize), (bacon_video_widget_idle_signal),
	(xine_event), (bacon_video_widget_expose),
	(bacon_video_widget_open), (bacon_video_widget_play):
	* src/gstvideowidget.c: (gst_video_widget_expose):
	* src/totem.c: (totem_action_play), (totem_action_set_mrl),
	(on_title_change_event), (on_channels_change_event),
	(on_got_metadata_event), (update_dvd_menu_sub_lang),
	(video_widget_create): use the "channels-change" signal to change the
	subtitles rather than everytime the title changes, use the
	"got-metadata" signal for the xine implementation, draw a nice black
	background to the video widget on startup (restoring playlists doesn't
	look so crap anymore)

2003-05-11  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/bacon-video-widget-xine.c: (bacon_video_widget_class_init),
	(xine_event), (bacon_video_widget_set_visuals_quality):
	* src/bacon-video-widget.h: added the "channels_changed" signal,
	fix a crash in bacon_video_widget_set_visuals_quality

2003-05-10  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_set_proprietary_plugins_path):
	* src/totem-preferences.c: (on_button1_clicked),
	(totem_setup_preferences):
	* src/video-utils.c: (totem_create_symlinks):
	* src/video-utils.h: oops, we used to set the win32 path twice, and
	never for the Real .so files. On startup, create links from
	/usr/lib/win32 to ~/.gnome2/totem-addons/ (Closes: #112677)

2003-05-08  Julien MOUTTE,,,  <julien@moutte.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_set_fullscreen): Second draft. still not catching
	events.

2003-05-08  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_restore_pl), (update_mrl_label):
	added a note about the statusbar with the gst backend,
	we need to unplug the playlist before adding stuff to it on
	restore, or we end up playing it on startup

2003-05-08  Julien MOUTTE <julien@moutte.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_set_fullscreen),
	(bacon_video_widget_is_fullscreen), (bacon_video_widget_new): First
	draft of fullscreen handling code.

2003-05-08  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (my_gnome_vfs_get_mime_type_with_data),
	(gtk_playlist_save_current_playlist),
	(gtk_playlist_add_asf_playlist), (gtk_playlist_add_asf):
	* src/totem-video-thumbnailer.c: (main): fixed a bunch of warnings

2003-05-08  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_open),
	(bacon_video_widget_get_connection_speed),
	(bacon_video_widget_set_tv_out),
	(bacon_video_widget_set_visuals_quality),
	(bacon_video_widget_get_languages),
	(bacon_video_widget_get_subtitles):
	* src/totem-statusbar.c: (totem_statusbar_init):
	* src/totem.c: (totem_action_restore_pl), (totem_action_set_mrl),
	(update_current_time), (update_media_menu_items), (create_submenu),
	(process_command_line), (main):
	* src/vanity.c: (main): remove unused variables, fix some retvals,
	fix statusbar saying "Streaming" when a file can't be opened, fix
	"double-play" when restoring a playlist

2003-05-07  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_set_auto_resize),
	(bacon_video_widget_set_scale_ratio),
	(bacon_video_widget_information),
	(bacon_video_widget_get_metadata_string),
	(bacon_video_widget_get_metadata_int),
	(bacon_video_widget_get_metadata_bool), (bacon_video_widget_new): new
	video widget has auto_resize so connecting it, improving metadata
	support (still buggy)
	* src/gstvideowidget.c: (gst_video_widget_expose),
	(gst_video_widget_size_request), (gst_video_widget_allocate): Removing
	debug messages

2003-05-07  Julien MOUTTE  <julien@moutte.net>

	* src/gstvideowidget.c: (gst_video_widget_update_cursor),
	(gst_video_widget_reorder_windows), (gst_video_widget_realize),
	(gst_video_widget_unrealize), (gst_video_widget_expose),
	(gst_video_widget_size_request), (gst_video_widget_allocate),
	(gst_video_widget_set_property), (gst_video_widget_get_property),
	(gst_video_widget_class_init), (gst_video_widget_init),
	(gst_video_widget_set_xembed_xid),
	(gst_video_widget_get_xembed_xid),
	(gst_video_widget_set_source_size),
	(gst_video_widget_get_source_size),
	(gst_video_widget_set_minimum_size),
	(gst_video_widget_get_minimum_size),
	(gst_video_widget_set_cursor_visible),
	(gst_video_widget_get_cursor_visible),
	(gst_video_widget_set_logo_focus),
	(gst_video_widget_get_logo_focus),
	(gst_video_widget_set_event_catcher),
	(gst_video_widget_get_event_catcher),
	(gst_video_widget_set_auto_resize),
	(gst_video_widget_get_auto_resize), (gst_video_widget_set_scale),
	(gst_video_widget_get_scale), (gst_video_widget_set_logo),
	(gst_video_widget_get_logo): Integrating latest gstvideowidget which
	support auto detection of source size, code cleanup, auto resize mode
	(experimental still)
	* src/gstvideowidget.h:

2003-05-07  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_class_init),
	(update_vis_xid), (update_xid), (got_time_tick),
	(bacon_video_widget_finalize), (bacon_video_widget_open),
	(bacon_video_widget_get_visuals_list),
	(bacon_video_widget_set_visuals),
	(bacon_video_widget_set_visuals_quality),
	(bacon_video_widget_information),
	(bacon_video_widget_get_metadata_string),
	(bacon_video_widget_get_metadata_int),
	(bacon_video_widget_get_metadata_bool),
	(bacon_video_widget_get_metadata), (bacon_video_widget_new):
	Implementing metadata hashtable, visuals plugin list, on the fly
	visualization plugin change, got_metadata signal.

2003-05-07  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_finalize),
	(bacon_video_widget_get_visuals_list): cache the list of visuals plugins
	* src/totem.c: (totem_action_error): fix crash, the weak pointer is not
	needed anymore
	* src/vanity.c: (video_widget_create), (process_command_line),
	(main): with --debug, we load up the logo, so that work is possible
	without a webcam

2003-05-07  Julien MOUTTE  <julien@moutte.net>

	* src/totem-preferences.c: (visual_menu_changed),
	(totem_setup_preferences), (totem_preferences_visuals_setup): Not
	freeing visuals list as BVW might cache them.

2003-05-07  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_class_init):
	adding a "got_metadata" signal, so that the gst backend can inform
	totem when metadata are available.
	* src/bacon-video-widget.h:

2003-05-06  Bastien Nocera  <hadess@hadess.net>

	* src/totem-properties-page.c: (totem_properties_page_init),
	(totem_properties_page_finalize): implemented the widget creation

2003-05-06  Bastien Nocera  <hadess@hadess.net>

	* data/.cvsignore:
	* src/.cvsignore: spring cleaning

2003-05-06  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/totem-properties-page.c: added the starts of a nautilus
	properties page (should probably share code with the actual totem one)

2003-05-06  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am:
	* data/Totem_properties.server.in.in._1:
	* data/Totem_properties.server.in.in._3:
	* data/servers.sh: added scripts and server file for the property
	pages

2003-05-06  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* data/Makefile.am: only install the vanity desktop file on Linux
	systems, we could not build or install any of it, but it's not much
	point actually

2003-05-06  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (setup_config_video):
	revert change for the colour key, seems to break on some machines...
	(Closes: #112339)

2003-05-06  Danilo ? egan  <dsegan@gmx.net>

	* configure.in: Added "sr" and "sr@Latn" to ALL_LINGUAS.

2003-05-06  Bastien Nocera  <hadess@hadess.net>

	* src/languages.h: add all the languages from ISO 639-1
	* src/totem.c: (language_name_get_from_code), (main): fix for the new
	ISO 639-1 table above, and add a notice for translators

2003-05-06  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_realize): don't
	try to create a goom if we don't have an audio ouput
	* src/gtk-playlist.c: (gtk_playlist_add_mrl): application/ogg and
	application/octet-stream are good mimetypes for us (octet streams can
	happen with streaming content)
	* src/totem-statusbar.c: (totem_statusbar_update_time):
	* src/totem.c: (update_mrl_label), (update_current_time): show
	"Streaming" when we have a file for which we don't know the length

2003-05-05  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am:
	* data/totem-random.pl: added, should make people on #111942 happy
	* data/totem.keys: added application/ogg to the list of supported
	mime-types

2003-05-03  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (setup_config_video),
	(bacon_video_widget_realize): setup the colour key for Xv as dark dark
	dark dark dark dark dark dark dark black, looks nicer
	* src/totem-preferences.c: (visual_menu_changed): only whinge about
	restarting totem if the visual is actually changed
	* src/totem.c: (video_widget_create):
	* src/vanity.c: (video_widget_create): remove the hard-coded size for
	the frame containing the video widget so that we can resize to sizes
	smaller than the default size, it would make some zoom settings look
	like they weren't working

2003-05-03  Bastien Nocera  <hadess@hadess.net>

	* configure.in: take the results of AC_PATH_X into account for the
	tests for headers (Closes: #112015)

2003-05-02  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* data/totem.schemas.in:
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_instance_init), (bacon_video_widget_realize),
	(bacon_video_widget_set_show_visuals),
	(bacon_video_widget_get_visuals_list),
	(bacon_video_widget_set_visuals),
	(bacon_video_widget_set_visuals_quality):
	* src/bacon-video-widget.h:
	* src/gtk-playlist.c:
	* src/totem-preferences.c: (on_checkbutton2_toggled),
	(visual_menu_changed), (visual_quality_menu_changed),
	(totem_setup_preferences), (totem_preferences_tvout_setup),
	(totem_preferences_visuals_setup):
	* src/totem-preferences.h:
	* src/totem.c: (video_widget_create): added options to configure the
	visual plugin used, and the quality of them (size, frames per second)
	(Closes: #107244 and #109166)

2003-04-30  Bastien Nocera  <hadess@hadess.net>

	* src/vanity.c: (video_widget_create): added error checking

2003-04-30  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am:
	* data/vanity.desktop.in: added
	* data/vanity.glade: remove label in the frame, that breaks the ratio
	* src/vanity.c: (main): don't crash when showing the prefs

2003-04-30  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* data/Makefile.am:
	* data/vanity.glade:
	* data/vanity.png:
	* src/Makefile.am:
	* src/vanity.c: Vanity, revived from the dead

2003-04-29  Bastien Nocera  <hadess@hadess.net>

	* src/totem-private.h: huh? we don't have any treeviews in the main
	totem window

============ Version 0.97.0

2003-04-29  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* configure.in: 0.97.0

2003-04-29  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_restore_pl), (main): automatically
	restore the playlist on startup, it doesn't play automatically
	however, and which playlist item was being played is not saved either,
	as it is not possible with the playlist format used (Closes: #111665)
	* README: updated

2003-04-29  Bastien Nocera  <hadess@hadess.net>

	* data/playlist.glade: added save button
	* src/gtk-playlist.c: (write_string),
	(gtk_playlist_save_current_playlist), (gtk_playlist_add_files),
	(gtk_playlist_save_files), (gtk_playlist_up_files),
	(gtk_playlist_new):
	* src/gtk-playlist.h:
	* src/totem.c: (totem_action_exit): added playlist saving feature
	(Closes: #111666), the playlist is automatically saved to
	~/.gnome2/totem.pls on exit, keep the fileselector's paths even if we
	cancel the add/save

2003-04-27  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* src/bacon-video-widget-xine.c: (update_fullscreen_size): remove
	unneeded locks
	* src/gtk-playlist.c:
	* src/gtk-playlist.h: updated copyrights
	* src/totem.c: (main): display a graphical error message if X isn't
	compiled with threads, enable XInitThreads all the time now that
	a work-around has been found. See
	http://bugzilla.gnome.org/show_bug.cgi?id=111349 for details.
	1) Remove the call to XInitThreads in totem.c, totem is very
	likely to lockup, especially with the xine backend
	2) Install a Gtk+ with XInput disabled
	3) Install a fixed version of X, see the bug above for the patch

2003-04-26  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_remove_files): plug a memleak

2003-04-26  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_remove_files):
	* src/totem.c: (current_removed_cb): play the item after the currently
	removed one (Closes: #111239)

2003-04-26  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_languages),
	(bacon_video_widget_get_subtitles): look into 32 subchannels
	instead of 16
	* src/gtk-playlist.c: (gtk_playlist_move_files): update the current
	treepath, this fixes problems when moving the currently played movie

2003-04-26  Bastien Nocera  <hadess@hadess.net>

	* README: upd regarding debugging
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_instance_init), (load_audio_out_driver),
	(bacon_video_widget_open): added some way to get debugging,
	if we can't autoprobe a device, fallback on null output, and stop
	whinging, complain if a file is audio-only and there's no audio out,
	tell the user about the additional plugins only if we don't have a
	decoder for the video
	* src/totem.c: (totem_action_set_mrl): move the "additional plugins"
	hint to the video widget

2003-04-25  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* data/totem.glade: upd
	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_deinterlacing),
	(bacon_video_widget_set_tv_out), (bacon_video_widget_get_tv_out):
	* src/bacon-video-widget-xine.c: (load_video_out_driver),
	(bacon_video_widget_unrealize),
	(bacon_video_widget_get_deinterlacing),
	(bacon_video_widget_set_tv_out), (bacon_video_widget_get_tv_out):
	* src/bacon-video-widget.h:
	* src/totem-preferences.c: (on_tvout_toggled),
	(totem_setup_preferences), (totem_preferences_tvout_setup):
	* src/totem-preferences.h:
	* src/totem.c: (totem_action_error), (totem_action_handle_key),
	(video_widget_create): implemented tv-out via DXR3 or nvtv, only
	the dxr3 setting is actually saved, tv-out needs to be enabled at
	run-time for nvtv

2003-04-25  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (got_time_tick),
	(bacon_video_widget_finalize): Fixed seeking support.

2003-04-25  Bastien Nocera  <hadess@hadess.net>

	* totem.spec.in: Package the thumbnailer as well (spotted by Chris
	Chabot <chabotc@4-ice.com>

2003-04-25  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* src/gtk-playlist.c: (drop_cb), (selection_changed),
	(gtk_playlist_add_files), (gtk_playlist_remove_files),
	(gtk_playlist_move_files), (gtk_playlist_up_files),
	(gtk_playlist_down_files), (treeview_row_changed),
	(repeat_button_toggled), (update_repeat_cb), (init_config),
	(gtk_playlist_new): implement list reordering (Closes: #110236),
	small cleanups

2003-04-24  Bastien Nocera  <hadess@hadess.net>

	* README: added mention of the deinterlacing
	* data/totem.glade: made accelerator visible in the menu

2003-04-24  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* data/totem.schemas.in:
	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_set_deinterlacing),
	(bacon_video_widget_get_deinterlacing):
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_connection_speed),
	(bacon_video_widget_set_deinterlacing),
	(bacon_video_widget_get_deinterlacing):
	* src/bacon-video-widget.h:
	* src/totem-preferences.c: (on_deinterlace1_activate),
	(deinterlace_changed_cb), (auto_resize_changed_cb),
	(totem_setup_preferences):
	* src/totem.c: (totem_action_handle_key): added deinterlace
	functionality (dummy functions in gst port), don't forget to reconnect
	the "toggled" signal on the show visual fx button when the setting is
	changed via gconf, added more checks for some functions

2003-04-24  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_video_motion_notify_event),
	(totem_action_handle_scroll), (totem_action_handle_volume_scroll):
	Increase the timeout for the popup windows (5 seconds) and make
	sure that wheel mouse scrolls are taking into account as events, so
	that the window doesn't disappear in the middle of a scroll
	(Closes: #109222)

2003-04-24  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_realize),
	(bacon_video_widget_unrealize),
	(bacon_video_widget_set_fullscreen):
	* src/scrsaver.c: (fake_event), (scrsaver_new), (scrsaver_disable),
	(scrsaver_enable), (scrsaver_free):
	* src/scrsaver.h:
	* src/totem-preferences.c: (on_checkbutton2_toggled),
	(on_button1_clicked):
	* src/totem-private.h:
	* src/totem.c: (totem_action_error), (totem_action_play),
	(totem_action_play_media), (totem_action_set_mrl),
	(totem_action_seek_relative), (on_open_location1_activate),
	(on_eject1_activate), (on_take_screenshot1_activate),
	(on_properties1_activate), (commit_hide_skip_to),
	(on_video_motion_notify_event):
	* src/totem.h: remove usage of a bunch of static variables, transform
	the screensaver into an "object", and some cleanups

2003-04-24  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_exit): don't crash on exit if the totem is
	NULL (early start)

2003-04-24  Bastien Nocera  <hadess@hadess.net>

	* src/totem-preferences.c: (totem_display_is_local),
	(ask_show_visuals), (on_checkbutton2_toggled),
	(totem_setup_preferences): take into account the result from the
	"enable visuals" dialog (Really Closes: #110851)

2003-04-24  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (main): forgot a space in the string (Closes: #111459)

2003-04-23  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (configure_cb): add borders from
	the widget itself
	* src/totem.c: (main): fix a bug with quotes (Closes: #111459)

2003-04-23  Bastien Nocera  <hadess@hadess.net>

	* src/totem-preferences.c: (ask_show_visuals),
	(on_checkbutton2_toggled), (totem_setup_preferences):
	* src/totem.c: (totem_action_error_and_exit), (main): ask the user if he
	really wants visual effects when running on a non-local display
	(Closes: #110851), really display the error messages when we have
	errors on startup

2003-04-22  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* src/totem.c: (totem_action_error), (totem_action_error_and_exit),
	(totem_action_exit), (video_widget_create), (main): deactivate the
	XInitThreads when starting up with the GStreamer backend to work-around
	#111349, manage to show the error messages when the video widget
	couldn't be initialised, Gst needs more error handling

2003-04-21  Bastien Nocera  <hadess@hadess.net>

	* configure.in: debug is disabled by default
	* src/bacon-video-widget-gst.c: (bacon_video_widget_finalize): don't
	crash on exit anymore (Closes: #111300)

2003-04-21  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: (got_time_tick): don't do divisions by
	zero (Closes: #111295)

2003-04-21  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_instance_init):
	work with ANSI compilers

2003-04-21  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-xine.c: (bacon_video_widget_open):
	* src/totem.c: (totem_action_set_mrl): better message when the video
	type is not handled, ie. give a pointer to the additional plugins

2003-04-21  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (main): call XInitThreads very early on, before we
	even remotely touch the X server connection. Fixes the possible
	(async reply) lockups. Thanks to Owen Taylor for his quick diagnosis
	to the symptoms

2003-04-18  Bastien Nocera  <hadess@hadess.net>

	* src/totem-preferences.c: (totem_display_is_local),
	(totem_setup_preferences): some work towards fixing #110851

2003-04-18  Bastien Nocera  <hadess@hadess.net>

	* src/scrsaver.c: (fake_event), (scrsaver_init),
	(scrsaver_disable), (scrsaver_enable): plenty of display locking around
	all that, and use XSync, not XFlush
	* src/totem-video-thumbnailer.c: (main): enable threads all the time

2003-04-18  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* data/totem.glade:
	* src/totem.c: (totem_action_exit), (on_show_controls1_activate),
	(on_show_controls2_activate), (totem_action_handle_key),
	(totem_callback_connect): added controls to show/hide everything but
	the video canvas

2003-04-18  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* data/totem.glade:
	* src/totem.c: (totem_action_set_mrl), (update_seekable),
	(on_video_button_press_event), (update_buttons),
	(totem_callback_connect), (video_widget_create): added a popup menu
	on the canvas, for right click

2003-04-18  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_set_proprietary_plugins_path):
	* src/bacon-video-widget-xine.c: (setup_config),
	(bacon_video_widget_set_media_device),
	(bacon_video_widget_set_proprietary_plugins_path):
	* src/bacon-video-widget.h:
	* src/totem-preferences.c: (hide_prefs), (on_checkbutton1_toggled),
	(on_checkbutton2_toggled), (on_combo_entry1_changed),
	(auto_resize_changed_cb), (show_vfx_changed_cb),
	(mediadev_changed_cb), (option_menu_connection_changed),
	(on_button1_clicked), (totem_setup_preferences): added an "Add
	proprietary plugins" button to the preferences, make the xine backend
	use this path (Closes: #110384)

2003-04-18  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_class_init): We do
	no need those callbacks as the widget will forward those events.
	* src/totem.c: (totem_action_exit): Added sanity checks before
	destroying widgets that might not exist.

2003-04-18  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* src/bacon-video-widget-gst.c: (update_xid),
	(bacon_video_widget_open), (bacon_video_widget_play),
	(bacon_video_widget_set_show_visuals),
	(bacon_video_widget_is_playing), (bacon_video_widget_new): we require
	0.6.0.3 (0.6.1-pre) now, so enable all the visualisation stuff

2003-04-17  Bastien Nocera  <hadess@hadess.net>

	* README: updated, added wishlist for Uraeus

2003-04-17  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (got_stream_length),
	(got_time_tick), (bacon_video_widget_open),
	(bacon_video_widget_play), (bacon_video_widget_new): Connected time
	tick, gather stream length, seeking should work.

2003-04-16  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_about1_activate): fix description (Closes: #110975)

2003-04-16  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_new): make it
	compile on 0.6.0, meanwhile
	* src/bacon-video-widget.c: oops, forgot to remove it, it seems

2003-04-16  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: (bacon_video_widget_set_logo):
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_backend_name),
	(bacon_video_widget_set_logo):
	* src/bacon-video-widget.h:
	* src/totem.c: (on_about1_activate): booya, fix mem leaks

2003-04-16  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c:
	(bacon_video_widget_get_backend_name): Adding method to get backend
	* src/bacon-video-widget-xine.c:
	(bacon_video_widget_get_backend_name): Adding method to get backend
	* src/bacon-video-widget.h: Adding method to get backend infos
	* src/totem.c: (on_about1_activate): Added backend info in about box

2003-04-16  Julien MOUTTE  <julien@moutte.net>

	* src/bacon-video-widget-gst.c: (update_xid), (update_vis_xid),
	(got_video_size), (got_eos), (bacon_video_widget_finalize),
	(bacon_video_widget_open), (bacon_video_widget_set_logo),
	(bacon_video_widget_set_logo_mode),
	(bacon_video_widget_get_logo_mode),
	(bacon_video_widget_set_show_cursor),
	(bacon_video_widget_get_show_cursor),
	(bacon_video_widget_set_show_visuals), (bacon_video_widget_new):
	Prepared for visualisation support, managing logo trough video
	widget, implemented methods for stuff like cursor and logo focus,
	implemented finalize method and eos signal
	* src/bacon-video-widget-xine.c: (bacon_video_widget_set_logo) :
	implemented logo management as header changed
	* src/bacon-video-widget.h: Changed header adding
	bacon_video_widget_set_logo method.
	* src/gstvideowidget.c: (gst_video_widget_set_cursor_visible),
	(gst_video_widget_set_logo_focus),
	(gst_video_widget_set_event_catcher): Fixed some gdk_threads lock bugs
	* src/totem.c: (totem_action_set_mrl), (main): changed logo management
	according to bacon widget changes

2003-04-16  Julien MOUTTE  <julien@moutte.net>

	* src/Makefile.am: Added gstvideowidget in EXTRA_DIST
	* src/bacon-video-widget-gst.c: (bacon_video_widget_size_request),
	(bacon_video_widget_size_allocate),
	(bacon_video_widget_class_init),
	(bacon_video_widget_instance_init), (update_xid), (got_video_size),
	(bacon_video_widget_open), (bacon_video_widget_play),
	(bacon_video_widget_get_type), (bacon_video_widget_new): Integrated
	gstvideowidget, scaling now works, fixed some initialisation problems.
	* src/bacon-video-widget-xine.c: (bacon_video_widget_get_type),
	(bacon_video_widget_class_init), (dest_size_cb), (frame_output_cb),
	(bacon_video_widget_new), (bacon_video_widget_set_fullscreen),
	(bacon_video_widget_set_scale_ratio),
	(bacon_video_widget_get_current_frame): bvw now inherits from GtkVbox.
	* src/bacon-video-widget.h: bvw now inherits from GtkVbox

2003-04-16  Julien MOUTTE  <julien@moutte.net>

	* src/Makefile.am: GStreamer enabled builds with gstvideowidget
	* src/gstvideowidget.c: Adding Gstreamer video widget 
	* src/gstvideowidget.h: Adding Gstreamer video widget

2003-04-15  Julien MOUTTE  <julien@moutte.net>

	* configure.in: only gstreamer-play and gstreamer-gconf are needed

2003-04-15  Bastien Nocera  <hadess@hadess.net>

	* configure.in: updated to check for different versions of gstreamer
	(based on a patch by Julien Moutte <jmoutte@electronic-group.com>)

2003-04-15  Bastien Nocera  <hadess@hadess.net>

	* README_CVS: removed

2003-04-15  Bastien Nocera  <hadess@hadess.net>

	* configure.in: added dep on gstreamer-gconf
	* src/bacon-video-widget-gst.c: (bacon_video_widget_class_init),
	(update_xid), (bacon_video_widget_open), (bacon_video_widget_play),
	(bacon_video_widget_new): ok, so GStreamer now plays mp3s and mpeg
	files for me (real enough for you?)

2003-04-14  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: plenty of changes, playback is not
	very far away it seems

2003-04-14  Bastien Nocera  <hadess@hadess.net>

	* configure.in: make it possible to switch between gst and xine
	backend at compile time
	* src/Makefile.am: updated
	* src/bacon-video-widget-gst.c: plenty of changes to make it at least
	compile, it's bloody far from working (there are only stubs, you lazy
	Julien!)

2003-04-14  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-gst.c: starting adding bits of the gst backend
	by Julien Moutte <jmoutte@electronic-group.com>

2003-04-14  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/bacon-video-widget-xine.c:
	* src/bacon-video-widget.c: Renamed bacon-video-widget.c to
	bacon-video-widget-xine.c

2003-04-11  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_video_motion_notify_event), (main): take the height
	of the control popup into account immediately when switching to
	fullscreen. Fixes a bug when part of the popup would be invisible
	when switching to fullscreen

2003-04-11  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* src/Makefile.am:
	* src/totem.c: (main):
	don't use GConf deprecated calls.

	* src/totem-video-thumbnailer.c: add missing header.
	
2003-04-11  Bastien Nocera  <hadess@hadess.net>

	* src/totem-video-thumbnailer.c: (main): Don't forget to initialise threads
	(Patch by Fr?©d?©ric Bellaiche <bellaiche.frederic@wanadoo.fr> (Closes: #110495)

2003-04-10  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* src/Makefile.am:
	* src/totem.c: (main):
	don't use deprecated libglade calls.

2003-04-10  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (show_vfx_update): re-enable the visuals
	on the fly as well

============ Version 0.96.0

2003-04-09  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/bacon-cd-selection.c: (bacon_cd_selection_get_device): update to
	get a bug fix by Ross Burton
	* src/bacon-message-connection.c: (server_cb),
	(bacon_message_connection_send): fix a buf which would make Totem
	receive only the first file of a list of them
	* src/totem.c: (process_command_line): make it work (better)

2003-04-09  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c:
	* src/totem.c: (totem_action_set_mrl): fix the setting of the custom
	name being rather random

2003-04-09  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* data/playlist.glade:
	* data/properties.glade:
	* data/totem.glade:
	* data/uri.glade:
	* src/bacon-video-widget-properties.c:
	(bacon_video_widget_properties_reset),
	(bacon_video_widget_properties_set_from_current):
	* src/bacon-video-widget.c: (bacon_video_widget_instance_init),
	(bacon_video_widget_close), (bacon_video_widget_eject):
	* src/bacon-video-widget.h:
	* src/gtk-playlist.c: (gtk_playlist_mrl_to_title),
	(gtk_playlist_add_asf_playlist), (gtk_playlist_add_asf),
	(gtk_playlist_add_mrl):
	* src/totem.c: (totem_action_set_mrl), (totem_playing_dvd),
	(totem_playing_media), (on_eject1_activate),
	(update_media_menu_items), (totem_callback_connect):
	Added Eject button, applied bits of patches from Christian Neumair,
	Update the time display every 7 100th of a second

2003-04-05  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* src/gtk-playlist.c: (gtk_playlist_add_m3u),
	(gtk_playlist_add_ra): differentiate video files from the playlists
	with the same mime-type

2003-04-05  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (my_eel_read_entire_file),
	(gtk_playlist_add_asx), (parse_smil_entry),
	(gtk_playlist_add_smil): try to recover nicely from broken XML files
	used in XMIL and ASX playlists (Closes: #109953)

2003-04-05  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (bacon_video_widget_class_init),
	(update_fullscreen_size), (video_window_translate_point):
	* src/debug.h:
	* src/totem.c: (main): add some locks around getting the screen size,
	this should fix an "Xlib async reply" problem when resizing,
	especially on startup

2003-04-04  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (my_gnome_vfs_get_mime_type_with_data),
	(my_eel_read_entire_file), (gtk_playlist_add_m3u),
	(gtk_playlist_add_pls), (gtk_playlist_add_asx),
	(gtk_playlist_add_ra), (parse_smil_video_entry),
	(parse_smil_entry), (parse_smil_entries), (gtk_playlist_add_smil),
	(gtk_playlist_add_mrl): parse SMIL playlists correctly so not only
	the last entry is added to the playlist, get some data from the file
	while getting the mime-type, so we can poke at it for our dual 
	playlist/video formats, like "Real Audio"

2003-04-04  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_mrl_to_title), (init_treeview),
	(gtk_playlist_add_one_mrl), (parse_asx_entry), (parse_asx_entries),
	(gtk_playlist_add_asx), (parse_smil_entry), (parse_smil_entries),
	(gtk_playlist_add_smil), (gtk_playlist_add_mrl),
	(gtk_playlist_get_current_title), (gtk_playlist_set_at_end):
	* src/gtk-playlist.h:
	* src/totem.c: (totem_action_set_mrl): SMIL playlist support
	(Closes: #109953), make the playlist-supplied name take precedence
	over the MRL mangling to get something nice to display

2003-04-04  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/bacon-video-widget.c: (load_video_out_driver),
	(bacon_video_widget_realize), (bacon_video_widget_new),
	(bacon_video_widget_set_media_device):
	* src/totem.c: (totem_get_nice_name_for_stream),
	(totem_action_set_mrl), (totem_action_open_files): when there's a
	artist and title info, use that for the main label and the playlist
	entry. This allows mp3s, oggs and audio CDs to update the playlist
	with more meaningful entries (Closes: #109405)

2003-04-03  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget-properties.c:
	(bacon_video_widget_properties_set_from_current):
	* src/totem.c: (update_mrl_label): escape the strings before pushing
	them to the label as pango markup, fixes warnings when opening files
	like "Foo & Bar.mp3"

2003-04-03  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (bacon_video_widget_can_set_volume):
	work around a bug in xine that would make the write to the audio
	device take about 30 seconds, thus locking up our read of the volume,
	on Red Hat Linux 9 (Closes: #107359)

2003-04-02  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: add a separator between the volume control and
	the playback controls
	* src/bacon-video-widget.c: (video_window_translate_point),
	(generate_mouse_event), (bacon_video_widget_set_scale_ratio): use
	gtk_window_resize instead of the more error-prone queue_resize, fixes
	a couple of possible lockups when the window is being resized quickly
	* src/debug.h: more debug again
	* src/gtk-playlist.c: (gtk_playlist_add_ra),
	(gtk_playlist_add_mrl): add a few FIXMEs

2003-04-01  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (bacon_video_widget_idle_signal),
	(bacon_video_widget_set_scale_ratio): upd, removed unneeded call to
	the main loop
	* src/languages.h: updated to use the real letters for French and
	Spanish. It should work.
	* src/totem.c: (totem_create_full_path), (totem_action_open_files),
	(process_command_line): make sure that the file paths are full ones,
	not relative ones, which would end up confusing the playlist

2003-03-31  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* configure.in: pump up to 0.96.0

2003-03-31  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: add subtitles and audio languages selection menus
	* src/Makefile.am:
	* src/bacon-video-widget.c: (frame_output_cb),
	(bacon_video_widget_idle_signal), (xine_event),
	(bacon_video_widget_new),
	(bacon_video_widget_properties_get_title),
	(bacon_video_widget_get_languages),
	(bacon_video_widget_get_language),
	(bacon_video_widget_set_language),
	(bacon_video_widget_get_subtitles),
	(bacon_video_widget_get_subtitle),
	(bacon_video_widget_set_subtitle):
	* src/bacon-video-widget.h:
	* src/languages.h: added, it needs to be fixed to include the *real*
	names for the languages, so they appear i18n'ed in the menus
	* src/totem-private.h:
	* src/totem.c: (language_name_get_from_code),
	(totem_g_list_deep_free), (totem_action_play), (totem_playing_dvd),
	(totem_action_previous), (drag_video_cb), (on_title_change_event),
	(on_sub_activate), (on_lang_activate), (add_item_to_menu),
	(create_submenu), (update_dvd_menu_sub_lang),
	(totem_callback_connect), (main): don't call gtk functions from within
	the xine event callback (within the xine thread), should Closes
	#105860 and kill the X Async replies problems
	Added subtitles and audio languages selection menus (Closes: #106333)

2003-03-25  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (bacon_video_widget_instance_init),
	(show_vfx_update), (bacon_video_widget_set_property),
	(bacon_video_widget_get_property),
	(bacon_video_widget_set_media_device),
	(bacon_video_widget_set_show_visuals),
	(bacon_video_widget_get_mrls): on-the-fly setting for the vis plugin
	(Really Closes: #108595), use CD instead of CDDA for the xine CD
	plugin, use the right device for the Audio CD
	* src/bacon-video-widget.h:
	* src/totem.c: (update_dvd_menu_items), (update_buttons): upd

2003-03-24  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am:
	* data/totem_logo.mpv: removed
	* data/totem_logo.png: added
	* src/Makefile.am:
	* src/gtk-playlist.c: (gtk_playlist_add_mrl): use a PNG logo now that
	xine supports it, it's easier to generate

2003-03-20  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (size_changed_cb): fix stupid crash when
	changing the resolution of the screen via RandR

2003-03-19  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (setup_config),
	(bacon_video_widget_unrealize),
	(bacon_video_widget_can_set_volume),
	(bacon_video_widget_set_volume), (bacon_video_widget_get_volume),
	(bacon_video_widget_get_metadata_bool): make the BaconVideoWidget
	modify an internal amp instead of touching the system volume

2003-03-18  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: updated the preferences window to respect the HIG
	better, look a bit cleaner and more spaced now
	* src/bacon-video-widget.c: (show_vfx_update),
	(bacon_video_widget_set_show_visuals):
	* src/bacon-video-widget.h:
	* src/totem-preferences.c: (on_checkbutton2_toggled):
	* src/totem.c:
	* src/totem.h: the retval of bacon_video_widget_set_show_visuals() now
	indicates if the setting is taken into account immediately
	(Closes: #108595)

2003-03-17  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (show_vfx_update),
	(bacon_video_widget_open), (bacon_video_widget_set_show_visuals):
	some work towards fixing #108595, the problem is that the xine
	engine hangs if we rewire the audio outputs while it's playing,
	disabled for now

2003-03-16  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-message-connection.c: (bacon_message_connection_new):
	install the socket in $(HOME)
	* src/bacon-video-widget.c: (bacon_video_widget_get_type): upd

2003-03-16  Bastien Nocera  <hadess@hadess.net>

	* src/totem-video-thumbnailer.c: disable debug

2003-03-16  Bastien Nocera  <hadess@hadess.net>

	* src/totem-video-thumbnailer.c: (gdk_pixbuf_mirror),
	(add_holes_to_pixbuf): fix gdk_pixbuf_mirror, the right edge was off
	by one pixel, enable the mirroring of the holes now so the margins
	look OK

2003-03-14  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am: upd
	* data/emblem-multimedia.png: removed
	* data/filmholes.png: added
	* src/totem-video-thumbnailer.c: (add_emblem_to_pixbuf),
	(save_pixbuf), (main): modify so it puts nice little holes like on
	films cells. Thanks to Tuomas <tigert@ximian.com> for the idea and
	the gfx

2003-03-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (main): add an Application Name

2003-03-13  Bastien Nocera  <hadess@hadess.net>

	* data/emblem-multimedia.png: updated to another overlay image from
	Jakub Steiner <jimmac@ximian.com>

2003-03-13  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am: upd
	* data/emblem-multimedia.png: added the multimedia emblem
	* src/totem-video-thumbnailer.c: (add_emblem_to_pixbuf),
	(save_pixbuf), (main): Hack the addition of an emblem on top of the
	thumbnailed video. Not really done properly as the metadata nautilus
	uses is nautilus-only for now (Closes: #105891)

2003-03-12  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/totem.c: (totem_setup_recent): don't show the icons in the most
	recently played files

2003-03-12  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am:
	* data/uri.glade: upd
	* src/totem.c: (on_open_location1_activate): added "File" -> "Open
	Location..." menu item with the corresponding dialog to allow
	URLs to be fed to Totem in a GUI way (Closes: #106916)

2003-03-12  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* data/uri.glade:
	* src/totem.c: (on_open1_activate), (open_location1_activate),
	(totem_callback_connect): started working at #106916, doesn't compile
	anymore, will fix in a mo

2003-03-12  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* src/gtk-playlist.c: (selection_changed): upd
	* src/totem.c: (totem_action_play), (totem_action_seek_relative),
	(commit_hide_skip_to): stop playback when there is an error playing

2003-03-10  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_fullscreen_toggle): set the window on top
	again when coming back from fullscreen

2003-03-10  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_volume_up1_activate),
	(on_volume_down1_activate), (totem_action_remote),
	(totem_action_handle_key), (totem_action_handle_scroll),
	(totem_action_handle_volume_scroll), (on_volume_scroll_event),
	(totem_callback_connect): add mouse-wheel support to all the widgets
	that could (the sliders)

2003-03-10  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (bacon_video_widget_can_get_frames),
	(bacon_video_widget_get_current_frame): Make it possible to take
	screenshots of visual plugins. This requires xine-lib beta8. People
	filing bugs because they use an older version owe me 50 quid.

2003-03-06  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/totem.c: (on_recent_file_activate): removed debug

2003-03-06  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (bacon_video_widget_can_get_frames):
	changes so we can take screenshots of everything that's got a video,
	we can now screenshot vis plugins, and oh fuck do they look nice ;)

2003-03-06  Anders Carlsson <andersca@codefactory.se>

	reviewed by: Bastien Nocera <hadess@hadess.net>

	* data/totem.glade:
	* src/totem.c: (on_always_on_top1_activate),
	(totem_callback_connect):
	* src/video-utils.c: (gdk_wmspec_change_state),
	(totem_gdk_window_set_always_on_top):
	* src/video-utils.h: Add support for always-on-top for the main window

2003-03-05  Duarte Loreto <happyguy_pt@hotmail.com>

        * configure.in: Added "pt" to ALL_LINGUAS.

2003-03-05  Bastien Nocera  <hadess@hadess.net>

	* src/video-utils.c: (yv12torgb): fix warning

2003-03-05  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* src/bacon-video-widget.c: (bacon_video_widget_get_current_frame):
	* src/video-utils.c: (yuy2toyv12), (yv12torgb):
	* src/video-utils.h: simplified the screenshot code and moved the
	colour conversion functions to video-utils.[ch], colour conversion
	comes from Guenter Bartsch <guenter@users.sourceforge.net>

2003-03-04  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: updated
	* src/bacon-video-widget.c: (setup_config),
	(bacon_video_widget_set_connection_speed),
	(bacon_video_widget_get_connection_speed),
	(bacon_video_widget_set_show_visuals):
	* src/bacon-video-widget.h:
	* src/totem-preferences.c: (auto_resize_changed_cb),
	(option_menu_connection_changed), (totem_setup_preferences):
	added support for setting the network connection speed
	* README: updated

2003-03-04  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: adding a connection speed dropdown to the
	preferences dialog

2003-03-03  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (drag_video_cb): a little bit better, use text/uri-list
	by default as well

2003-03-03  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (drag_video_cb): fix a crash when the file's mrl was not
	a local filename but a full-fledged URI (start for #106970)

2003-02-28  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am: don't distribute the
	totem-video-thumbnail.schemas.in file, it's autogenerated
	* src/bacon-video-widget.c: (xine_error): add a generic error
	* src/totem-video-thumbnailer.c: (main): forgot a carriage return

2003-02-26  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* src/bacon-video-widget.c: (frame_output_cb),
	(bacon_video_widget_idle_signal), (xine_event): starting adding
	support for the progress event and reference MRLs
	* src/gtk-playlist.c: (gtk_playlist_add_m3u),
	(gtk_playlist_add_pls): null-terminate the strings we read from eel

============ Version 0.95.1

2003-02-26  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (bacon_video_widget_set_fullscreen): fix a
	crash when switching to fullscreen
	* configure.in: 0.95.1

============ Version 0.95.0

2003-02-26  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (main_window_destroy_cb), (drop_video_cb),
	(drop_playlist_cb), (on_play_pause_button_clicked),
	(on_previous_button_clicked), (on_next_button_clicked),
	(on_playlist_button_toggled), (on_title_change_event),
	(update_current_time), (update_cb_often), (update_cb_rare),
	(seek_slider_pressed_cb), (seek_slider_released_cb), (vol_cb),
	(on_open1_activate), (on_play_dvd1_activate),
	(on_play_vcd1_activate), (on_play_cd1_activate),
	(on_play1_activate), (on_full_screen1_activate),
	(on_zoom_1_2_activate), (on_zoom_1_1_activate),
	(on_zoom_2_1_activate), (on_toggle_aspect_ratio1_activate),
	(on_show_playlist1_activate), (on_fs_exit1_activate),
	(on_quit1_activate), (on_repeat_mode1_toggled),
	(on_about1_activate), (on_radiobutton_shot_toggled),
	(hide_screenshot), (on_take_screenshot1_activate),
	(on_properties1_activate), (on_preferences1_activate),
	(on_dvd_root_menu1_activate), (on_dvd_title_menu1_activate),
	(on_dvd_audio_menu1_activate), (on_dvd_angle_menu1_activate),
	(on_dvd_chapter_menu1_activate), (commit_hide_skip_to),
	(spin_button_value_changed_cb), (on_skip_to1_activate),
	(on_skip_forward1_activate), (on_skip_backwards1_activate),
	(on_volume_up1_activate), (on_volume_down1_activate),
	(toggle_playlist_from_playlist), (playlist_changed_cb),
	(current_removed_cb), (playlist_repeat_toggle_cb),
	(size_changed_cb), (on_mouse_click_fullscreen),
	(on_video_motion_notify_event), (on_eos_event),
	(on_window_key_press_event), (on_window_scroll_event),
	(totem_callback_connect), (video_widget_create),
	(totem_message_connection_receive_cb), (main): modify all the
	callbacks so they get a Totem * directly rather than a gpointer, so we
	don't have to cast that much. Get the keybindings working again in
	fullscreen mode

2003-02-26  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (size_changed_cb): move the popups when the screen
	size changes

2003-02-26  Bastien Nocera  <hadess@hadess.net>

	* configure.in: added detection for XSun headers (Closes: #107115)
	* src/totem-private.h:
	* src/totem.c: (totem_action_fullscreen_toggle),
	(on_fs_exit1_activate), (update_fullscreen_size),
	(size_changed_cb), (on_video_motion_notify_event),
	(totem_callback_connect), (totem_message_connection_receive_cb),
	(process_command_line), (main): place the popups properly on multihead
	displays and when the screen size changes (Closes: #101149), present
	the window when we receive an event, fix a segfault when launch totem
	without any arguments in client mode, finish with the startup
	notification when we're in client mode

2003-02-25  Bastien Nocera  <hadess@hadess.net>

	* configure.in: added Korean

2003-02-24  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (bacon_video_widget_can_get_frames):
	* src/totem.c: (on_take_screenshot1_activate): taking a screenshot
	when the film is finished doesn't crash anymore (Closes: #106899)

2003-02-23  Bastien Nocera  <hadess@hadess.net>

	* README: updated

2003-02-23  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (bacon_video_widget_realize):
	* src/scrsaver.c: (scrsaver_init): fix the potential race in enabling
	the screensaver, which caused crazy XLib async replies on startup

2003-02-22  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (update_current_time), (update_volume_sliders),
	(update_cb_often), (seek_slider_pressed_cb),
	(seek_slider_released_cb), (commit_hide_skip_to), (popup_hide),
	(totem_callback_connect): we seek only when the scale is released,
	don't hide the popups when we're moving the slider (Closes: #106347)

2003-02-22  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (create_full_path), (process_command_line): when the
	file passed via remote isn't a fully qualified path or uri, we make it
	so

2003-02-22  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_error): fix deadlock when a file added
	via the remote interface triggers an error, gtk_dialog_run is evil
	in multi-threaded apps

2003-02-22  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_add_wmv): will need to see how to
	handle this properly
	* src/totem.c: (totem_action_set_mrl): small fixes

2003-02-22  Bastien Nocera  <hadess@hadess.net>

	* src/baconvideowidget-marshal.list: remove unused marshaller
	definition

2003-02-21  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* configure.in: added warnings
	* src/bacon-video-widget.c: (bacon_video_widget_class_init),
	(frame_output_cb), (load_audio_out_driver),
	(bacon_video_widget_realize), (bacon_video_widget_idle_signal),
	(xine_error), (bacon_video_widget_new), (bacon_video_widget_open),
	(bacon_video_widget_play):
	* src/bacon-video-widget.h:
	* src/totem-video-thumbnailer.c: (main):
	* src/totem.c: (totem_action_play), (totem_action_set_mrl),
	(totem_action_seek_relative), (commit_hide_skip_to),
	(on_error_event), (video_widget_create): more use of GError,
	plenty of code cleanup following, faster response to errors :)

2003-02-21  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (xine_event),
	(bacon_video_widget_motion_notify),
	(bacon_video_widget_button_press),
	(bacon_video_widget_get_logo_mode),
	(bacon_video_widget_get_metadata_string),
	(bacon_video_widget_get_metadata_int),
	(bacon_video_widget_get_metadata_bool),
	(bacon_video_widget_can_get_frames),
	(bacon_video_widget_get_current_frame):
	* src/bacon-video-widget.h:
	* src/totem-preferences.c:
	* src/totem-preferences.h:
	* src/totem-private.h:
	* src/totem-video-thumbnailer.c: (save_pixbuf), (main):
	* src/totem.c: (totem_action_exit), (play_pause_set_label),
	(totem_action_play), (totem_action_play_media),
	(totem_action_stop), (totem_action_play_pause),
	(totem_action_fullscreen_toggle), (totem_action_fullscreen),
	(update_mrl_label), (totem_action_set_mrl),
	(totem_action_previous), (totem_action_next),
	(totem_action_seek_relative), (totem_action_volume_relative),
	(totem_action_toggle_aspect_ratio), (totem_action_set_scale_ratio),
	(update_seekable), (update_sliders), (vol_cb),
	(on_take_screenshot1_activate), (on_properties1_activate),
	(on_dvd_root_menu1_activate), (on_dvd_title_menu1_activate),
	(on_dvd_audio_menu1_activate), (on_dvd_angle_menu1_activate),
	(on_dvd_chapter_menu1_activate), (commit_hide_skip_to),
	(popup_hide), (on_video_motion_notify_event),
	(totem_action_handle_key), (video_widget_create),
	(process_command_line), (main): fix all the warnings, simplify the
	code,add a GError return to bacon_video_widget_can_get_frames ()
	(Closes: #104881)

2003-02-21  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (bacon_video_widget_tick_send): always
	retunr TRUE so that the tick works even if we can't get the time
	properly
	* src/bacon-video-widget.h: typo

2003-02-21  Xan Lopez  <xan@masilla.org>

	* src/bacon-video-widget.c: (bacon_video_widget_tick_send):

	Fix timer in statusbar

2003-02-21  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "ga" to ALL_LINGUAS.

2003-02-21  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (bacon_video_widget_instance_init),
	(setup_config): the demux strategy used to be a string, but it's an
	enum now, makes it possible to play elementary MPEG streams that would
	be misdetected as program streams before (Closes: #106664)

2003-02-18  Bastien Nocera  <hadess@hadess.net>

	* data/properties.glade:
	* src/bacon-video-widget-properties.c:
	(bacon_video_widget_properties_init),
	(bacon_video_widget_properties_reset),
	(bacon_video_widget_properties_set_from_current),
	(bacon_video_widget_properties_update),
	(bacon_video_widget_properties_new):
	* src/bacon-video-widget-properties.h:
	* src/bacon-video-widget.h:
	* src/gtk-playlist.c: (gtk_playlist_mrl_to_title):
	* src/totem.c: (totem_action_set_mrl), (on_properties1_activate):
	Added a Link to IMDB depending on the video name, but it doesn't work
	properly, don't count on it

2003-02-18  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_add_m3u),
	(gtk_playlist_add_ra), (gtk_playlist_add_mrl): add support for .ra
	files, we require an updated gnome-mime-data for the playlist files
	detection (fixes bug reported by Ross Burton)

2003-02-17  Bastien Nocera  <hadess@hadess.net>

	* README: updated

2003-02-17  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* configure.in: upd
	* src/bacon-video-widget.c: (bacon_video_widget_instance_init),
	(frame_output_cb), (setup_config),
	(bacon_video_widget_set_show_visuals),
	(bacon_video_widget_set_auto_resize):
	* src/bacon-video-widget.h:
	* src/totem-preferences.c: (on_checkbutton1_toggled),
	(totem_setup_preferences):
	* src/totem-video-thumbnailer.c: (main): removed gconf dependency in
	the BaconVideoWidget, removed linking to gconf for the thumbnailer

2003-02-17  Bastien Nocera  <hadess@hadess.net>

	* data/totem.schemas.in: updated
	* src/bacon-video-widget.c: (load_audio_out_driver): remove audio
	driver from gconf, we use automatic stuff, or xine's config

2003-02-17  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/totem-preferences.c: (hide_prefs), (on_checkbutton1_toggled),
	(on_checkbutton2_toggled), (on_combo_entry1_changed),
	(auto_resize_changed_cb), (show_vfx_changed_cb),
	(mediadev_changed_cb), (bacon_cd_selection_create),
	(totem_setup_preferences):
	* src/totem-preferences.h:
	* src/totem.c: (totem_action_play), (totem_action_play_pause),
	(update_mrl_label), (totem_action_set_mrl),
	(totem_action_seek_relative), (totem_action_volume_relative),
	(totem_action_toggle_aspect_ratio), (totem_action_set_scale_ratio),
	(update_seekable), (update_sliders), (vol_cb),
	(on_dvd_root_menu1_activate), (on_dvd_title_menu1_activate),
	(on_dvd_angle_menu1_activate), (on_dvd_chapter_menu1_activate),
	(popup_hide), (on_video_motion_notify_event),
	(totem_action_handle_scroll), (totem_setup_recent):
	* src/totem.h:
	* src/totem-private.h: move all the prefs to its own files

2003-02-17  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (update_fullscreen_size),
	(size_changed_cb), (bacon_video_widget_realize),
	(bacon_video_widget_set_fullscreen),
	(bacon_video_widget_ratio_fits_screen): get a screen size as soon as
	we realize the widget, update when the screen changes size (XRandR)
	(Closes: #97306)

2003-02-13  Bastien Nocera  <hadess@hadess.net>

	* configure.in: we require at gnome-vfs 2.1.6

2003-02-12  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-video-widget.c: (dest_size_cb), (frame_output_cb),
	(bacon_video_widget_set_fullscreen),
	(bacon_video_widget_ratio_fits_screen):
	* src/totem.c: (totem_action_fullscreen_toggle),
	(totem_action_fullscreen), (totem_action_handle_key),
	(totem_action_handle_scroll), (on_window_key_press_event):
	use monitor information when possible instead of screen info (more
	fixes for Xinerama), fixes fulllscreen switching bugs for very high
	key repeat rates

2003-02-12  Yuriy Syrota  <rasta renome.rovno.ua>

	* configure.in: Added "uk" (Ukrainian) to ALL_LINGUAS.

2003-02-11  Bastien Nocera  <hadess@hadess.net>

	* src/.cvsignore:
	* src/Makefile.am:
	* src/bacon-video-widget-properties.c:
	(bacon_video_widget_properties_get_type),
	(bacon_video_widget_properties_init),
	(bacon_video_widget_properties_finalize),
	(bacon_video_widget_properties_time_to_string),
	(bacon_video_widget_properties_set_label),
	(bacon_video_widget_properties_reset),
	(bacon_video_widget_properties_set_from_current),
	(bacon_video_widget_properties_update), (hide_dialog),
	(bacon_video_widget_properties_new),
	(bacon_video_widget_properties_class_init):
	* src/bacon-video-widget-properties.h:
	* src/bacon-video-widget.c: (bacon_video_widget_get_type),
	(bacon_video_widget_class_init),
	(bacon_video_widget_instance_init), (bacon_video_widget_finalize),
	(dest_size_cb), (frame_output_cb), (load_video_out_driver),
	(load_audio_out_driver), (load_config_from_gconf),
	(video_window_translate_point), (dvd_skip_behaviour),
	(bacon_video_widget_dvd_event), (generate_mouse_event),
	(configure_cb), (bacon_video_widget_realize),
	(bacon_video_widget_idle_signal), (xine_event), (xine_error),
	(bacon_video_widget_unrealize), (bacon_video_widget_new),
	(bacon_video_widget_expose), (bacon_video_widget_motion_notify),
	(bacon_video_widget_button_press), (bacon_video_widget_key_press),
	(bacon_video_widget_size_allocate), (bacon_video_widget_tick_send),
	(get_fourcc_string), (bacon_video_widget_open),
	(bacon_video_widget_play), (bacon_video_widget_stop),
	(bacon_video_widget_close), (bacon_video_widget_set_property),
	(bacon_video_widget_get_property),
	(bacon_video_widget_set_logo_mode),
	(bacon_video_widget_get_logo_mode), (bacon_video_widget_set_speed),
	(bacon_video_widget_get_speed), (bacon_video_widget_get_position),
	(bacon_video_widget_set_fullscreen),
	(bacon_video_widget_is_fullscreen),
	(bacon_video_widget_can_set_volume),
	(bacon_video_widget_set_volume), (bacon_video_widget_get_volume),
	(bacon_video_widget_set_show_cursor),
	(bacon_video_widget_get_show_cursor),
	(bacon_video_widget_set_media_device),
	(bacon_video_widget_set_show_visuals),
	(bacon_video_widget_get_current_time),
	(bacon_video_widget_get_stream_length),
	(bacon_video_widget_is_playing), (bacon_video_widget_is_seekable),
	(bacon_video_widget_can_play), (bacon_video_widget_get_mrls),
	(bacon_video_widget_toggle_aspect_ratio),
	(bacon_video_widget_ratio_fits_screen),
	(bacon_video_widget_set_scale_ratio),
	(bacon_video_widget_get_metadata_string),
	(bacon_video_widget_get_metadata_int),
	(bacon_video_widget_get_metadata_bool),
	(bacon_video_widget_get_metadata),
	(bacon_video_widget_properties_get_title),
	(bacon_video_widget_can_get_frames),
	(bacon_video_widget_get_current_frame),
	(bacon_video_widget_get_current_frame_rgb), (scale_line_1_1),
	(scale_line_45_64), (scale_line_15_16), (scale_image),
	(yuy2toyv12), (yuy2_fudge), (yv12_2_rgb), (xine_frame_to_rgb):
	* src/bacon-video-widget.h:
	* src/gtk-xine-properties.c:
	* src/gtk-xine-properties.h:
	* src/gtk-xine.c:
	* src/gtk-xine.h:
	* src/gtkxine-marshal.list:
	* src/totem-video-thumbnailer.c: (main):
	* src/totem.c: (totem_action_exit), (totem_action_play),
	(totem_action_play_media), (totem_action_stop),
	(totem_action_play_pause), (totem_action_fullscreen_toggle),
	(totem_action_fullscreen), (update_mrl_label),
	(totem_action_set_mrl), (totem_action_previous),
	(totem_action_next), (totem_action_seek_relative),
	(totem_action_volume_relative), (totem_action_toggle_aspect_ratio),
	(totem_action_set_scale_ratio), (update_seekable),
	(update_current_time), (update_sliders), (update_cb_often),
	(update_cb_rare), (vol_cb), (on_take_screenshot1_activate),
	(on_dvd_root_menu1_activate), (on_dvd_title_menu1_activate),
	(on_dvd_audio_menu1_activate), (on_dvd_angle_menu1_activate),
	(on_dvd_chapter_menu1_activate), (commit_hide_skip_to),
	(spin_button_value_changed_cb), (on_checkbutton2_toggled),
	(on_combo_entry1_changed), (mediadev_changed_cb), (popup_hide),
	(on_video_motion_notify_event), (on_error_event),
	(totem_action_handle_key), (video_widget_create),
	(totem_setup_preferences), (main):
	* src/totem.h: rename GtkXine to BaconVideoWidget

2003-02-10  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_set_media_device): fix possible memory
	fuckage which caused the DVD/VCD to not work

2003-02-10  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-message-connection.c:
	* src/bacon-message-connection.h: upd from libbacon
	* src/egg-recent-model.c: (egg_recent_model_read): fix a leak
	* src/totem.c: upd copyright

2003-02-10  Bastien Nocera  <hadess@hadess.net>

	* data/schemas.sh: disable thumbnailing of the audio types, run that
	if your system still tries to thumbnail audio files

2003-02-08  Pauli Virtanen  <pauli.virtanen@hut.fi>

	* configure.in: Added "fi" (Finnish) to ALL_LINGUAS.

2003-02-07  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/totem.c: (on_repeat_mode1_toggled),
	(playlist_repeat_toggle_cb), (totem_callback_connect): added repeat
	menu item under View (Closes: #104450)

2003-02-07  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: move the Properties menu item to the File menu,
	according to the HIG (Closes: #104452)

2003-02-07  Bastien Nocera  <hadess@hadess.net>

	* data/totem.schemas.in:
	* src/bacon-message-connection.c: (bacon_message_connection_free):
	updated from libbacon
	* src/totem.c: (totem_action_exit), (totem_action_remote),
	(totem_button_pressed_remote_cb),
	(totem_message_connection_receive_cb), (process_command_line),
	(main): added plenty of command-line options to control an already
	launched totem, enqueue is the default action, only one instance of
	totem can be launched at a time (Closes: #94410)

2003-02-07  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/bacon-message-connection.[ch]:
	* src/totem-remote.h:
	* src/totem.c: (totem_message_connection_receive_cb),
	(process_command_line), (main): added BaconMessageConnection stuff,
	did client-side implementation, added 2 new types of
	TotemRemoteCommands

2003-02-06  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_class_init), (gtk_xine_set_property),
	(gtk_xine_get_property), (gtk_xine_get_position):
	* src/gtk-xine.h: removed the set_audio_channel and associated, we
	don't use or need them

2003-02-06  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_set_media_device):
	* src/totem.c: (totem_setup_preferences): fix setting the media
	device, yet again

2003-02-06  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_realize), (gtk_xine_set_fullscreen): we
	don't need a thread-safe X, we have 2 connections to the X server,
	remove all the extraneous locks

2003-02-05  Bastien Nocera  <hadess@hadess.net>

	* README:
	* src/gtk-xine.c: (gtk_xine_get_type),
	(gtk_xine_set_audio_channel), (gtk_xine_is_fullscreen),
	(gtk_xine_set_volume), (gtk_xine_get_current_frame),
	(gtk_xine_get_current_frame_rgb), (scale_line_1_1),
	(scale_line_45_64), (scale_line_15_16), (scale_image),
	(yuy2toyv12), (yv12_2_rgb):
	* src/gtk-xine.h: remove usage of deprecated stuff (GtkType, gint,
	etc.), fixed prototype for gtk_xine_is_fullscreen (), updated TODO
	list in the README

2003-02-05  Bastien Nocera  <hadess@hadess.net>

	* README: updated requirements
	* data/.cvsignore: updated
	* data/Makefile.am:
	* data/schemas.sh: added generation of a script to update an existing
	gconf install
	* src/gtk-xine.c: (gtk_xine_class_init), (gtk_xine_instance_init),
	(gtk_xine_realize), (gtk_xine_unrealize), (gtk_xine_tick_send),
	(gtk_xine_play):
	* src/gtk-xine.h:
	* src/gtkxine-marshal.list:
	* src/totem-video-thumbnailer.c: (save_pixbuf):
	* src/totem.c: (update_mrl_label), (totem_action_previous),
	(totem_action_next), (update_current_time), (update_cb_often),
	(video_widget_create): add support for a "tick" signal, remove X
	completion event handling, it's now in the video output plugin, added
	better error message for totem-video-thumbnailer

2003-02-04  Zbigniew Chyla  <cyba@gnome.pl>

	* configure.in (ALL_LINGUAS): Added pl (Polish).

2003-02-02  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_set_fullscreen): use the monitor's
	geometry, not the full display's to show the fullscreen window
	(Should close #101149)

2003-02-02  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_play_pause), (totem_playing_dvd),
	(totem_action_seek_relative), (totem_action_volume_relative),
	(update_seekable): some style changes, fix compilation, go to bed

2003-02-02  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_set_mrl), (totem_action_previous),
	(totem_action_next), (update_seekable), (update_cb_rare),
	(update_buttons): update the menu items for seekable as well

2003-02-02  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_has_previous_mrl),
	(gtk_playlist_has_next_mrl), (gtk_playlist_set_previous),
	(gtk_playlist_set_next), (gtk_playlist_set_at_end):
	* src/totem.c: (totem_action_previous), (totem_action_next),
	(on_eos_event), (update_buttons): implement the Previous button in
	Repeat mode (goes to the end of the playlist) (Partly based on a patch
	by Julien Moutte <julien@moutte.net>) (Closes: #104725)

2003-02-01  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-cd-selection.c: (bacon_cd_selection_finalize):
	* src/cd-drive.c: (cd_drive_free):
	* src/cd-drive.h:
	* src/egg-recent-model.c: (egg_recent_model_read): fix memleaks by
	updating from libegg and libbacon

2003-02-01  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_expose), (gtk_xine_open): free the expose
	event, removed an extraneous assignement for the mrl (Inspired by a
	patch from xan <xan@dimensis.com>)

2003-02-01  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (main): fix properties' window icon

2003-02-01  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: removed -export-dynamic (not needed)
	* src/gtk-message.c:
	* src/gtk-message.h: removed, we'll use something else
	* src/totem.c: (totem_action_exit), (main): upd for gtk-message.[ch]'s
	removal

2003-02-01  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: add the window icon
	* src/gtk-xine.c: (gtk_xine_get_current_frame): fix screenshot when
	ratio is 1.0

2003-01-31  Bastien Nocera  <hadess@hadess.net>

	* src/egg-recent-model.c: (egg_recent_model_changed):
	* src/egg-recent-util.c: (load_icon_file):
	* src/egg-recent-view-gtk.c: (egg_recent_view_gtk_init): update
	recent-files stuff from libegg, we can now unmount CDs that have stuff
	in the recent-files

2003-01-31  Bastien Nocera  <hadess@hadess.net>

	* configure.in: added en_GB translation

2003-01-31  Bastien Nocera  <hadess@hadess.net>

	* data/totem.desktop.in: added Encoding field
	* src/totem.c: (on_about1_activate): s/Xine/xine/

2003-01-30  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added "tr" (Turkish) to the languages' list.

2003-01-30  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_handle_key): sort by alphabetical order

2003-01-29  Bastien Nocera  <hadess@hadess.net>

	* README: updated

============ Version 0.90.0

2003-01-29  Bastien Nocera  <hadess@hadess.net>

	* configure.in: 0.90.0

2003-01-29  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (generate_mouse_event): fix typo that prevented the
	mouse clicks from being passed onto xine (Closes: #104598)

2003-01-29  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_window_key_press_event): If we have modifiers, and
	either Ctrl, Mod1 (Alt), or any of Mod3 to Mod5 (Mod2 is num-lock...)
	are pressed, we let Gtk+ handle the key (Closes: #104675)

2003-01-29  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_get_current_frame): really fix the
	screenshot aspect bug (it only worked because the test video was
	square, haha) (Closes: #104605)

2003-01-28  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (xine_thread), (gtk_xine_size_allocate): remove some
	debug, and unused variables

2003-01-28  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_get_current_frame): fix screenshot's aspect
	ratio (Closes: #104605)
	* src/totem.c: (on_window_key_press_event): we also process key presses
	when numlock or capslock are on

2003-01-25  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_class_init), (load_config_from_gconf),
	(gtk_xine_set_property), (gtk_xine_set_media_device),
	(gtk_xine_set_show_visuals):
	* src/gtk-xine.h:
	* src/totem.c: (on_checkbutton2_toggled),
	(totem_setup_preferences), (main): remove gconf dependency for the
	show visuals pref

2003-01-25  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_class_init), (load_config_from_gconf),
	(gtk_xine_realize), (gtk_xine_set_property),
	(gtk_xine_set_media_device), (gtk_xine_get_mrls):
	* src/gtk-xine.h:
	* src/totem.c: (on_combo_entry1_changed), (mediadev_changed_cb),
	(totem_setup_preferences): remove gconf dependency for the media
	device

2003-01-24  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_instance_init),
	(load_video_out_driver), (gtk_xine_realize), (gtk_xine_new):
	so we actually init the engine in gtk_xine_new, and we only init the
	video engine in the realize
	* src/totem-video-thumbnailer.c: (main): fix it, and make it simpler
	good stuff

2003-01-24  Bastien Nocera  <hadess@hadess.net>

	* data/playlist.glade:
	* data/properties.glade:
	* data/totem.glade: remove separators from the dialogs
	* src/bacon-cd-selection.c: (cdrom_option_menu):
	* src/cd-drive.c: (parse_sg_line), (get_scsi_cd_name),
	(cdrom_get_name): update these from libbacon, fixes a crash on startup
	on machines using ide-scsi
	* src/gtk-xine.c:
	* src/gtk-xine.h:
	* src/totem.c: (main): removed gtk_xine_check() calls, not needed
	anymore

2003-01-24  Daniel Yacob  <locales@geez.org>

        * configure.in: Added am to ALL_LINGUAS.

2003-01-23  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_class_init), (frame_output_cb),
	(gtk_xine_set_property), (gtk_xine_get_property),
	(gtk_xine_set_logo_mode), (gtk_xine_get_logo_mode):
	* src/gtk-xine.h:
	* src/totem.c: (totem_action_set_mrl): remove the dependency on
	LOGO_PATH from gtk-xine.c

2003-01-23  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_open), (gtk_xine_close): fix the crash
	when navigating to an unsupported file for the second time

2003-01-23  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (xine_error), (get_fourcc_string),
	(gtk_xine_open):
	* src/gtk-xine.h:
	* src/totem.c: (on_error_event): simplify the i18n code in GtkXine,
	added support for the "malformed mrl" error, made GTX_NO_CODEC work
	properly (garbage in the name, and static variable in get_fourcc_string
	removed)

2003-01-22  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (get_fourcc_string), (gtk_xine_open),
	(gtk_xine_stop), (gtk_xine_close), (gtk_xine_get_position),
	(gtk_xine_can_set_volume), (gtk_xine_get_volume),
	(gtk_xine_get_stream_length), (gtk_xine_get_metadata_string),
	(gtk_xine_get_metadata_int), (gtk_xine_get_metadata_bool),
	(gtk_xine_get_metadata):
	* src/totem.c: (on_error_event): boatloads of little fixes for
	crashers and don't skip files on error

2003-01-22  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_stop): fix a deadlock when there is no
	demuxer for the video/audio we're trying to play

2003-01-22  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_add_mrl): make it so we can add
	application/x-ogg files as well

2003-01-21  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_new): use the arguments to find
	the glade file, not the old code

2003-01-20  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-cd-selection.c: (cdrom_option_menu),
	(bacon_cd_selection_set_device):
	* src/bacon-cd-selection.h:
	* src/cd-drive.c: (parse_sg_line), (get_cd_scsi_id),
	(lookup_scsi_unit), (get_scsi_cd_name), (add_linux_cd_recorder),
	(cdrom_get_name), (add_linux_cd_drive), (get_cd_device_file),
	(linux_scan), (scan_for_cdroms):
	* src/cd-drive.h:
	* src/egg-recent-model.c: (egg_recent_model_add_full): update from
	libegg and libbacon (Closes: #103419)

2003-01-20  Bastien Nocera  <hadess@hadess.net>

	* README:
	* src/totem.c: (update_sliders), (totem_action_handle_key),
	(on_window_key_press_event): ignore key presses if there's a modifier,
	add "S" as a shortcut for "Skip to" and update the README

2003-01-20  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/gtk-xine-properties.c: (gtk_xine_properties_time_to_string),
	(gtk_xine_properties_set_from_current):
	* src/gtk-xine-properties.h:
	* src/totem.c: (update_mrl_label), (commit_hide_skip_to),
	(hide_skip_to), (spin_button_value_changed_cb),
	(on_skip_to1_activate), (totem_callback_connect): make the "Skip to"
	dialog actually work (Closes: #99150)

2003-01-20  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/totem.c: (totem_action_set_mrl_and_play),
	(totem_action_set_mrl), (on_skip_to1_activate),
	(on_skip_forward1_activate), (on_skip_backwards1_activate),
	(on_volume_up1_activate), (on_volume_down1_activate),
	(update_buttons), (totem_callback_connect): added a "Skip To..." menu
	item, made the menus items for skip and volume changes actually work
	(and nobody even noticed they weren't working ;)

2003-01-20  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/gtk-playlist.c: (repeat_button_toggled), (update_repeat_cb),
	(init_config), (gtk_playlist_unrealize), (gtk_playlist_unmap),
	(gtk_playlist_realize), (gtk_playlist_get_repeat),
	(gtk_playlist_set_repeat), (gtk_playlist_class_init):
	* src/gtk-playlist.h:
	* src/gtk-xine.c: (frame_output_cb), (load_audio_out_driver),
	(update_mediadev_conf), (show_vfx_changed_cb),
	(load_config_from_gconf):
	* src/totem.c: (on_checkbutton1_toggled),
	(on_checkbutton2_toggled), (on_combo_entry1_changed),
	(auto_resize_changed_cb), (show_vfx_changed_cb),
	(mediadev_changed_cb), (totem_setup_preferences), (main):
	fix more GCONF_PREFIX stuff, make the playlist position saving work
	again (I don't know how it ever worked...), set playlist icon,
	add a signal to GtkPlaylist for when repeat is toggled, get/set
	functions for toggled

2003-01-20  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (repeat_button_toggled), (update_repeat_cb),
	(init_config), (gtk_playlist_unrealize), (gtk_playlist_realize),
	(gtk_playlist_new):
	* src/gtk-playlist.h:
	* src/totem.c: (totem_action_play), (totem_action_stop),
	(totem_action_play_pause), (screenshot_make_filename_helper),
	(screenshot_make_filename), (on_take_screenshot1_activate),
	(on_checkbutton1_toggled), (on_checkbutton2_toggled),
	(on_combo_entry1_changed), (playlist_changed_cb), (on_eos_event),
	(on_error_event), (main): remove obvious dependency on totem in the
	playlist (glade/pix path), fix the absence of ~/.gnome-desktop dir and
	plug a small memleak

2003-01-19  Bastien Nocera  <hadess@hadess.net>

	* README:
	* src/totem.c: (totem_action_open_files): updated to support
	subtitles, see README for syntax (Closes: #92641)

2003-01-19  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/gtk-xine.c: (gtk_xine_realize), (gtk_xine_can_play),
	(gtk_xine_get_mrls):
	* src/gtk-xine.h:
	* README:
	* src/totem.c: (drag_video_cb), (totem_action_open_files),
	(on_play_cd1_activate), (totem_callback_connect): add CDDA support,
	needs a very very recent xine-lib, and works nicely (where's cddb
	support though ? ;)

2003-01-19  Bastien Nocera  <hadess@hadess.net>

	* README:
	* src/totem.c: (drag_video_cb), (video_widget_create): added drag
	support for the video widget, has a weird interaction with nautilus
	though

2003-01-18  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/Makefile.am:
	* src/totem-statusbar.c: (time_to_string),
	(totem_statusbar_get_type), (totem_statusbar_class_init),
	(totem_statusbar_init), (totem_statusbar_new),
	(totem_statusbar_update_time), (totem_statusbar_set_text),
	(totem_statusbar_set_time), (totem_statusbar_set_time_and_length),
	(totem_statusbar_set_has_resize_grip),
	(totem_statusbar_get_has_resize_grip), (totem_statusbar_destroy),
	(get_grip_edge), (get_grip_rect), (totem_statusbar_create_window),
	(totem_statusbar_destroy_window), (totem_statusbar_realize),
	(totem_statusbar_unrealize), (totem_statusbar_map),
	(totem_statusbar_unmap), (totem_statusbar_button_press),
	(totem_statusbar_expose_event), (totem_statusbar_size_request),
	(totem_statusbar_size_allocate):
	* src/totem-statusbar.h:
	* src/totem.c: (play_pause_set_label), (totem_action_play),
	(totem_action_play_pause), (update_mrl_label),
	(totem_action_set_mrl), (totem_action_seek_relative),
	(update_current_time), (current_removed_cb), (on_eos_event),
	(totem_statusbar_create), (main): add a statusbar and move the
	time/length displays to it

2003-01-17  Bastien Nocera  <hadess@hadess.net>

	* README:
	* src/totem.c: (totem_action_handle_scroll),
	(on_window_scroll_event), (totem_callback_connect): added mousewheel
	action for the video canvas (patch by xan <xan@dimensis.com>, with
	some behaviour and style changes), updated README

2003-01-16  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_take_screenshot1_activate): update the label for
	screenshot errors

2003-01-16  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/totem.c: (screenshot_make_filename),
	(on_radiobutton_shot_toggled), (hide_screenshot),
	(on_take_screenshot1_activate), (totem_callback_connect): finished the
	work on the screenshot dialog

2003-01-15  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c:
	* src/gtk-playlist.h: minor fixes

2003-01-15  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine-properties.c: (gtk_xine_properties_init),
	(gtk_xine_properties_set_from_current),
	(gtk_xine_properties_update), (gtk_xine_properties_new): port the
	metadata fetching to gtk_xine_get_metadata()
	* src/gtk-xine.c: (gtk_xine_get_metadata_int): fix getting dimensions
	* src/totem-remote.c: (totem_remote_read_code),
	(totem_remote_init): don't use warnings for these errors

2003-01-15  Bastien Nocera  <hadess@hadess.net>

	* data/schemas.sh: don't try to thumbnail audio files, you dummy
	(Well spotted Anders :)

2003-01-14  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine-properties.c: (gtk_xine_properties_init),
	(gtk_xine_properties_finalize), (time_to_string),
	(gtk_xine_properties_set_label), (gtk_xine_properties_reset),
	(gtk_xine_properties_set_from_current),
	(gtk_xine_properties_update), (gtk_xine_properties_new),
	(gtk_xine_properties_class_init):
	* src/gtk-xine-properties.h:
	* src/gtk-xine.c: (gtk_xine_instance_init), (gtk_xine_finalize),
	(gtk_xine_idle_signal):
	* src/totem.c: (totem_action_set_mrl), (on_properties1_activate),
	(main): update totem and GtkXine for the new GtkXine widget
	need to finish the GtkXineProperties update code

2003-01-14  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/gtk-playlist.c:
	* src/gtk-xine-properties.c:
	(gtk_xine_properties_class_init):
	* src/gtk-xine-properties.h:
	* src/gtk-xine.c:
	* src/gtk-xine.h:
	* src/totem.c: Work on moving the Properties window into its own
	widget, to remove the libglade dependency in GtkXine
	("To be continued..."-style hacking)

2003-01-14  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (load_video_out_driver), (gtk_xine_unrealize),
	(gtk_xine_open), (gtk_xine_get_metadata_string),
	(gtk_xine_get_metadata_int), (gtk_xine_get_metadata_bool),
	(gtk_xine_get_metadata), (gtk_xine_can_get_frames):
	* src/gtk-xine.h: added gtk_xine_get_metadata call, use the "none"
	video driver by default, fix a crash on exit in totem-video-thumbnailer

2003-01-13  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_set_fullscreen):
	* src/video-utils.c:
	* src/video-utils.h: remove the custom set_fullscreen stuff and use
	what's in gdk 2.2 for us

2003-01-13  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/gnome-authn-manager.c:
	* src/gnome-authn-manager.h:
	* src/gnome-caption-table.c:
	* src/gnome-caption-table.h:
	* src/gnome-password-dialog.c:
	* src/gnome-password-dialog.h: Added Gnome Authentication dialog
	for the benefit of the playlist and the xine gnome-vfs plugin
	* src/gtk-xine.c: (generate_mouse_event), (gtk_xine_realize),
	(gtk_xine_idle_signal), (xine_event), (gtk_xine_motion_notify),
	(gtk_xine_button_press):
	* src/gtk-xine.h:
	* src/totem.c: (on_video_motion_notify_event), (main): Fix the DVD
	menus wrt mouse motion. Send the eos and title change events from
	the xine thread directly, not using the idle signal generation

2003-01-13  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_class_init), (gtk_xine_realize),
	(gtk_xine_set_fullscreen): remove the gdk_window_set_transient_for
	call, as it seems to break fullscreen. re-add our configure hack

2003-01-13  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_class_init), (generate_mouse_event),
	(xine_thread), (gtk_xine_realize), (gtk_xine_unrealize),
	(gtk_xine_motion_notify), (gtk_xine_button_press),
	(gtk_xine_key_press), (gtk_xine_configure),
	(gtk_xine_size_allocate), (gtk_xine_set_fullscreen):
	* src/totem.c: (on_video_motion_notify_event),
	(totem_callback_connect), (video_widget_create): move all the
	signal handling out of the Gdk event filter, and update totem
	to take it into account

2003-01-13  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_instance_init),
	(gtk_xine_filter_events), (gtk_xine_expose),
	(gtk_xine_set_fullscreen): move the expose event handling from the
	filter queue to the widget's handler

2003-01-13  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am:
	* configure.in:
	* src/Makefile.am:
	* src/input_gnomevfs.c: removed the gnome-vfs plugin, it now belongs
	in xine-lib

2003-01-12  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_instance_init),
	(load_audio_out_driver): fix a warning in the audio driver error,
	the widget doesn't need to be non double-buffered

2003-01-12  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (load_audio_out_driver): add an error if we can't
	get a working driver, for the benefit of RhythmBox

2003-01-12  Bastien Nocera  <hadess@hadess.net>

	* src/video-utils.c: (wmspec_change_state):
	* src/video-utils.h: removed the old compat fullscreen function
	(get a decent WM, thank you)

2003-01-12  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_filter_events), (gtk_xine_realize),
	(gtk_xine_get_current_frame), (gtk_xine_get_current_frame_rgb),
	(xine_frame_to_rgb): fix plenty of warnings and cleanups

2003-01-12  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (generate_mouse_event), (xine_thread),
	(gtk_xine_filter_events), (gtk_xine_realize),
	(gtk_xine_size_allocate), (gtk_xine_set_fullscreen):
	Make the events needed for menus and all generated again,
	fullscreen works again (Can we also filter the completion event the
	same way ?)

2003-01-11  Bastien Nocera  <hadess@hadess.net>

	* README:
	* src/gtk-xine.c: (gtk_xine_instance_init),
	(load_video_out_driver), (gtk_xine_realize),
	(gtk_xine_set_fullscreen): disable fullscreen for a second, use a
	GdkWindow for video_window
	* src/video-utils.c: (wmspec_change_state),
	(old_wmspec_set_fullscreen), (window_set_fullscreen):
	* src/video-utils.h: use GdkWindows instead of Windows

2003-01-11  Bastien Nocera  <hadess@hadess.net>

	* data/.cvsignore: 
	* src/totem.c: (totem_action_drop_files), (drop_video_cb),
	(drop_playlist_cb), (totem_callback_connect),
	(video_widget_create): dnd on the canvas replaces the dnd on the
	action part of the UI, you can also dnd on the playlist button to add
	files to the playlist (Closes: #101903)

2003-01-11  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/gtk-xine.c: (gtk_xine_realize): use a GdkWindow, that enables
	use to have a working DND on the canvas

2003-01-10  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_realize): simple change that makes totem
	work on remote displays

2003-01-10  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: build fixes (again)
	* src/gtk-xine.c: (gtk_xine_get_stream_length):
	* src/totem.c: (totem_action_play),
	(totem_action_set_mrl_and_play), (totem_action_fullscreen_toggle),
	(totem_action_set_mrl): back out the previous time display changes
	and fix the gtk_xine_get_stream_length() call

2003-01-10  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: build fix

2003-01-10  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* data/Makefile.am:
	* data/schemas.sh: added, generates the
	totem-video-thumbnail.schemas.in from the totem.keys file
	* data/totem.schemas.in: fixed the default value for show_vfx

2003-01-09  Bastien Nocera  <hadess@hadess.net>

	* configure.in: remove STABLE/UNSTABLE stuff
	* data/Makefile.am: fix user-install (Closes: #102987), patch by
	jogzh001@sneakemail.com
	* src/Makefile.am: ditto configure.in
	* src/bacon-cd-selection.[ch]:
	* src/cd-drive.[ch]:
	* src/egg-*.[ch]: upd from libegg and libbacon
	* src/totem-video-thumbnailer.c: (main):
	* src/totem.c: (totem_action_play),
	(totem_action_set_mrl_and_play), (totem_action_fullscreen_toggle),
	(totem_action_set_mrl): fix time display, and the properties window

2003-01-09  Christian Neumair  <chris@gnome-de.org>

	* src/.cvsignore: Added list_cddrives.

2003-01-08  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_open):
	* src/totem.c: (totem_action_set_mrl_and_play),
	(totem_action_play_media), (totem_action_play_pause),
	(totem_action_set_mrl), (totem_action_previous),
	(totem_action_next), (drop_cb), (on_open1_activate),
	(playlist_changed_cb), (current_removed_cb), (main):
	* src/totem.h: removed debug, fixed typo in the decoder error
	(Closes: #102851), handle failed open better than we do now

2003-01-08  Bastien Nocera  <hadess@hadess.net>

	* src/bacon-cd-selection.c:
	* src/bacon-cd-selection.h:
	* src/cd-drive.c:
	* src/cd-drive.h:
	* src/egg-*.[ch]: Add these files for the benefit of the i18n people
	(Closes: #102777)

2003-01-08  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (get_fourcc_string), (gtk_xine_open):
	add error checking to gtk_xine_open, nicked get_fourcc_string from
	xine-ui

2003-01-08  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_about1_activate): fix small leak (spotted by
	Alex Duggan)

2003-01-07  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_get_position),
	(gtk_xine_get_current_time), (gtk_xine_get_stream_length):
	fixed endless loops, need to fix gtk_xine_open calls (check return
	value)

2003-01-07  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_get_position),
	(gtk_xine_get_current_time), (gtk_xine_get_stream_length):
	harden the functions using xine_get_pos_length. 10 tries to getting the
	current positions, and length. Makes seeking better

2003-01-07  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_open), (gtk_xine_play): moved the port
	rewiring from gtk_xine_play to gtk_xine_open, and add an error
	if there's no audio nor video supported in the stream (this should
	speed up seeking a bit)

2003-01-07  Bastien Nocera  <hadess@hadess.net>

	* src/.cvsignore: upd
	* src/gtk-xine.c: (gtk_xine_finalize), (gtk_xine_unrealize),
	(gtk_xine_can_get_frames): XINE_STREAM_INFO_VIDEO_HANDLED is broken for
	some decoders, we enable it so we can test it, destroy the event queue
	properly

2003-01-07  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: doh!, add the vfs files in again
	* src/totem-video-thumbnailer.c: (save_pixbuf): only return 1 for
	hardcore errors

2003-01-07  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_can_get_frames):
	XINE_STREAM_INFO_VIDEO_HANDLED is broken for now, disable it
	* src/totem-video-thumbnailer.c: (main): reenable the check for
	can_get_frames

2003-01-07  Bastien Nocera  <hadess@hadess.net>

	* README: add info about the thumbnailer
	* configure.in: add some gtk+ only flags
	* data/.cvsignore: upd
	* data/totem.glade: add the screenshot menu item
	* src/Makefile.am: upd
	* src/egg-recent-vfs-utils.[ch]: add these files in (I'm pretty sure
	Totem doesn't compile anymore on stable GNOME...)
	* src/gtk-playlist.c: (drop_cb), (gtk_playlist_add_mrl): removed
	useless debug
	* src/gtk-xine.c: (load_video_out_driver), (gtk_xine_realize),
	(gtk_xine_unrealize), (gtk_xine_get_position),
	(gtk_xine_get_current_time), (gtk_xine_get_stream_length),
	(gtk_xine_properties_dialog_get), (gtk_xine_can_get_frames),
	(gtk_xine_get_current_frame), (xine_frame_to_rgb): remove debug,
	add some FIXMEs, remove gnome dependency, more work on the thumbnailer
	side
	* src/gtk-xine.h: upd
	* src/list_cddrives.c: removed, it's in libbacon now
	* src/totem-video-thumbnailer.c: (save_pixbuf), (main): more work
	* src/totem.c: (on_take_screenshot1_activate),
	(totem_callback_connect), (video_widget_create): remove debug, started
	adding the screenshot function

2003-01-06  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: upd
	* src/gtk-xine.c: (gtk_xine_instance_init),
	(load_video_out_driver), (load_audio_out_driver), (gtk_xine_new),
	(gtk_xine_properties_update), (gtk_xine_get_current_frame),
	(gtk_xine_get_current_frame_rgb), (scale_line_1_1),
	(scale_line_45_64), (scale_line_15_16), (scale_image),
	(yuy2toyv12), (yuy2_fudge), (yv12_2_rgb), (xine_frame_to_rgb): nick a
	lot of functions from http://pornview.sf.net to add screenshooting
	capability
	* src/gtk-xine.h: upd
	* src/totem-video-thumbnailer.c: (print_usage), (show_pixbuf),
	(save_pixbuf), (main): added
	* src/totem.c: (video_widget_create): some runtime fixes

2003-01-06  Bastien Nocera  <hadess@hadess.net>

	* src/.cvsignore: upd

2003-01-02  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/gtk-xine.c: (gtk_xine_class_init), (gtk_xine_realize),
	(gtk_xine_idle_signal):
	* src/gtk-xine.h:
	* src/totem.c: (totem_action_open_files), (totem_callback_connect),
	(video_widget_create), (main):
	* src/totem.h: if we create a GdkWindow and use that for xine, we can
	get DND working. I need to create a test case and cook up some work
	arounds for the expose handling in gdk
	* src/xdnd.c:
	* src/xdnd.h: removed

2003-01-02  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/gtk-xine.c: (gtk_xine_class_init),
	(gtk_xine_process_file_list), (gtk_xine_filter_events),
	(gtk_xine_realize), (gtk_xine_idle_signal):
	* src/gtk-xine.h:
	* src/totem.c: (on_dnd_event), (totem_callback_connect),
	(video_widget_create):
	* src/xdnd.c: (wXDNDInitialize), (wXDNDMakeAwareness),
	(wXDNDClearAwareness), (wXDNDProcessSelection),
	(wXDNDProcessClientMessage):
	* src/xdnd.h: get the DND code from MPlayer instead of Window Maker,
	glib-ise a bit the whole thing, and clean up the code.
	DND now works on the video playback canvas

2003-01-02  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: build fixes

2003-01-02  Bastien Nocera  <hadess@hadess.net>

	* README_CVS:
	* data/totem.glade:
	* src/Makefile.am:
	* src/cd-drive.c: removed
	* src/cd-drive.h: ditto
	* src/totem-cd-selection.c: ditto
	* src/totem-cd-selection.h: ditto
	* src/totem.c: (on_combo_entry1_changed), (mediadev_changed_cb),
	(bacon_cd_selection_create), (totem_setup_preferences):
	update everything wrt the new libbacon

2002-12-30  Bastien Nocera  <hadess@hadess.net>

	* src/input_gnomevfs.c: (gnomevfs_plugin_get_optional_data):
	disable the subtitle stuff for now

2002-12-29  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (load_audio_out_driver),
	(video_window_translate_point), (gtk_xine_play): remove debug

2002-12-29  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_realize), (gtk_xine_play): fix the last
	bits missing for the Visual Effects plugins to work. Only Goom is
	supported at the moment

2002-12-29  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* src/Makefile.am: use pkg-config for xine as well now

2002-12-27  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: upd
	* data/totem.schemas.in: upd
	* src/gtk-xine.c: (gtk_xine_instance_init), (update_mediadev_conf),
	(show_vfx_changed_cb), (load_config_from_gconf), (gtk_xine_play),
	(gtk_xine_get_mrls): upd
	* src/totem.c: (on_checkbutton2_toggled), (show_vfx_changed_cb),
	(totem_setup_preferences): added Visual Effects Playback when a stream
	with no video is playing. See http://sourceforge.net/mailarchive/forum.php?thread_id=1460406&forum_id=11923 for interesting code

2002-12-27  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/gtk-xine.c: (gtk_xine_instance_init), (frame_output_cb),
	(gtk_xine_open), (gtk_xine_close):
	* src/totem.c: (totem_action_set_mrl), (on_checkbutton1_toggled),
	(on_combo_entry1_changed), (auto_resize_changed_cb),
	(mediadev_changed_cb), (totem_setup_preferences), (main):
	only resize the video if it's not the logo we're going to be showing,
	add the mrl to the GtkXine widget, use GCONF_PREFIX, cleanups
	(Closes: #101475)

2002-12-27  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: added some targets to remove the need for a manual
	regenerate-build-sources line

2002-12-27  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_about1_activate): the Copyright notice shouldn't be
	translatable (Closes: #101947, #102010)

2002-12-24  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/gtk-xine.c: (gtk_xine_filter_events), (gtk_xine_realize):
	* src/totem.c: (video_widget_create):
	* src/xdnd.c: (wXDNDInitializeAtoms), (wXDNDMakeAwareness),
	(wXDNDClearAwareness), (wXDNDProcessSelection), (isAwareXDND),
	(acceptXDND), (wXDNDProcessClientMessage):
	* src/xdnd.h: some work towards getting DND to work on the playback
	canvas itself, needs *more* work

2002-12-23  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_about1_activate): change the (C) to a proper
	copyright sign

2002-12-16  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (xine_thread), (gtk_xine_unrealize):
	* src/scrsaver.c: (scrsaver_init), (scrsaver_disable),
	(scrsaver_enable):
	* src/totem.c: (totem_action_exit): exit fixes, should fix the very
	slow exits (Closes: #101299, #101258)

2002-12-16  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (update_sliders), (main): fix up volume being at 0
	on startup (patch by John McCutchan <ttb@tentacle.dhs.org>)
	(Closes: #101298)

============ Version 0.13.1

2002-12-15  Bastien Nocera  <hadess@hadess.net>

	* src/list_cddrives.c: (list_cdroms): fix compilation,
	actually release 0.13.1 now

2002-12-15  Bastien Nocera  <hadess@hadess.net>

	* src/cd-drive.c: fix typo

2002-12-13  Bastien Nocera  <hadess@hadess.net>

	* src/cd-drive.c: (parse_sg_line), (add_linux_cd_recorder),
	(add_linux_cd_drive), (linux_scan), (scan_for_cdroms):
	* src/cd-drive.h: some fixes from Iain Holmes <iain@prettypeople.org>,
	change max_speed to max_speed_write, and add max_speed_read
	* src/totem-cd-selection.h: use (void) when there are no args, not just
	()

2002-12-12  Bastien Nocera  <hadess@hadess.net>

	* src/list_cddrives.c: (list_cdroms): list more stuff

2002-12-11  Bastien Nocera  <hadess@hadess.net>

	* configure.in: 0.13.1
	* src/Makefile.am: add $(GLIB_UNSTABLE) (spotted by riccardo, on
	#gnome IRC)

2002-12-10  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (update_mediadev_conf), (load_config_from_gconf),
	(gtk_xine_get_mrls): make sure that the media device is changed when
	switched during the course of the session

2002-12-09  Bastien Nocera  <hadess@hadess.net>

	* src/totem-cd-selection.c: (get_drive),
	(totem_cd_selection_set_device): fix crashes on CD-Rom-less machines,
	better handling of the default CD-Rom device checks

2002-12-09  Bastien Nocera  <hadess@hadess.net>

	* README: updated
	* TODO: upd

2002-12-09  Bastien Nocera  <hadess@hadess.net>

	* configure.in: glib 2.1.x detection
	* src/cd-drive.c: (cdrom_get_name), (linux_scan),
	(scan_for_cdroms): fix up glib-2.1.x usage, use g_strndup instead of
	strndup which is GNU only, some coding style fixes
	* src/totem-cd-selection.c: (cdrom_option_menu),
	(totem_cd_selection_set_device): make the widget insensitive if there
	are no CD-Rom drives on the machine, fallback to the default device if
	totem_cd_selection_set_device failed

============ Version 0.13.0

2002-12-08  Bastien Nocera  <hadess@hadess.net>

	* src/cd-drive.c: (g_str_has_prefix): implement g_str_has_prefix for
	glib-2.x platforms

2002-12-07  Bastien Nocera  <hadess@hadess.net>

	* configure.in: 0.13.0

2002-12-07  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: upd
	* src/cd-drive.c: (cdrom_get_name): fixed getting the name
	* src/list_cddrives.c: (list_cdroms), (main): added test case
	* src/totem-cd-selection.c: (get_drive),
	(totem_cd_selection_instance_init), (option_menu_device_changed),
	(cdrom_option_menu), (totem_cd_selection_new),
	(totem_cd_selection_get_default_device),
	(totem_cd_selection_set_device), (totem_cd_selection_get_device):
	* src/totem-cd-selection.h: added the implementation for the option
	menu selection
	* src/totem.c: (totem_setup_preferences): updated
	* data/totem.schemas.in: changed the default mediadev to "auto"
	(Closes: #95653)

2002-12-07  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/totem-cd-selection.c: (totem_cd_selection_get_type),
	(totem_cd_selection_class_init),
	(totem_cd_selection_instance_init), (totem_cd_selection_realize),
	(totem_cd_selection_unrealize), (totem_cd_selection_finalize),
	(on_combo_entry_changed), (totem_cd_selection_new),
	(totem_cd_selection_set_property),
	(totem_cd_selection_get_property), (totem_cd_selection_set_device),
	(totem_cd_selection_get_device):
	* src/totem-cd-selection.h:
	* src/totem.c: (on_combo_entry1_changed), (mediadev_changed_cb),
	(label_create), (totem_cd_selection_create),
	(totem_setup_preferences): changes to use the new TotemCdSelection
	widget, no implementation using the CDDrive stuff yet

2002-12-07  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/cd-drive.c: (read_lines), (parse_sg_line), (count_strings),
	(get_cd_scsi_id), (lookup_scsi_unit), (get_device_max_speed),
	(add_linux_cd_recorder), (cdrom_get_name), (add_linux_cd_drive),
	(linux_scan), (scan_for_cdroms):
	* src/cd-drive.h:
	* src/totem-cd-selection.c: (totem_cd_selection_get_type),
	(totem_cd_selection_class_init),
	(totem_cd_selection_instance_init), (totem_cd_selection_finalize),
	(totem_cd_selection_idle_signal), (totem_cd_selection_new),
	(totem_cd_selection_set_property),
	(totem_cd_selection_get_property), (totem_cd_selection_set_speed):
	* src/totem-cd-selection.h:
	* src/totem.c: added the start of TotemCdSelection, and the
	implementation of scan_for_cdroms ()

2002-12-07  Christian Neumair  <chris@gnome-de.org>

	* .cvsignore: Updated.
	* src/totem.c: Marked a missing string for translation.

2002-12-06  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_add_mrl):
	* src/gtk-xine.c: (gtk_xine_get_volume):
	* src/totem.c: (update_sliders), (update_cb_often),
	(update_cb_rare), (totem_callback_connect), (video_widget_create),
	(main): try to be more efficient when setting the volume (including
	the updating of the image), don't check if we're seekable so often

2002-12-04  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (load_video_out_driver), (gtk_xine_dvd_event):
	fix stupidity in the return vals for gtk_xine_dvd_event (), fix aspect
	ratio, spotted by Henning Haaland Kulander <hennikul@ifi.uio.no>

2002-12-03  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/gtk-xine.c: (dvd_skip_behaviour), (gtk_xine_dvd_event):
	* src/gtk-xine.h:
	* src/totem.c: (totem_action_set_mrl), (totem_playing_dvd),
	(totem_action_previous), (totem_action_next), (drop_cb),
	(totem_action_open_files), (on_dvd_root_menu1_activate),
	(on_dvd_title_menu1_activate), (on_dvd_audio_menu1_activate),
	(on_dvd_angle_menu1_activate), (on_dvd_chapter_menu1_activate),
	(totem_action_handle_key), (update_dvd_menu_items),
	(update_buttons), (totem_callback_connect):
	big patch by John McCutchan <ttb@tentacle.dhs.org>. Added
	gtk_xine_dvd_event (), Skip by Chapter, DVD menu/Title menu/Angle
	menu/Chapter menu items and associated code.

2002-11-30  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_add_mrl),
	(gtk_playlist_has_next_mrl), (gtk_playlist_set_title):
	* src/gtk-playlist.h:
	* src/gtk-xine.c: (gtk_xine_class_init), (gtk_xine_idle_signal),
	(xine_event):
	* src/gtk-xine.h:
	* src/totem.c: (totem_action_set_mrl), (update_mrl_label),
	(on_title_change_event), (update_seekable), (update_current_time),
	(update_sliders), (update_cb), (totem_callback_connect),
	(video_widget_create): patch from John McCutchan
	<ttb@tentacle.dhs.org>, check if seekable every once in a while, set
	the title to be the one from the DVD, get the right length for the DVD
	chapters.
	Added gtk_playlist_set_title () for GtkPlaylist, also set the window
	title when setting the labels

2002-11-28  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (update_sliders_cb): show the time next to the seek
	slider, patch by John McCutchan <ttb@tentacle.dhs.org>

2002-11-28  Bastien Nocera  <hadess@hadess.net>

	* data/properties.glade: make properties text selectable
	(Closes: #99811)

2002-11-28  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_can_set_volume): if the volume is -1, we
	can't set the volume (the OSS output plugin doesn't seem to support
	setting the volume, weird) (Closes: #99757)

2002-11-27  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_open_files): removed debug message

============ Version 0.12.1

2002-11-27  Bastien Nocera  <hadess@hadess.net>

	* configure.in: 0.12.1

2002-11-27  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_get_mrls): use DVD as the DVD plugin
	identifier, not NAV anymore
	* src/totem.c: (totem_action_open_files): not dvd:// anymore, but
	dvd:/, makes DVD playback work again. (Closes: #99556)

2002-11-27  Bastien Nocera  <hadess@hadess.net>

	* data/totem.applications:
	* data/totem.keys: whoo, xine 1.0 alpha2 can use the binary-only
	plugins from Real Player for Linux, added the Real Media mime-types

============ Version 0.12.0

2002-11-25  Bastien Nocera  <hadess@hadess.net>

	* configure.in: version 0.12.0

2002-11-25  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_handle_key): add support for a bunch of
	XFree86 multimedia keys (*hint* use acme *hint*)

2002-11-25  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_handle_key): add 'O' and 'o' (that's the
	letter 'o' not zero), switches to window mode, and opens the file
	selector (Closes: #99520) (it's not possible to do that kind of thing
	in fullscreen mode properly)

2002-11-25  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: remove the word stream from the interface

2002-11-24  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (main): fix the call to gtk_program_register

2002-11-24  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_open_files): fix double free that would
	crash totem on startup, bad bad

2002-11-22  Bastien Nocera  <hadess@hadess.net>

	* data/totem.desktop.in: added StartupNotify=true

2002-11-22  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_finalize): added more cleanups on _finalize

2002-11-22  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_unrealize): more exit code cleanups from
	Daniel Caujolle-Bert <segfault@club-internet.fr> (Merci Daniel!)

2002-11-21  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_unrealize): dispose of the stream and
	close both the audio and the video drivers before exiting, should fix
	the crash on exit (again...)

2002-11-21  Bastien Nocera  <hadess@hadess.net>

	* data/totem.desktop.in: added X-Bugzilla stuff
	* src/gtk-xine.c: (gtk_xine_unrealize): unmap before stopping the xine
	engine

2002-11-20  T?µivo Leedj?€rv  <toivo@linux.ee>

	* configure.in: Added et to ALL_LINGUAS.

2002-11-19  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (time_to_string): "0 seconds" not "0 second"

2002-11-18  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_unrealize): try to zero the pointers of
	the stream and the engine after closing them, yet another try at the
	crash on exit
	* src/totem.c: (totem_action_open_files): try to cut to the subtitle
	before checking for existance of the files

2002-11-17  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_unrealize):
	* src/totem.c: (totem_action_exit), (current_removed_cb): close the
	stream before destroying the xine engine, should really fix the crash
	on exit

2002-11-16  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: fix the fullscreen buttons
	* src/gtk-message.c: (gtk_message_queue_unref),
	(selection_get_func), (selection_clear_func),
	(gtk_program_register), (gtk_message_queue_new),
	(gtk_message_queue_is_server):
	* src/gtk-message.h: started porting to SysV message queues
	* src/totem.c: (totem_action_exit), (totem_action_set_mrl),
	(vol_cb), (totem_setup_preferences), (process_queue), (main): try to
	fix the crash on exit, fixes for the fullscreen volume slider, changes
	for gtk-message

2002-11-15  Dmitry G. Mastrukov  <dmitry@taurussoft.org>

	* configure.in: Added Belarusian to ALL_LINGUAS.

2002-11-14  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_mouse_motion_event): fix showing the label on the
	fullscreen controls

2002-11-14  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/totem.c: (totem_action_set_mrl): try to do some UI changes to
	the fullscreen controls

2002-11-13  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: some UI changes inspired by Luca Ferretti
	<elle.uca@libero.it>, the volume now has a minimum size, and moved the
	label underneath the video. It all looks a lot better for very small
	movies at real size

2002-11-13  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_set_mrl), (on_eos_event): some fixes to
	get logo working

2002-11-13  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_new):
	* src/gtk-playlist.h:
	* src/totem.c: (main): don't set the playlist as a transient of the
	main window

2002-11-13  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_instance_init),
	(gtk_xine_properties_dialog_get), (gtk_xine_properties_update):
	fix what's shown in the properties dialog when the logo is loaded

2002-11-10  Bastien Nocera  <hadess@hadess.net>

	* data/properties.glade:
	* src/gtk-xine.c: (time_to_string), (gtk_xine_properties_reset),
	(gtk_xine_properties_set_from_current): added a duration field to the
	movie properties dialog

2002-11-10  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (init_columns): only one column

2002-11-09  Bastien Nocera  <hadess@hadess.net>

	* data/properties.glade: s/Codec:/Codec: / to simplify the .po files

2002-11-09  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_properties1_activate): added error when we couldn't
	get the properties window

2002-11-09  Bastien Nocera  <hadess@hadess.net>

	* data/properties.glade:
	* src/gtk-xine.c: (gtk_xine_can_set_volume),
	(gtk_xine_properties_reset),
	(gtk_xine_properties_set_from_current): simplify
	gtk_xine_can_set_volume(), disable the video/audio frames in the
	properties depending on wether there is audio/video present

2002-11-09  Bastien Nocera  <hadess@hadess.net>

	* data/playlist-playing.png: invert the colours, otherwise you can't
	see a thing with most of the themes

2002-11-09  Bastien Nocera  <hadess@hadess.net>

	* data/properties.glade: change the frames to no shadow, and put the
	labels in bold (looks better indeed)

2002-11-08  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am:
	* data/properties.glade:
	* data/totem.glade:
	* src/gtk-xine.c: (gtk_xine_instance_init), (gtk_xine_finalize),
	(hide_dialog), (gtk_xine_properties_dialog_get),
	(gtk_xine_properties_get_title), (gtk_xine_properties_set_label),
	(gtk_xine_properties_reset),
	(gtk_xine_properties_set_from_current),
	(gtk_xine_properties_update):
	* src/gtk-xine.h:
	* src/totem.c: (totem_action_set_mrl), (on_about1_activate),
	(on_properties1_activate), (hide_prefs), (totem_callback_connect),
	(main): properties work (Closes: #92098), and fix the copyright notice
	so that Jordi stops bugging me

2002-11-08  Bastien Nocera  <hadess@hadess.net>

	* data/properties.glade: added

2002-11-08  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_play), (gtk_xine_set_speed),
	(gtk_xine_set_scale_ratio), (gtk_xine_properties_dialog_get),
	(gtk_xine_properties_get_title), (gtk_xine_properties_update):
	* src/gtk-xine.h: fix for when seeking goes beyond the length of the
	stream, starts of the properties dialog

2002-11-07  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/totem.c: (totem_action_set_mrl), (on_about1_activate),
	(on_error_event), (label_create): fix i18n issues (Closes: #97636)

2002-11-07  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.h:
	* src/totem.c: (auto_resize_changed_cb), (mediadev_changed_cb),
	(video_widget_create), (totem_setup_preferences):
	* src/totem.h: make preferences work, add copyright notices

2002-11-07  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/totem.c: (totem_action_play_media), (video_widget_create):
	make the VCD and DVD menu items easier on the users. Now the menu
	items are always sensitive, and a helpful error message appears when
	there's a problem

2002-11-07  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_play), (gtk_xine_set_speed):
	* src/gtk-xine.h:
	* src/totem.c: (totem_button_pressed_remote_cb),
	(totem_action_handle_key): fix seeking and speed arguments, fix API
	to make it less xine-specific

2002-11-07  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_play): fix seeking, xine now uses
	milliseconds not seconds
	* src/gtk-xine.h: add comment for gtk_xine_play
	* src/totem.c: (on_checkbutton1_toggled),
	(on_combo_entry1_changed), (totem_setup_preferences): more preferences
	work, need to update when changed from gconf

2002-11-04  Jordi Mallach  <jordi@sindominio.net>

	* configure.in (ALL_LINGUAS): Added Catalan (ca).

2002-11-04  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (load_config_from_gconf),
	(gtk_xine_set_fullscreen): remove gconf_is_initalized checks,
	fullscreen cleanups
	* src/video-utils.c: (wmspec_change_state),
	(old_wmspec_set_fullscreen), (window_set_fullscreen):
	* src/video-utils.h: fullscreen cleanups

2002-11-03  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (load_config_from_gconf):
	* src/totem.c: (totem_action_set_mrl), (main): Remove the logo stuff
	from the GtkXine widget and into totem itself

2002-11-03  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* src/Makefile.am: update to test for unstable libgnomeui (wheee,
	nifty icons in the menu for recent files)
	* src/input_gnomevfs.c: (gnomevfs_plugin_read),
	(gnomevfs_plugin_get_optional_data), (gnomevfs_klass_open):
	clean up debug

2002-11-02  Bastien Nocera  <hadess@hadess.net>

	* src/input_gnomevfs.c: (gnomevfs_plugin_get_capabilities),
	(gnomevfs_plugin_read), (gnomevfs_plugin_read_block),
	(gnomevfs_plugin_get_mrl), (gnomevfs_plugin_get_optional_data),
	(gnomevfs_klass_open): fix gnomevfs_klass_open (this->fh was never
	assigned the file handle), clean up the rest of the file

2002-10-31  Bastien Nocera  <hadess@hadess.net>

	* data/playlist-playing.png:
	* data/rhythmbox-volume-max.png:
	* data/rhythmbox-volume-medium.png:
	* data/rhythmbox-volume-min.png:
	* data/rhythmbox-volume-zero.png: updated with icons from Luca
	Ferretti <elle.uca@libero.it>

2002-10-31  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am: added lirc_example to EXTRA_DIST

2002-10-30  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_instance_init), (frame_output_cb),
	(load_audio_out_driver), (load_config_from_gconf),
	(gtk_xine_realize), (xine_event), (gtk_xine_set_audio_channel),
	(gtk_xine_get_audio_channel), (gtk_xine_can_set_volume): plenty of
	fixes, save the config file in a place different from the one
	libgnomeui uses, load from gconf on instance_init, remove old code

2002-10-29  Yukihiro Nakai  <nakai@gnome.gr.jp>

	* configure.in: Add Japanese 'ja' to ALL_LINGUAS

2002-10-28  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (drop_cb): fix dropping a file that's not local
	* src/gtk-xine.c: (gtk_xine_realize): remove the codec reporting
	* src/totem.c: (drop_cb): same as GtkPlaylist

2002-10-28  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (drop_cb), (init_config),
	(gtk_playlist_add_one_mrl), (gtk_playlist_set_at_start):
	fix all the crack warnings
	* src/gtk-xine.c: (gtk_xine_realize), (gtk_xine_open),
	(gtk_xine_stop), (gtk_xine_close): fix the plugins detection,
	semantics for _open/_play and _close
	* src/gtk-xine.h:
	* src/totem.c: (totem_action_set_mrl): fix the time display, and
	remove the temporary commented hacks, remove the disable_output stuff,
	it's crack and not used anyway

2002-10-28  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (dest_size_cb), (frame_output_cb),
	(load_video_out_driver), (generate_mouse_event), (xine_thread),
	(gtk_xine_realize), (gtk_xine_set_speed), (gtk_xine_is_playing):
	fix the mouse event generation, the speed setting, and the
	display_ratio setting (int v. double)

2002-10-28  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_instance_init),
	(load_video_out_driver), (load_audio_out_driver), (xine_thread),
	(gtk_xine_realize), (gtk_xine_check), (gtk_xine_open),
	(gtk_xine_play), (gtk_xine_stop), (gtk_xine_set_speed),
	(gtk_xine_get_speed), (gtk_xine_get_position),
	(gtk_xine_set_audio_channel), (gtk_xine_can_set_volume),
	(gtk_xine_set_volume), (gtk_xine_get_volume),
	(gtk_xine_get_current_time), (gtk_xine_get_stream_length),
	(gtk_xine_is_playing), (gtk_xine_is_seekable):
	* src/gtk-xine.h:
	* src/totem.c: (volume_set_image), (totem_action_play),
	(totem_action_set_mrl), (totem_action_seek_relative),
	(on_mouse_click_fullscreen), (on_mouse_motion_event),
	(video_widget_create): much more work on the port, add gtk_xine_open
	function, change semantics of the gtk_xine_play function

2002-10-28  Bastien Nocera  <hadess@hadess.net>

	* configure.in: require 0.9.14
	* src/Makefile.am: remove -lxineutils
	* src/gtk-xine.c: 
	* src/input_gnomevfs.c: both files, first shot at porting, still
	compiles, probably very broken

============ Version 0.11.0

2002-10-27  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: disable prefs
	* src/gtk-playlist.c: (gtk_playlist_unset_playing):
	* src/gtk-xine.c: (load_video_out_driver): little cleanups
	* src/totem.c: (totem_action_exit): fix warning on exit

2002-10-25  Bastien Nocera  <hadess@hadess.net>

	* data/totem.applications: added asx support
	* data/totem.keys: ditto
	* src/gtk-playlist.c: (parse_entry), (parse_entries),
	(gtk_playlist_add_asx), (gtk_playlist_add_mrl): we can now parse asx
	playlists, tada!

2002-10-24  Bastien Nocera  <hadess@hadess.net>

	* data/totem.schemas.in: added playlist coordinates
	* src/gtk-playlist.c: (gtk_playlist_finalize),
	(gtk_playlist_unrealize), (gtk_playlist_realize),
	(gtk_playlist_class_init): Save playlist coordinates between runs of
	Totem
	* src/gtk-xine.c: (gtk_xine_class_init), (gtk_xine_instance_init),
	(load_audio_out_driver), (configure_cb), (gtk_xine_realize),
	(gtk_xine_unrealize), (gtk_xine_expose), (gtk_xine_stop),
	(gtk_xine_set_fullscreen), (gtk_xine_is_fullscreen): some style
	cleanups
	* src/input_gnomevfs.c: (gnomevfs_plugin_close): only close if
	there's actually something to close
	* src/totem.c: (totem_action_exit): destroy the playlist before we
	close Totem

2002-10-24  Thomas Vander Stichele <thomas@apestaart.org>

  	* configure.in: fix AC_DEFINE* to take three arguments
          get rid of acconfig.h 
          appease libtool gods by switching around two macros
          poke fun at the master hacker

2002-10-23  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (time_to_string), (totem_action_play): display "2
	minutes and 30 seconds" as "2:30" not " 2:30", and update time in the
	label when we're playing the video

2002-10-23  Bastien Nocera  <hadess@hadess.net>

	* configure.in: added more libtool fpic fu (from xine-lib)
	* src/Makefile.am: added -D_REENTRANT -D_FILE_OFFSET_BITS=64 thus
	making the gnome-vfs plugin actually work from totem itself, wheeee!

2002-10-23  Bastien Nocera  <hadess@hadess.net>

	* src/debug.h: remove debug for threads_enter/_leave
	* src/gtk-message.c: (gtk_message_make_selection_name): remove debug
	* src/gtk-xine.c: (gtk_xine_instance_init),
	(gtk_xine_set_fullscreen): move the Poor Man's Lock to the object,
	create and delete the window when entering/leaving fullscreen
	* src/totem.c: (totem_action_play), (on_mouse_click_fullscreen),
	(totem_callback_connect): more patching from John McCutchan
	<ttb@tentacle.dhs.org> for the fullscreen controls

2002-10-21  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: use a FileEntry instead of a simple entry
	* src/gtk-playlist.c: (gtk_tree_model_iter_previous),
	(gtk_tree_path_equals), (gtk_tree_selection_has_selected_foreach),
	(read_ini_line_int), (read_ini_line_string), (drop_cb),
	(update_current_from_playlist), (gtk_playlist_add_files),
	(gtk_playlist_foreach_selected), (gtk_playlist_remove_files),
	(init_columns), (treeview_row_changed), (init_treeview),
	(gtk_playlist_init), (gtk_playlist_finalize), (gtk_playlist_new),
	(gtk_playlist_add_one_mrl), (gtk_playlist_add_m3u),
	(gtk_playlist_add_pls), (gtk_playlist_add_mrl),
	(gtk_playlist_clear), (gtk_playlist_get_current_mrl),
	(gtk_playlist_has_previous_mrl), (gtk_playlist_has_next_mrl),
	(gtk_playlist_set_playing), (gtk_playlist_unset_playing),
	(gtk_playlist_set_previous), (gtk_playlist_set_next),
	(gtk_playlist_set_at_start), (gtk_playlist_class_init): remove all the
	debug (not needed anymore), add double-click to the playlist
	* src/totem.c: (totem_setup_preferences): make it compile again until
	I find the strength to write this boring code

2002-10-21  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (on_preferences1_activate), (hide_prefs),
	(update_buttons), (totem_callback_connect),
	(totem_setup_preferences), (main): add basic code for the preferences
	dialog

2002-10-21  Bastien Nocera  <hadess@hadess.net>

	* data/playlist.glade: added repeat check button
	* data/totem.schemas.in: added repeat configuration
	* src/gtk-playlist.c: (repeat_button_toggled), (update_repeat_cb),
	(init_config), (gtk_playlist_init), (gtk_playlist_new),
	(gtk_playlist_has_next_mrl), (gtk_playlist_set_next): add support for
	repeat, pressing next in repeat mode from the last song goes to the
	beginning of the list (Closes: #96048)
	* src/totem.c: (on_recent_file_activate): fix a leak when filename was
	NULL

2002-10-21  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_tree_selection_has_selected_foreach),
	(gtk_tree_selection_has_selected): urgh, still learning C bud ?

2002-10-21  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_tree_selection_has_selected_foreach),
	(gtk_tree_selection_has_selected), (selection_changed),
	(init_treeview): make the removed button's state depend on wether we
	have a selection or not, fixed a bug in the class_init (wrong offset
	for the current-removed signal
	* src/totem.c: (totem_action_set_mrl), (current_removed_cb): stop the
	playback when the current song is removed, and the playlist is empty

2002-10-21  Bastien Nocera  <hadess@hadess.net>

	* data/playlist.glade: the remove button is disabled by default
	* src/totem.c: (on_recent_file_activate): use
	gnome_vfs_get_local_path_from_uri rather than g_filename_from_uri, the
	glib function doesn't like non-UTF8

2002-10-21  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (totem_action_set_mrl), (seek_cb): patch by John
	McCutchan <ttb@tentacle.dhs.org>, to move the correct seekbars around

2002-10-19  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: added prefs dialog (not hooked yet)
	* data/totem.schemas.in: added VCD/DVD device configuration
	(Closes:#95653), default is /dev/cdrom, both Debian and Red Hat create
	the link by default
	* src/gtk-xine.c: (load_config_from_gconf): added support for optical
	media configuration
	* src/totem.c: (totem_action_open_files), (popup_hide),
	(on_motion_notify_event): removed debug, added support for dvd: and
	vcd: arguments (Closes:#95874)
	* src/video-utils.c: (gdk_window_set_fullscreen): added some more
	atoms needed for fullscreen

2002-10-19  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_set_fullscreen),
	(gtk_xine_set_show_cursor): just show/hide a window instead of
	creating a new one each time (Closes: #91892)

2002-10-19  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (popup_hide): disconnect the "popup_hide" callback
	before hiding the popup (Closes: #91836)

2002-10-19  Bastien Nocera  <hadess@hadess.net>

	* .cvsignore: upd
	* data/totem.glade: remove the additional events on the popups,
	they're already in the sources

2002-10-19  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am: added the gnome-vfs xine plugin
	* configure.in: libtool-fu
	* data/totem.applications: we can do URIs any day
	* data/totem.glade: controls popup
	* src/Makefile.am: upd
	* src/gtk-playlist.c: (gtk_playlist_add_one_mrl),
	(gtk_playlist_mrl_to_title): remove escapes from filenames before
	showing them
	* src/gtk-xine.c: (gtk_xine_instance_init), (frame_output_cb),
	(gtk_xine_set_fullscreen), (gtk_xine_is_seekable): cleanups, if stream
	length is 0, don't set it as seekable
	* src/input_gnomevfs.c: added, not functional yet because of build
	problems
	* src/totem.c: (play_pause_set_label), (volume_set_image),
	(totem_action_fullscreen_toggle), (totem_action_set_mrl),
	(totem_action_previous), (totem_action_next), (update_sliders_cb),
	(seek_cb), (vol_cb), (popup_hide), (on_mouse_motion_event),
	(on_motion_notify_event), (update_buttons),
	(totem_callback_connect), (main): merge patch by John McCutchan
	<ttb@tentacle.dhs.org> to show a controls popup in fullscreen mode,
	cleanup the patch, catch motion events on the popups so they don't
	flicker when moving the mouse over them

2002-10-12  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_add_mrl): add the files only once,
	not twice and buggily
	* src/totem.c: (totem_action_open_files): only add to recent files if
	we could add it to the playlist

2002-10-12  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (read_ini_line_int), (read_ini_line_string),
	(gtk_playlist_add_m3u), (gtk_playlist_add_pls),
	(gtk_playlist_add_mrl): added code to support shoutcast playlists
	* src/totem.c: (totem_action_error), (on_error_event): only show an
	error dialog if there isn't another one, and if the playlist is at the
	end

2002-10-11  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (eel_read_entire_file), (drop_cb),
	(gtk_playlist_add_files), (gtk_playlist_add_one_mrl),
	(gtk_playlist_add_m3u), (gtk_playlist_add_pls),
	(gtk_playlist_add_mrl):
	* src/gtk-playlist.h:
	* src/totem.c: (drop_cb), (on_recent_file_activate),
	(totem_action_open_files): m3u working on http URIs, possibility to
	set a display name already, when adding an mrl

2002-10-10  Bastien Nocera  <hadess@hadess.net>

	* data/totem.applications:
	* data/totem.keys: upd for m3u and shoutcast playlists support
	* src/gtk-playlist.c: (drop_cb), (gtk_playlist_add_one_mrl),
	(gtk_playlist_add_m3u), (gtk_playlist_add_mrl):
	* src/totem.c: (totem_action_open_files): m3u playlists
	support, shoutcast playlist to be done

2002-10-09  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-message.c: (selection_get_func),
	(clipboard_received_func), (gtk_program_register): updated
	* src/totem.c: (on_error_event): stop when video isn't supported

2002-10-06  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: upd
	* src/gtk-message.[ch]: added
	* src/gtk-playlist.c: (drop_cb): upd
	* src/gtk-xine.c: (gtk_xine_ratio_fits_screen): fix warnings
	* src/totem.c: (totem_action_fullscreen_toggle), (drop_cb),
	(on_error_event), (totem_callback_connect), (main): cleanups

2002-10-05  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_mrl_to_title): added this function
	to modify the URI for display
	* src/gtk-playlist.h: added
	* src/totem.c: (totem_action_set_mrl), (drop_cb): upd, and fixed drop
	crasher bug

2002-10-04  Bastien Nocera  <hadess@hadess.net>

	* .cvsignore: upd
	* README: upd
	* configure.in: upd for 0.11 (soon)
	* src/gtk-playlist.c: (drop_cb):
	* src/totem.c: (drop_cb): change g_filename_from_uri to
	gnome_vfs_get_local_path_from_uri which doesn't whine so much about my
	broken filenames

2002-10-03  Bastien Nocera  <hadess@hadess.net>

	* data/totem.applications: added http back
	* src/Makefile.am: upd for CVS libegg

2002-10-02  Bastien Nocera  <hadess@hadess.net>

	* data/totem.schemas.in: added launch_once
	* src/Makefile.am: upd for libegg changes

2002-09-30  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am: added totem.spec.in and co
	* configure.in: generate totem.spec
	* totem.spec.in: added, thanks to Matthias Saou <matthias@rpmforge.net>

2002-09-27  James Willcox  <jwillcox@gnome.org>

	* src/totem.c: (totem_setup_recent):  Adjust to API changes in the
	recent-file code, and show the mime-type icons in the menu.

2002-09-23  James Willcox  <jwillcox@gnome.org>

	* data/lirc_example:  Added an example lirc file

2002-09-23  James Willcox  <jwillcox@gnome.org>

	Moved to lirc instead of irman for remote stuff.  New TotemRemote
	object.

	* acconfig.h:  s/TOTEM_IRMAN/TOTEM_REMOTE/
	* configure.in: check for lirc
	* src/Makefile.am:  remove totem-irman.[ch], add totem-remote.[ch]
	* src/totem-irman.c:  bye bye
	* src/totem-irman.h:
	* src/totem-remote.c: (totem_lirc_to_command),
	(totem_remote_read_code), (totem_remote_finalize),
	(totem_remote_class_init), (totem_remote_init),
	(totem_remote_get_type), (totem_remote_new):
	* src/totem-remote.h:
	* src/totem.c: (on_recent_file_activate),
	(totem_button_pressed_remote_cb), (totem_setup_recent), (main):

2002-09-23  Peteris Krisjanis <peteris.krisjanis@os.lv>

	* configure.in: Added Latvian (lv) to ALL_LINGUAS.

2002-09-23  Bastien Nocera  <hadess@hadess.net>

	* data/totem.desktop.in: mark Comment and Name as translatable
	* data/totem.glade: add a mnemonic to the Sound menu
	(patches from Pier Luigi Fiorini <plfiorini@supereva.it>)

2002-09-21  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in (ALL_LINGUAS): Added "no".
	
2002-09-16  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Vietnamese (vi) to ALL_LINGUAS

2002-09-15  Bastien Nocera  <hadess@hadess.net>

	* data/totem.schemas.in: added /apps/totem/auto_resize
	* src/gtk-xine.c: (frame_output_cb), (gtk_xine_idle_signal),
	(gtk_xine_ratio_fits_screen), (gtk_xine_set_scale_ratio):
	implement automatically changing the ratio when the video changes size
	(Closes: #92320)

2002-09-15  Bastien Nocera  <hadess@hadess.net>

	* configure.in: Added "ru" to ALL_LINGUAS.

2002-09-14  James Willcox  <jwillcox@gnome.org>

	* configure.in:  Remove uuid dependency

2002-09-11  James Willcox  <jwillcox@gnome.org>

	* data/totem.glade:  Removed the "Open Recent" submenu, and fixed a
	typo for "Next Stream" and "Previous Stream" (the keybindings were
	reversed)
	* src/totem.c: (totem_setup_recent):  Put recent items directly
	into the "Movie" menu, not in a submenu.

2002-09-10  Gustavo Maciel Dias Vieira  <gdvieira@zaz.com.br>

	* configure.in: Added pt_BR to ALL_LINGUAS.

2002-09-08  Hasbullah Bin Pit  <sebol@ikhlas.com>

        * configure.in: Added "ms"  and "da" to ALL_LINGUAS.

2002-09-05  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: fix Makefile.am for sloppy snorp ;)

2002-09-05  Bastien Nocera  <hadess@hadess.net>

	* configure.in: fixes for the irman tests for autoconf 2.53

2002-09-05  James Willcox  <jwillcox@gnome.org>

	* src/totem.c:  Make most of the actions public, and namespace them
	properly.

	* src/totem-irman.[ch]:  New files, adds support for the irman device

	* configure.in:  Check for irman library, headers, etc.

2002-09-04  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (toggle_playlist_from_playlist): patch by sebastien
	bacher <sebastien.bacher@insa-lyon.fr> to kill a crash bug when closing
	the playlist from the window manager

2002-09-03  James Willcox  <jwillcox@gnome.org>

	* src/totem.c (on_recent_file_activate):  Don't convert the URI to a
	local path.  Re-add the item to the list.

2002-09-03  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: oops, fix cut'n'paste PEBCAK

2002-09-03  Bastien Nocera  <hadess@hadess.net>

	* src/.cvsignore: upd
	* configure.in:
	* data/totem.glade:
	* src/Makefile.am:
	* src/totem.c: (on_recent_file_activate), (action_open_files),
	(totem_setup_recent), (main):
	* src/update-from-egg.sh: merge in big patch by James Willcox
	<jwillcox@gnome.org> for "Recent files" support, added Makefile.am
	fu for CVS users

2002-09-03  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "sv" to ALL_LINGUAS.

2002-09-02  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_class_init): initialise the
	parent_class, fixes a crash bug when closing the playlist from the wm
	close button. (thanks to Sebastien Bacher <seb128@debian.org> for help
	on this one)

============ Version 0.10.0

2002-08-31  Bastien Nocera  <hadess@hadess.net>

	* data/totem.applications: remove http from the list of supported URI
	schemes, it crashes and burn with xine 0.9.13 (release)

2002-08-31  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (action_handle_key): added ?œ as a key to put the scale
	ratio at (guess ?) ?œ of the original size (enhancement request by
	Hakon G <hakon_@everyday.com>)
	* README: upd

2002-08-31  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (xine_thread), (gtk_xine_idle_signal),
	(gtk_xine_set_fullscreen): made the fullscreen window a transient
	window for the main UI (the totem UI won't go over the top of the
	fullscreen window). All the keyboard commands available in fullscreen
	are still available (Closes: #92090)

2002-08-29  Bastien Nocera  <hadess@hadess.net>

	* src/video-utils.c: (old_wmspec_set_fullscreen),
	(gdk_window_set_fullscreen): add support for the old wm-spec, not
	tested (Closes: #91937)

2002-08-29  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_add_files),
	(gtk_playlist_init):
	* src/totem.c: (on_open1_activate): make file selectors remember the
	path they were in (Closes: #91894)

2002-08-29  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_class_init), (gtk_xine_instance_init),
	(video_window_translate_point), (xine_thread), (gtk_xine_realize),
	(gtk_xine_idle_signal), (xine_event), (gtk_xine_set_fullscreen):
	* src/gtk-xine.h: kill the use of GtkInvisible for the fullscreen
	window (this fixes the DVD menus in fullscreen), and handle the key
	presses in the xine_thread, kill the GC
	* src/totem.c: (action_handle_key), (on_video_key_release_event),
	(on_window_key_press_event), (totem_callback_connect),
	(video_widget_create): some cleanups in the kbd handling, and upd wrt
	changes in GtkXine

2002-08-28  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_finalize): add a bit more checks
	* src/gtk-xine.c: (video_window_translate_point),
	(generate_mouse_event), (xine_thread): add generation of the necessary
	xine mouse events to make DVD menus work

2002-08-28  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (frame_output_cb), (xine_thread):
	re-enable Expose event compression, should fix weird slow-downs

2002-08-28  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* data/Makefile.am: desktop_in_files in the EXTRA_DIST, not
	desktop_DATA

2002-08-28  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_get_mrls):
	* src/gtk-xine.h: return const char **
	* src/totem.c: (action_play_media): don't g_strfreev the mrls,
	and actually add them to the playlist, works better

2002-08-27  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_instance_init),
	(load_audio_out_driver), (gtk_xine_realize),
	(gtk_xine_is_fullscreen), (gtk_xine_get_current_time),
	(gtk_xine_get_stream_length), (gtk_xine_is_playing),
	(gtk_xine_is_seekable), (gtk_xine_can_play), (gtk_xine_get_mrls):
	* src/gtk-xine.h:
	* src/totem.c: (action_play_media), (drop_cb), (action_open_files),
	(on_play_dvd1_activate), (on_play_vcd1_activate),
	(totem_callback_connect), (video_widget_create):
	We should now be able to play DVDs and VCDs, please test,
	killed a bunch of mem leaks by the same token

2002-08-27  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (frame_output_cb), (gtk_xine_set_scale_ratio):
	fix the zooming so that it doesn't use xine_get_current_frame () (and
	leak like mad ;)

2002-08-27  Bastien Nocera  <hadess@hadess.net>

	* configure.in: pump up the minimum Xine version number to 0.9.13
	* src/gtk-xine.c: (gtk_xine_class_init), (xine_thread),
	(gtk_xine_realize), (key_press_event_cb),
	(gtk_xine_set_fullscreen): use non-deprecated call instead of
	gtk_type_new, kill the priv->toplevel window, remove all usage
	of XSetInputFocus with RevertToNone, make the fullscreen window grab
	keypresses by itself
	* src/gtk-xine.h: add key-press signal
	* src/totem.c: (totem_callback_connect), (video_widget_create):
	ditto

2002-08-27  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (gtk_xine_finalize), (load_video_out_driver),
	(load_audio_out_driver), (load_config_from_gconf), (xine_thread),
	(gtk_xine_realize), (gtk_xine_idle_signal), (gtk_xine_new),
	(gtk_xine_set_fullscreen), (gtk_xine_can_set_volume),
	(gtk_xine_set_scale_ratio): revert to a 0.9.1 state with these
	differences:
	- translate the fullscreen video window title
	- kill ->priv->fullscreen_width/height
	- fix a possible crash on exit bug
	- a bit of gdk-ification in the full-screen handling
	* src/gtk-xine.h: remove the xine.h include
	* src/video-utils.c: (wmspec_change_state),
	(gdk_window_set_fullscreen): upd

2002-08-26  Bastien Nocera  <hadess@hadess.net>

	* README: add snippet about black fullscreen bug
	* configure.in: added es to ALL_LINGUAS from Ricardo Mones Lastra
	<mones@trasgu.aic.uniovi.es>
	* src/gtk-xine.c: (load_config_from_gconf), (xine_thread),
	(gtk_xine_realize), (gtk_xine_idle_signal),
	(gtk_xine_set_fullscreen), (gtk_xine_set_scale_ratio):
	kill ->gc, some cleanups, re-enable some hacks so it keeps working,
	possible crash on exit fix from Hallski

2002-08-26  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade:
	* src/totem.c: (action_set_mrl): get the sensitivity right on the
	next/previous, and skip buttons

2002-08-25  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (dest_size_cb), (frame_output_cb), (xine_thread),
	(gtk_xine_realize), (gtk_xine_set_fullscreen),
	(gtk_xine_set_scale_ratio): kill fullscreen_width/height and the
	toplevel Window
	* src/video-utils.c: (wmspec_change_state),
	(gdk_window_set_fullscreen), (eel_gdk_window_set_invisible_cursor):
	* src/video-utils.h: some bug fixes wrt fullscreen

2002-08-25  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (load_video_out_driver), (load_audio_out_driver),
	(gtk_xine_realize), (gtk_xine_set_fullscreen),
	(gtk_xine_set_show_cursor): some little leaks plugged, use a GdkWindow
	for the full-screen window
	* src/video-utils.c: (wmspec_change_gdk_window_state),
	(gdk_window_set_fullscreen), (eel_gdk_window_set_invisible_cursor):
	borrow eel's cursor hiding stuff, use GdkWindows when possible
	* src/video-utils.h: api change

2002-08-25  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (load_video_out_driver), (gtk_xine_realize):
	use the gdk functions instead of the X ones when possible

2002-08-24  Christian Neumair  <christian-neumair@web.de>

	* configure.in (ALL_LINGUAS): Added German (de).

============ Version 0.9.1

2002-08-24  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* configure.in: 0.9.1
	* data/.cvsignore: upd
	* data/Makefile.am: upd
	* data/gtk-xine.schemas.in: removed
	* data/totem.schemas.in: added
	* src/gtk-xine.c: (load_config_from_gconf): change default
	* src/scrsaver.c: (fake_event), (scrsaver_disable),
	(scrsaver_enable): cleanups

============ Version 0.9

2002-08-24  Bastien Nocera  <hadess@hadess.net>

	* README: added 0.9 release details
	* configure.in: 0.9

2002-08-24  Bastien Nocera  <hadess@hadess.net>

	* data/totem.glade: disable DVD and VCD, as there's no code behind
	them yet

2002-08-24  Bastien Nocera  <hadess@hadess.net>

	* README:
	* data/totem.glade: added 1:2 zoom
	* src/gtk-xine.c: (gtk_xine_set_scale_ratio): implement with mucho
	hackery... but it works (whee!)
	* src/gtk-xine.h:
	* src/totem.c: (action_set_scale_ratio), (on_zoom_1_2_activate),
	(on_zoom_1_1_activate), (on_zoom_2_1_activate): implement these
	and add the 0,1 and 2 shortcuts

2002-08-24  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/gtk-xine.c: 
	* src/video-utils.c: (xwindow_set_fullscreen):
	* src/video-utils.h: move the fullscreen stuff to video-utils.[ch]

2002-08-23  Bastien Nocera  <hadess@hadess.net>

	* acconfig.h: added
	* configure.in: added tests for XTest
	* src/Makefile.am: added src/scrsaver.[ch]
	* src/gtk-xine.c: (xine_thread), (gtk_xine_realize),
	(gtk_xine_set_fullscreen): should disable the screensaver when playing
	full-screen now
	* src/scrsaver.c, src/scrsaver.h: nicked and adapted from sinek

2002-08-22  Bastien Nocera  <hadess@hadess.net>

	* data/totem.applications: add more supported URIs (http, mms...)
	* src/gtk-xine.c: (x_window_is_visible), (xine_thread),
	(gtk_xine_unrealize), (gtk_xine_toggle_aspect_ratio),
	(gtk_xine_set_scale_ratio): fix crashing bug when switching back and
	forth to a desktop with a fullscreen video on it, added non-working
	gtk_xine_set_scale_ratio api
	* src/gtk-xine.h:added non-working gtk_xine_set_scale_ratio api
	* README: added url for bugzilla

2002-08-15  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/totem.c: (drop_cb), (action_open_files):
	update the previous/next button when starting up on the cli

2002-08-12  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* data/.cvsignore: upd
	* data/Makefile.am:
	* data/gtk-xine.schemas.in: added
	* src/gtk-xine.c: (gtk_xine_finalize), (load_config_from_gconf),
	(gtk_xine_unrealize): fix configuration saving, beginnings of the
	configuration work
	* src/totem.c: (update_sliders_cb): update the volume pixmap if the
	volume was changed by an external source

2002-08-10  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* data/playlist.glade: moved the add and remove buttons together
	* data/totem.glade: some UI stuff, not implemented yet
	* src/gtk-xine.c:
	* src/gtk-xine.h: removed gtk_xine_save_config ()

2002-08-09  Bastien Nocera  <hadess@hadess.net>

	* data/Makefile.am:
	* data/totem_logo.mpv: add new nifty logo
	* src/gtk-xine.c: (gtk_xine_class_init), (gtk_xine_finalize),
	(load_audio_out_driver), (load_config_from_gconf),
	(gtk_xine_realize), (gtk_xine_unrealize): beginnings of the the
	configuration stuff, and support new logo, fixes related to object
	destruction (should work ok now)
	* src/totem.c: (action_exit), (main_window_destroy_cb),
	(totem_callback_connect), (video_widget_create): fix exiting properly

2002-08-07  Bastien Nocera  <hadess@hadess.net>

	* .cvsignore: upd
	* src/totem.c: (action_play), (drop_cb), (on_open1_activate),
	(playlist_changed_cb): playlist fixes (dropping files, and open
	dialog)

2002-08-07  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am:
	* README:
	* configure.in:
	* data/*: moved the arch-all stuff to data/, add a user-install target
	for users to install the Nautilus configs if necessary, upd README,
	change the previous and next button to the proper ones

2002-08-07  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/gtk-xine.c: (gtk_xine_instance_init), (xine_thread),
	(gtk_xine_realize), (gtk_xine_new), (gtk_xine_check):
	* src/gtk-xine.h: add width and height args to gtk_xine_new,
	make gtk_xine_check do something useful
	* src/totem.c: (long_action), (action_error), (action_play),
	(action_play_pause), (action_fullscreen_toggle),
	(update_sliders_cb), (action_open_files), (on_error_event),
	(video_widget_create), (main): wait until Xine is up to make it play
	movies (using gtk_xine_check), mucho error dialog work.
	* src/totem.desktop.in: s/Media Player/Totem Movie Player/
	* src/totem.glade: move the sliders at 0 by default

2002-08-07  Bastien Nocera  <hadess@hadess.net>

	* configure.in: added it to ALL_LINGUAS

2002-08-07  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-xine.c: (dest_size_cb), (frame_output_cb),
	(load_video_out_driver), (xine_thread), (configure_cb),
	(gtk_xine_realize), (gtk_xine_size_allocate):
	g_strfreev is nice, and fix some brain damage in configure_cb

2002-08-07  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/.cvsignore: added the marshal generated files
	* src/Makefile.am: upd
	* src/debug.h: fix declaration of TE and TL
	* src/gtk-xine.c:
	* src/gtk-xine.h: plenty of small fixes, and cleanups
	* src/totem.c: create the video widget after the window has been
	shown (should make it feel faster on slow machines), remove
	long_action()
	* src/totem.glade: make the video widget be at a 4:3 ratio by default

2002-08-06  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: added the marshal list
	* src/gtk-xine.c: (gtk_xine_class_init), (gtk_xine_instance_init),
	(gtk_xine_realize), (gtk_xine_idle_signal), (xine_event),
	(codec_reporting), (xine_error):
	* src/gtk-xine.h:
	* src/gtkxine-marshal.list: marshals
	* src/totem.c: (play_pause_set_label), (action_set_mrl),
	(action_previous), (action_next), (playlist_changed_cb),
	(current_removed_cb), (on_eos_event), (on_error_event),
	(video_widget_create), (main): mucho work wrt threading, deadlocks,
	etc. All the deadlocks should now be gone, the player itself probably
	behaves a bit bizzarely right now, I'll fix it soon.
	Thanks to Steve Baker and Owen Taylor for their great help.

2002-08-05  Bastien Nocera  <hadess@hadess.net>

	* README:
	* src/gtk-xine.c: (xine_error):
	* src/totem.c: (action_stop), (action_previous), (action_next),
	(on_about1_activate), (playlist_changed_cb), (main):
	added Guenter to the authors, fix typos (thanks Christophe Fergeau)
	add some commented out code that's buggy, damn threads

2002-08-04  Christophe Fergeau  <teuf@users.sourceforge.net>

	* configure.in: added fr.po 

2002-08-04  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/debug.h: added threads debugging
	* src/gtk-xine.c: (gtk_xine_class_init): moved threads init here
	* src/totem.applications:
	* src/totem.keys: added wav and fli handling
	* src/totem.c: (on_eos_event), (main): upd
	* src/totem.glade: add a Play DVD item, just to see

2002-08-02  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/gtk-playlist.c: (gtk_playlist_set_playing):
	* src/gtk-playlist.h: change the args for gtk_playlist_set_playing
	* src/gtk-xine.c: (gtk_xine_class_init), (gtk_xine_realize),
	(xine_error):
	* src/gtk-xine.h: add signals for the playing errors
	* src/totem.c: (action_set_mrl), (playlist_changed_cb),
	(on_play_error_event), (video_widget_create), (main):
	add crude error reporting, upd against gtk_playlist_set_playing
	API change

2002-08-02  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* configure.in: v0.8
	* src/Makefile.am: added totem.applications
	* src/totem.applications: addded, fixing nautilus integration
	* src/totem.c: (playlist_changed_cb): fixed dnd'ing a file that's
	already playing on the main window
	* src/totem.desktop.in: fixed pixmap location

2002-08-02  Bastien Nocera  <hadess@hadess.net>

	* README: 
	* configure.in:
	* src/Makefile.am:
	* src/gtk-playlist.c: (gtk_playlist_get_type),
	(gtk_playlist_finalize):
	* src/rb-ellipsizing-label.[ch]:
	* src/totem.c: (action_play_pause), (action_set_mrl),
	(label_create): removed eel dependency, made the title label bigger

2002-08-01  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (drop_cb), (init_treeview),
	(gtk_playlist_new): added dnd
	* src/gtk-playlist.h:
	* src/totem.c: (action_play), (action_play_pause),
	(action_set_mrl), (drop_cb), (on_play_pause_button_clicked),
	(action_open_files), (on_about1_activate), (playlist_changed_cb),
	(current_removed_cb), (on_eos_event), (video_widget_create),
	(totem_callback_connect): s/GTK_OBJECT/G_OBJECT/g, start playing when
	file is dropped on us, and more dnd related fixes

2002-08-01  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (volume_set_image), (action_set_mrl),
	(action_seek_relative), (action_volume_relative), (vol_cb):
	update the volume icon when the volume changes

2002-08-01  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: upd
	* src/gtk-xine.c: (xine_thread): remove extraneous debug
	* src/rhythmbox-volume-max.png:
	* src/rhythmbox-volume-medium.png:
	* src/rhythmbox-volume-min.png:
	* src/rhythmbox-volume-zero.png: added
	* src/stock_media_previous.png:
	* src/stock_media_next.png: change style to fwd/rwd
	* src/stock_media_pause.png:
	* src/stock_media_play.png: added
	* src/stock_media_play_pause.png:
	* src/stock_media_play_pause.xcf: removed
	* src/tb_volume.xpm:
	* src/tb_volume_off.xpm: removed
	* src/totem.c: (play_pause_set_label), (action_play),
	(action_play_pause), (action_set_mrl), (action_seek_relative),
	(on_play_pause_button_toggled), (seek_cb), (current_removed_cb),
	(on_eos_event), (totem_callback_connect), (main):
	* src/totem.glade: made the play/pause toggle a simple button and
	change the image depending on the status, moved the buttons to be in
	the same order as RB, started fixing the volume control

2002-08-01  Bastien Nocera  <hadess@hadess.net>

	* README:
	* src/Makefile.am:
	* src/gtk-playlist.c: (init_columns), (gtk_playlist_new):
	* src/gtk-xine.c: (gtk_xine_toggle_aspect_ratio):
	* src/gtk-xine.h:
	* src/totem.c: (action_exit), (play_pause_toggle_disconnected),
	(action_toggle_aspect_ratio), (on_toggle_aspect_ratio1_activate),
	(on_about1_activate), (on_window_key_press_event),
	(video_widget_create), (totem_callback_connect), (main):
	s/GTK_SIGNAL_FUNC/G_CALLBACK/g, added aspect ratio toggling (wishlisted
	by Michele Campeotto), use locate_file correctly
	* src/totem.glade: GUI for aspect ratio toggling

2002-07-31  Bastien Nocera  <hadess@hadess.net>

	* configure.in: added --disable-debug flag
	* src/Makefile.am:
	* src/debug.h: added
	* src/gtk-playlist.c: (gtk_playlist_foreach_selected):
	* src/gtk-xine.c: (load_audio_out_driver), (xine_thread),
	(configure_cb), (gtk_xine_realize), (gtk_xine_size_allocate),
	(gtk_xine_play):
	* src/totem.c: (main): make use of shared debug macros, fix some build
	issues

2002-07-31  Bastien Nocera  <hadess@hadess.net>

	* src/totem.c: (action_error), (main): added more checks for the
	interface loading, so that we fail gracefully if it doesn't work
	Thanks thomasvs for pushing me into doing it

2002-07-31  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am:
	* README, NEWS, AUTHORS: upd
	* src/Makefile.am: forgot to add totem.keys
	* src/totem.c: (drop_cb), (on_about1_activate): fix the DND on the
	main controls

2002-07-31  Bastien Nocera  <hadess@hadess.net>

	* configure.in: upd to 0.7 (RELEASE!!!)
	* src/gtk-playlist.c:  disabled debug by default
	* src/totem.c: (disable_error_output), (playlist_changed_cb),
	(current_removed_cb), (main): added some way to kill off all of
	xine's debug output

2002-07-31  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_tree_model_iter_previous),
	(update_current_from_playlist), (gtk_playlist_add_files),
	(gtk_playlist_foreach_selected), (gtk_playlist_remove_files),
	(init_columns), (init_treeview), (gtk_playlist_init),
	(gtk_playlist_finalize), (gtk_playlist_new),
	(gtk_playlist_add_mrl), (gtk_playlist_clear),
	(gtk_playlist_get_current_mrl), (gtk_playlist_has_previous_mrl),
	(gtk_playlist_has_next_mrl), (gtk_playlist_set_playing),
	(gtk_playlist_unset_playing), (gtk_playlist_set_previous),
	(gtk_playlist_set_next), (gtk_playlist_set_at_start),
	(gtk_playlist_class_init): added debug, make items removal work,
	fix warnings wrt signal emission, fix last item's removal
	* src/totem.c: (action_exit), (current_removed_cb),
	(totem_callback_connect): make items removal work as it should

2002-07-31  Bastien Nocera  <hadess@hadess.net>

	* .cvsignore:
	* po/.cvsignore:
	* src/.cvsignore: added
	* src/gtk-playlist.c: (gtk_tree_model_iter_previous),
	(gtk_playlist_add_files), (gtk_playlist_foreach_selected),
	(gtk_playlist_remove_files), (init_treeview), (gtk_playlist_init),
	(gtk_playlist_finalize), (gtk_playlist_new),
	(gtk_playlist_add_mrl), (gtk_playlist_clear),
	(gtk_playlist_get_current_mrl), (gtk_playlist_has_previous_mrl),
	(gtk_playlist_has_next_mrl), (gtk_playlist_set_playing),
	(gtk_playlist_unset_playing), (gtk_playlist_set_previous),
	(gtk_playlist_set_next), (gtk_playlist_set_at_start),
	(gtk_playlist_class_init): s/details/_priv/, added "changed" and
	"current_removed" signals, made the add and remove buttons functional,
	added checks for the glade UI, convert the filename to utf8 before
	displaying them in the tree
	(mucho crashes with remove still), 
	* src/gtk-playlist.h: same
	* src/playlist.glade: upd
	* src/totem.c: (long_action), (action_exit), (action_open_files),
	(on_open1_activate), (playlist_changed_cb), (current_removed_cb),
	(totem_callback_connect), (main): allow multiple files selection in
	the open dialog

2002-07-31  Bastien Nocera  <hadess@hadess.net>

	* README: upd
	* src/gtk-playlist.c: (gtk_playlist_add_mrl), (gtk_playlist_clear):
	* src/gtk-playlist.h: add gtk_playlist_clear()
	* src/totem.c: (action_volume_relative), (update_sliders_cb),
	(seek_cb), (vol_cb), (on_open1_activate), (on_eos_event),
	(on_window_key_press_event), (update_buttons),
	(totem_callback_connect), (main): add volume control, remove debug,
	make open... work as it should (using the playlist), show the UI
	properly before starting the playback, update the next/previous
	buttons in the menus

2002-07-28  Bastien Nocera  <hadess@hadess.net>

	* src/gtk-playlist.c: (gtk_playlist_new),
	(gtk_playlist_unset_playing), (gtk_playlist_set_next),
	(gtk_playlist_set_at_start):
	* src/gtk-playlist.h:
	* src/totem.c: (play_pause_toggle_disconnected),
	(action_play_pause_real), (action_set_mrl), (action_previous),
	(action_next), (on_eos_event), (totem_callback_connect), (main):
	more playlist/eos work, now eo playlist and eo stream is handled
	correctly, all the deadlocks (that happened because of some nasty
	signals/threads interaction) are gone

2002-07-27  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am:
	* src/gtk-playlist.c: (gtk_playlist_new), (gtk_playlist_add_mrl),
	(gtk_playlist_set_playing), (gtk_playlist_unset_playing),
	(gtk_playlist_set_previous), (gtk_playlist_set_next):
	* src/gtk-playlist.h:
	* src/gtk-xine.c: (xine_error), (gtk_xine_play):
	* src/playlist-playing.png:
	* src/totem.c: (play_pause_toggle_disconnected),
	(action_play_pause_real), (action_set_mrl), (action_previous),
	(action_next), (on_previous_button_clicked),
	(on_next_button_clicked), (toggle_playlist_from_playlist),
	(on_window_key_press_event), (totem_callback_connect), (main):
	Cleanups, add real ability to skip backwards and forwards in the
	playlist. Yesh, yesh, it works!

2002-07-16  Bastien Nocera  <hadess@hadess.net>

	* configure.in: remove unneeded gob2 check

2002-07-16  Bastien Nocera  <hadess@hadess.net>

	* src/Makefile.am: use XINE_CFLAGS, not just CFLAGS
	* src/Makefile.in, Makefile.in, src/totem.desktop: removed

